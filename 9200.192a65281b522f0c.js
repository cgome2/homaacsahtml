"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[9200],{37425:(J,U,r)=>{r.d(U,{K:()=>i});var y=r(41777);const i=(0,y.X$)("scaleIn",[(0,y.eR)(":enter",[(0,y.oB)({transform:"scale(0)"}),(0,y.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,y.oB)({transform:"scale(1)"}))])])},8062:(J,U,r)=>{r.d(U,{m:()=>y});class y{constructor(s){this.invoice_id=s&&s.invoice_id||0,this.invoice_number1=s&&s.invoice_number1||"",this.invoice_number2=s&&s.invoice_number2||"",this.invoice_date=s&&s.invoice_date||"",this.invoice_timestamp=s&&s.invoice_timestamp||"",this.volume_unit_of_measure_id=s&&s.volume_unit_of_measure_id||0,this.temperature_unit_of_measure_id=s&&s.temperature_unit_of_measure_id||0,this.currency_id=s&&s.currency_id||0,this.currency_exchange_rate=s&&s.currency_exchange_rate||0,this.invoice_volume=s&&s.invoice_volume||0,this.invoice_volume_liters=s&&s.invoice_volume_liters||0,this.invoice_temperature=s&&s.invoice_temperature||0,this.invoice_temperature_celsius=s&&s.invoice_temperature_celsius||0,this.invoice_ppv=s&&s.invoice_ppv||0,this.invoice_ppv_pesos=s&&s.invoice_ppv_pesos||0,this.invoice_total_price=s&&s.invoice_total_price||0,this.invoice_total_price_pesos=s&&s.invoice_total_price_pesos||0,this.timestamp=s&&s.timestamp||"",this.status=s&&s.status||0,this.user_id=s&&s.user_id||0,this.cre_permission_id=s&&s.cre_permission_id||0,this.tarifa_de_almac=s&&s.tarifa_de_almac||0,this.cargo_por_capacidad_almac=s&&s.cargo_por_capacidad_almac||0,this.cargo_por_uso_almac=s&&s.cargo_por_uso_almac||0,this.cargo_volumetrico_almac=s&&s.cargo_volumetrico_almac||0,this.tarifa_de_transporte=s&&s.tarifa_de_transporte||0,this.cargo_por_capacidad_trans=s&&s.cargo_por_capacidad_trans||0,this.cargo_por_uso_trans=s&&s.cargo_por_uso_trans||0,this.cargo_volumetrico_trans=s&&s.cargo_volumetrico_trans||0,this.tarifa_de_suministro=s&&s.tarifa_de_suministro||0,this.Remissions=s&&s.Remissions||[],this.TankDeliveryReadings=s&&s.TankDeliveryReadings||[],this.WeighingMachineReadings=s&&s.WeighingMachineReadings||[],this.ChemicalProductAnalyses=s&&s.ChemicalProductAnalyses||[]}}},71936:(J,U,r)=>{r.d(U,{T:()=>y});class y{constructor(s){this.reception_id=s&&s.reception_id||0,this.site_code=s&&s.site_code||null,this.product_id=s&&s.product_id||null,this.cre_permission_provider_id=s&&s.cre_permission_provider_id||null,this.cre_permission_storage_id=s&&s.cre_permission_storage_id||null,this.cre_permission_transport_id=s&&s.cre_permission_transport_id||null,this.timestamp=s&&s.timestamp||null,this.status=s&&s.status||2,this.reception_date=s&&s.reception_date||null,this.aclaracion=s&&s.aclaracion||null,this.station_name=s&&s.station_name||null,this.provider_name=s&&s.provider_name||null,this.default_currency=s&&s.default_currency||null,this.currency=s&&s.currency||null,this.default_volume_unit_of_measure=s&&s.default_volume_unit_of_measure||null,this.volume_unit_of_measure=s&&s.volume_unit_of_measure||null,this.permission=s&&s.permission||null,this.rfc=s&&s.rfc||null,this.cre_permission_type=s&&s.cre_permission_type||null,this.documentation_tracking_type=s&&s.documentation_tracking_type||null,this.storage_provider_name=s&&s.storage_provider_name||null,this.transport_provider_name=s&&s.transport_provider_name||null,this.chemical_analysis_machine=s&&s.chemical_analysis_machine||!1,this.weighing_machine=s&&s.weighing_machine||!1,this.Invoices=s&&s.Invoices||[],this.Remissions=s&&s.Remissions||[],this.ChemicalProductAnalyses=s&&s.CheicalProductAnalyses||[],this.TankDeliveryReadings=s&&s.TankDeliveryReadings||[],this.WeighingMachineReadings=s&&s.WeighingMachineReadings||[],this.ReceptionDocuments=s&&s.ReceptionDocuments||[]}}},12644:(J,U,r)=>{r.d(U,{O:()=>y});class y{constructor(s){this.remission_id=s&&s.remission_id||0,this.identification_number=s&&s.identification_number||"",this.identification_number2=s&&s.identification_number2||"",this.remission_date=s&&s.remission_date||"",this.volume_unit_of_measure_id=s&&s.volume_unit_of_measure_id||0,this.temperature_unit_of_measure_id=s&&s.temperature_unit_of_measure_id||0,this.currency_id=s&&s.currency_id||0,this.currency_exchange_rate=s&&s.currency_exchange_rate||0,this.remission_volume=s&&s.remission_volume||0,this.remission_volume_liters=s&&s.remission_volume_liters||0,this.remission_temperature=s&&s.remission_temperature||0,this.remission_temperature_celsius=s&&s.remission_temperature_celsius||0,this.remission_ppv=s&&s.remission_ppv||0,this.remission_ppv_pesos=s&&s.remission_ppv_pesos||0,this.remission_total_price=s&&s.remission_total_price||0,this.remission_total_price_pesos=s&&s.remission_total_price_pesos||0,this.stamp1=s&&s.stamp1||"",this.stamp2=s&&s.stamp2||"",this.stamp3=s&&s.stamp3||"",this.stamp4=s&&s.stamp4||"",this.vehicle_number=s&&s.vehicle_number||"",this.vehicle_plate=s&&s.vehicle_plate||"",this.vehicle_axles_number=s&&s.vehicle_axles_number||0,this.nice=s&&s.nice||0,this.vehicle_tank_number=s&&s.vehicle_tank_number||0,this.timestamp=s&&s.timestamp||"",this.status=s&&s.status||0,this.user_id=s&&s.user_id||0,this.cre_permission_id=s&&s.cre_permission_id||0,this.TankDeliveryReadings=s&&s.TankDeliveryReadings||[],this.WeighingMachineReadings=s&&s.WeighingMachineReadings||[],this.ChemicalProductAnalyses=s&&s.ChemicalProductAnalyses||[]}}},15366:(J,U,r)=>{r.d(U,{g:()=>R});var y=r(48966),i=r(88914),s=r(37425),P=r(14499),e=r(5e3),h=r(59968),F=r(36551),c=r(25245),t=r(30277),m=r(93075),M=r(47423);const O=["productsModalForm"];let R=(()=>{class n{constructor(T,b){this.data=T,this.dialogRef=b,b.disableClose=!0}ngOnInit(){console.log(this.data)}close(){this.dialogRef.close()}}return n.\u0275fac=function(T){return new(T||n)(e.Y36(y.WI),e.Y36(y.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fury-form-wizard"]],viewQuery:function(T,b){if(1&T&&e.Gf(O,5),2&T){let L;e.iGM(L=e.CRH())&&(b._focusMe=L.first)}},decls:164,vars:28,consts:[[1,"title"],["svgIcon","chemistry"],["fxLayout","column","fxLayoutAlign","start center"],[1,"card"],[1,"heading"],[2,"width","400px"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","24px",2,"margin-top","20px"],["color","primary","mat-raised-button","",3,"click"]],template:function(T,b){1&T&&(e.TgZ(0,"fury-page"),e.TgZ(1,"fury-title",0),e._UZ(2,"mat-icon",1),e.TgZ(3,"span"),e._uU(4,"An\xe1lisis qu\xedmico de producto"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"form"),e.TgZ(8,"div",4),e._uU(9,"Resultados:"),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"tr"),e.TgZ(12,"td"),e.TgZ(13,"strong"),e._uU(14,"id:"),e.qZA(),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.qZA(),e.TgZ(17,"tr"),e.TgZ(18,"td"),e.TgZ(19,"strong"),e._uU(20,"Fecha:"),e.qZA(),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"tr"),e.TgZ(24,"td"),e.TgZ(25,"strong"),e._uU(26,"Producto:"),e.qZA(),e.qZA(),e.TgZ(27,"td"),e._uU(28),e.qZA(),e.qZA(),e.TgZ(29,"tr"),e.TgZ(30,"td"),e.TgZ(31,"strong"),e._uU(32,"M\xe1quina para an\xe1lisis qu\xedmico:"),e.qZA(),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td"),e.TgZ(37,"strong"),e._uU(38,"Proveedor:"),e.qZA(),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA(),e.qZA(),e.TgZ(41,"tr"),e.TgZ(42,"td"),e.TgZ(43,"strong"),e._uU(44,"Id estaci\xf3n:"),e.qZA(),e.qZA(),e.TgZ(45,"td"),e._uU(46),e.qZA(),e.qZA(),e.TgZ(47,"tr"),e.TgZ(48,"td"),e.TgZ(49,"strong"),e._uU(50,"Estaci\xf3n:"),e.qZA(),e.qZA(),e.TgZ(51,"td"),e._uU(52),e.qZA(),e.qZA(),e.TgZ(53,"tr"),e.TgZ(54,"td"),e.TgZ(55,"strong"),e._uU(56,"Muestra:"),e.qZA(),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA(),e.qZA(),e.TgZ(59,"tr"),e.TgZ(60,"td"),e.TgZ(61,"strong"),e._uU(62,"Operador:"),e.qZA(),e.qZA(),e.TgZ(63,"td"),e._uU(64),e.qZA(),e.qZA(),e.TgZ(65,"tr"),e.TgZ(66,"td"),e.TgZ(67,"strong"),e._uU(68,"sDens:"),e.qZA(),e.qZA(),e.TgZ(69,"td"),e._uU(70),e.qZA(),e.qZA(),e.TgZ(71,"tr"),e.TgZ(72,"td"),e.TgZ(73,"strong"),e._uU(74,"sTemp:"),e.qZA(),e.qZA(),e.TgZ(75,"td"),e._uU(76),e.qZA(),e.qZA(),e.TgZ(77,"tr"),e.TgZ(78,"td"),e.TgZ(79,"strong"),e._uU(80,"cetano:"),e.qZA(),e.qZA(),e.TgZ(81,"td"),e._uU(82),e.qZA(),e.qZA(),e.TgZ(83,"tr"),e.TgZ(84,"td"),e.TgZ(85,"strong"),e._uU(86,"cetanoIndex:"),e.qZA(),e.qZA(),e.TgZ(87,"td"),e._uU(88),e.qZA(),e.qZA(),e.TgZ(89,"tr"),e.TgZ(90,"td"),e.TgZ(91,"strong"),e._uU(92,"aromat:"),e.qZA(),e.qZA(),e.TgZ(93,"td"),e._uU(94),e.qZA(),e.qZA(),e.TgZ(95,"tr"),e.TgZ(96,"td"),e.TgZ(97,"strong"),e._uU(98,"fame:"),e.qZA(),e.qZA(),e.TgZ(99,"td"),e._uU(100),e.qZA(),e.qZA(),e.TgZ(101,"tr"),e.TgZ(102,"td"),e.TgZ(103,"strong"),e._uU(104,"oil:"),e.qZA(),e.qZA(),e.TgZ(105,"td"),e._uU(106),e.qZA(),e.qZA(),e.TgZ(107,"tr"),e.TgZ(108,"td"),e.TgZ(109,"strong"),e._uU(110,"ibp:"),e.qZA(),e.qZA(),e.TgZ(111,"td"),e._uU(112),e.qZA(),e.qZA(),e.TgZ(113,"tr"),e.TgZ(114,"td"),e.TgZ(115,"strong"),e._uU(116,"t10:"),e.qZA(),e.qZA(),e.TgZ(117,"td"),e._uU(118),e.qZA(),e.qZA(),e.TgZ(119,"tr"),e.TgZ(120,"td"),e.TgZ(121,"strong"),e._uU(122,"t50:"),e.qZA(),e.qZA(),e.TgZ(123,"td"),e._uU(124),e.qZA(),e.qZA(),e.TgZ(125,"tr"),e.TgZ(126,"td"),e.TgZ(127,"strong"),e._uU(128,"t90:"),e.qZA(),e.qZA(),e.TgZ(129,"td"),e._uU(130),e.qZA(),e.qZA(),e.TgZ(131,"tr"),e.TgZ(132,"td"),e.TgZ(133,"strong"),e._uU(134,"t95:"),e.qZA(),e.qZA(),e.TgZ(135,"td"),e._uU(136),e.qZA(),e.qZA(),e.TgZ(137,"tr"),e.TgZ(138,"td"),e.TgZ(139,"strong"),e._uU(140,"fbp:"),e.qZA(),e.qZA(),e.TgZ(141,"td"),e._uU(142),e.qZA(),e.qZA(),e.TgZ(143,"tr"),e.TgZ(144,"td"),e.TgZ(145,"strong"),e._uU(146,"maha:"),e.qZA(),e.qZA(),e.TgZ(147,"td"),e._uU(148),e.qZA(),e.qZA(),e.TgZ(149,"tr"),e.TgZ(150,"td"),e.TgZ(151,"strong"),e._uU(152,"cfpp:"),e.qZA(),e.qZA(),e.TgZ(153,"td"),e._uU(154),e.qZA(),e.qZA(),e.TgZ(155,"tr"),e.TgZ(156,"td"),e.TgZ(157,"strong"),e._uU(158,"visco:"),e.qZA(),e.qZA(),e.TgZ(159,"td"),e._uU(160),e.qZA(),e.qZA(),e.qZA(),e.TgZ(161,"div",6),e.TgZ(162,"button",7),e.NdJ("click",function(){return b.close()}),e._uU(163,"CERRAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&T&&(e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(1),e.Q6J("@fadeInRight",void 0),e.xp6(3),e.Q6J("@fadeInUp",void 0),e.xp6(10),e.Oqu(b.data.id),e.xp6(6),e.Oqu(b.data.date),e.xp6(6),e.Oqu(b.data.product_name),e.xp6(6),e.Oqu(b.data.chemical_analysis_machine_name),e.xp6(6),e.Oqu(b.data.provider_name),e.xp6(6),e.Oqu(b.data.site_code),e.xp6(6),e.Oqu(b.data.station_name),e.xp6(6),e.Oqu(b.data.sample),e.xp6(6),e.Oqu(b.data.operator),e.xp6(6),e.Oqu(b.data.sDens),e.xp6(6),e.Oqu(b.data.sTemp),e.xp6(6),e.Oqu(b.data.cetano),e.xp6(6),e.Oqu(b.data.cetanoIndex),e.xp6(6),e.Oqu(b.data.aromat),e.xp6(6),e.Oqu(b.data.fame),e.xp6(6),e.Oqu(b.data.oil),e.xp6(6),e.Oqu(b.data.ibp),e.xp6(6),e.Oqu(b.data.t10),e.xp6(6),e.Oqu(b.data.t50),e.xp6(6),e.Oqu(b.data.t90),e.xp6(6),e.Oqu(b.data.t95),e.xp6(6),e.Oqu(b.data.fbp),e.xp6(6),e.Oqu(b.data.maha),e.xp6(6),e.Oqu(b.data.cfpp),e.xp6(6),e.Oqu(b.data.visco))},directives:[h.i,F.M,c.Hw,t.xw,t.Wh,m._Y,m.JL,m.F,t.SQ,M.lW],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{overflow:scroll;margin:5px;max-width:100%;max-height:400px;border-radius:8px;padding:8px}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .text-icon[_ngcontent-%COMP%]{max-width:49.5%}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:14px;padding:24px 8px 0}"],data:{animation:[P.X,i.M,s.K]}}),n})()},53212:(J,U,r)=>{r.d(U,{K:()=>d});var y=r(70655),i=r(15366),s=r(48966),P=r(86087),e=r(84847),h=r(32075),F=r(20449),c=r(96831),t=r(92198),m=r(37425),M=r(88914),O=r(14499);class R{constructor(o){this.id=o&&o.id||null,this.date=o&&o.date||null,this.sample=o&&o.sample||null,this.operator=o&&o.operator||null,this.sDens=o&&o.sDens||null,this.sTemp=o&&o.sTemp||null,this.cetano=o&&o.cetano||null,this.cetanoIndex=o&&o.cetanoIndex||null,this.aromat=o&&o.aromat||null,this.fame=o&&o.fame||null,this.oil=o&&o.oil||null,this.ibp=o&&o.ibp||null,this.t10=o&&o.t10||null,this.t50=o&&o.t50||null,this.t90=o&&o.t90||null,this.t95=o&&o.t95||null,this.fbp=o&&o.fbp||null,this.maha=o&&o.maha||null,this.cfpp=o&&o.cfpp||null,this.visco=o&&o.visco||null,this.reception_id=o&&o.reception_id||null,this.product_id=o&&o.product_id||null,this.product_name=o&&o.product_name||null,this.chemical_analysis_machine_id=o&&o.chemical_analysis_machine_id||null,this.chemical_analysis_machine_name=o&&o.chemical_analysis_machine_name||null,this.cre_permission_id=o&&o.cre_permission_id||null,this.provider_name=o&&o.provider_name||null,this.site_code=o&&o.site_code||null,this.station_name=o&&o.station_name||null,this.status=o&&o.status||null}}var n=r(5e3),D=r(40520),T=r(98545),b=r(33344);let L=(()=>{class a{constructor(l,_){this.http=l,this.tokenStorage=_}getHeaders(){var l=new D.WM,_=this.tokenStorage.getToken();return l.set("token",_||"{}")}getAll(l,_,f,S,k){var B=this.getHeaders(),$="?site_code="+l;return $+="&status="+_,$+=f?"&reception_id="+f:"",$+=S?"&remission_id="+S:"",this.http.get(T._.settings.apiServer.API_URL_BASE+T._.settings.apiServer.CHEMICALS_PRODUCTS_ANALYSES+($+=k?"&invoice_id="+k:""),{headers:B})}assign(l,_,f,S){console.log("Hachina:",l);var k=this.getHeaders(),B="?reception_id="+l.reception_id;return B+="&site_code="+l.site_code,B+=f?"&invoice_id="+f.invoice_id:"",this.http.put(T._.settings.apiServer.API_URL_BASE+T._.settings.apiServer.CHEMICALS_PRODUCTS_ANALYSES+(B+=S?"&remission_id="+S.remission_id:""),_,{headers:k})}}return a.\u0275fac=function(l){return new(l||a)(n.LFG(D.eN),n.LFG(b.i))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Y=r(57261),N=r(97199),G=r(69808),z=r(75972),j=r(47423),H=r(25245),K=r(77446),Q=r(92181);function X(a,o){if(1&a&&(n.TgZ(0,"fury-card-header-subheading"),n._uU(1),n.qZA()),2&a){const l=n.oxw();n.xp6(1),n.hij(" ",l.title," disponibles ")}}function ee(a,o){if(1&a&&(n.TgZ(0,"fury-card-header-subheading"),n._uU(1),n.qZA()),2&a){const l=n.oxw();n.xp6(1),n.hij(" ",l.title," asignados ")}}function te(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){return n.CHM(l),n.oxw().addToDocument()}),n._UZ(1,"mat-icon",17),n.qZA()}2&a&&(n.xp6(1),n.Q6J("@scaleIn",void 0))}function ie(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){return n.CHM(l),n.oxw().close()}),n.TgZ(1,"mat-icon"),n._uU(2,"close"),n.qZA(),n.qZA()}}function V(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){return n.CHM(l),n.oxw().reload()}),n.TgZ(1,"mat-icon"),n._uU(2,"refresh"),n.qZA(),n.qZA()}}function ne(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"th",19),n.TgZ(1,"mat-checkbox",20),n.NdJ("change",function(f){n.CHM(l);const S=n.oxw();return f?S.masterToggle():null}),n.qZA(),n.qZA()}if(2&a){const l=n.oxw();n.xp6(1),n.Q6J("checked",l.selection.hasValue()&&l.isAllSelected())("indeterminate",l.selection.hasValue()&&!l.isAllSelected())}}function oe(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"td",21),n.TgZ(1,"mat-checkbox",22),n.NdJ("click",function(f){return f.stopPropagation()})("change",function(f){const k=n.CHM(l).$implicit,B=n.oxw();return f?B.selection.toggle(k):null}),n.qZA(),n.qZA()}if(2&a){const l=o.$implicit,_=n.oxw();n.xp6(1),n.Q6J("checked",_.selection.isSelected(l))}}function re(a,o){if(1&a&&(n.TgZ(0,"th",27),n._uU(1),n.qZA()),2&a){const l=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",l.name,"")}}function se(a,o){if(1&a&&(n.TgZ(0,"td",28),n._uU(1),n.qZA()),2&a){const l=o.$implicit,_=n.oxw(2).$implicit,f=n.oxw();n.xp6(1),n.Oqu(f.getLabel(_.name,l[_.property]))}}function E(a,o){if(1&a&&(n.ynx(0,24),n.YNc(1,re,2,1,"th",25),n.YNc(2,se,2,1,"td",26),n.BQk()),2&a){const l=n.oxw().$implicit;n.Q6J("matColumnDef",l.property)}}function w(a,o){if(1&a&&(n.ynx(0),n.YNc(1,E,3,1,"ng-container",23),n.BQk()),2&a){const l=o.$implicit;n.xp6(1),n.Q6J("ngIf",l.isModelProperty)}}function C(a,o){1&a&&n._UZ(0,"th",29)}function A(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",34),n.NdJ("click",function(){n.CHM(l);const f=n.oxw().$implicit;return n.oxw().delete(f)}),n.TgZ(1,"span"),n._uU(2,"Eliminar"),n.qZA(),n.qZA()}}function I(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"td",30),n.TgZ(1,"button",31),n.NdJ("click",function(f){return f.stopPropagation()}),n.TgZ(2,"mat-icon"),n._uU(3,"more_horiz"),n.qZA(),n.qZA(),n.TgZ(4,"mat-menu",32,33),n.TgZ(6,"button",34),n.NdJ("click",function(){const S=n.CHM(l).$implicit;return n.oxw().show(S)}),n.TgZ(7,"span"),n._uU(8,"Ver"),n.qZA(),n.qZA(),n.YNc(9,A,3,0,"button",35),n.qZA(),n.qZA()}if(2&a){const l=o.$implicit,_=n.MAs(5),f=n.oxw();n.xp6(1),n.Q6J("matMenuTriggerFor",_),n.xp6(8),n.Q6J("ngIf",2==l.status&&!f.view)}}function p(a,o){1&a&&n._UZ(0,"tr",36)}function g(a,o){1&a&&n._UZ(0,"tr",37)}let d=(()=>{class a{constructor(l,_,f,S,k){this.data=l,this.dialog=_,this.dialogRef=f,this._chemicalsProductsAnalysesService=S,this.snackbar=k,this.subject$=new c.t(1),this.data$=this.subject$.asObservable(),this.selection=new F.Ov(!0,[]),this.chemicals_products_analyses=[],this.title="An\xe1lisis qu\xedmicos de productos",this.columns=[{name:"Checkbox",property:"select",visible:!0},{name:"Id",property:"id",visible:!0,isModelProperty:!0},{name:"Fecha",property:"date",visible:!0,isModelProperty:!0},{name:"Muestra",property:"sample",visible:!0,isModelProperty:!0},{name:"Operador",property:"operator",visible:!1,isModelProperty:!0},{name:"Densidad",property:"sDens",visible:!1,isModelProperty:!0},{name:"Temperatura",property:"sTemp",visible:!1,isModelProperty:!0},{name:"Cetano",property:"cetano",visible:!1,isModelProperty:!0},{name:"Indice de cetano",property:"cetanoIndex",visible:!1,isModelProperty:!0},{name:"Aromat",property:"aromat",visible:!1,isModelProperty:!0},{name:"Fame",property:"fame",visible:!1,isModelProperty:!0},{name:"Oil",property:"oil",visible:!1,isModelProperty:!0},{name:"ibp",property:"ibp",visible:!1,isModelProperty:!0},{name:"t10",property:"t10",visible:!1,isModelProperty:!0},{name:"t50",property:"t50",visible:!1,isModelProperty:!0},{name:"t90",property:"t90",visible:!1,isModelProperty:!0},{name:"t95",property:"t95",visible:!1,isModelProperty:!0},{name:"fbp",property:"fbp",visible:!1,isModelProperty:!0},{name:"maha",property:"maha",visible:!1,isModelProperty:!0},{name:"cfpp",property:"cfpp",visible:!1,isModelProperty:!0},{name:"Viscosidad",property:"visco",visible:!1,isModelProperty:!0},{name:"Id recepci\xf3n",property:"reception_id",visible:!1,isModelProperty:!0},{name:"Id producto",property:"product_id",visible:!1,isModelProperty:!0},{name:"Producto",property:"product_name",visible:!0,isModelProperty:!0},{name:"Id m\xe1quina de an\xe1lisis",property:"chemical_analysis_machine_id",visible:!0,isModelProperty:!0},{name:"M\xe1quina de an\xe1lisis",property:"chemical_analysis_machine_name",visible:!0,isModelProperty:!0},{name:"Id proveedor",property:"cre_permission_id",visible:!1,isModelProperty:!0},{name:"Proveedor",property:"provider_name",visible:!0,isModelProperty:!0},{name:"Id estaci\xf3n",property:"site_code",visible:!1,isModelProperty:!0},{name:"Estaci\xf3n",property:"station_name",visible:!0,isModelProperty:!0},{name:"Estatus",property:"status",visible:!1,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getLabel(l,_){if(null!=l)return _}get visibleColumns(){return this.columns.filter(l=>l.visible).map(l=>l.property)}getRemoteData(){this._chemicalsProductsAnalysesService.getAll(this.reception.site_code,this.reception.status,this.reception.reception_id,null!=this.remission?this.remission.remission_id:null,null!=this.invoice?this.invoice.invoice_id:null).subscribe(l=>{this.chemicals_products_analyses=l,this.dataSource=new h.by(l),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},l=>{console.log(l)})}getData(){this.invoice?(this.chemicals_products_analyses=this.invoice.ChemicalProductAnalyses,this.dataSource=new h.by(this.invoice.ChemicalProductAnalyses)):this.remission&&(this.chemicals_products_analyses=this.remission.ChemicalProductAnalyses,this.dataSource=new h.by(this.remission.ChemicalProductAnalyses)),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnInit(){return(0,y.mG)(this,void 0,void 0,function*(){this.dataSource=new h.by,this.view?(this.reception=this.rec,this.getData()):(this.reception=this.data.reception,this.remission=this.data.remission?this.data.remission:null,this.invoice=this.data.invoice?this.data.invoice:null,this.getRemoteData()),this.data$.pipe((0,t.h)(l=>!!l)).subscribe(l=>{this.chemicals_products_analyses=l,this.dataSource.data=l})})}ngOnChanges(l){for(const _ in l)this[_]=l[_].currentValue,this.reload()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}addToDocument(){this._chemicalsProductsAnalysesService.assign(this.reception,this.selection.selected,this.invoice,this.remission).subscribe(l=>{this.selection.selected.forEach(_=>{this.chemical_product_analysis=new R(_),this.invoice?this.invoice.Remissions.length>0?this.reception.Invoices.find(f=>f.invoice_id==this.invoice.invoice_id).Remissions.find(f=>f.remission_id==this.remission.remission_id).ChemicalProductAnalyses.push(this.chemical_product_analysis):this.reception.Invoices.find(f=>f.invoice_id==this.invoice.invoice_id).ChemicalProductAnalyses.push(this.chemical_product_analysis):this.reception.Remissions.find(f=>f.remission_id==this.remission.remission_id).ChemicalProductAnalyses.push(this.chemical_product_analysis)}),this.snackbar.open(l.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.reception)},l=>{this.snackbar.open(l.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}close(){this.dialogRef.close()}onFilterChange(l){!this.dataSource||(l=(l=l.trim()).toLowerCase(),this.dataSource.filter=l)}show(l){this.dialog.open(i.g,{data:l}).afterClosed().subscribe(_=>{})}delete(l){}reload(){this.isLoading=!0,this.ngOnInit(),this.isLoading=!1}ngOnDestroy(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(l=>this.selection.select(l))}}return a.\u0275fac=function(l){return new(l||a)(n.Y36(s.WI),n.Y36(s.uw),n.Y36(s.so),n.Y36(L),n.Y36(Y.ux))},a.\u0275cmp=n.Xpm({type:a,selectors:[["chemicals-products-analyses-widget"]],viewQuery:function(l,_){if(1&l&&(n.Gf(P.NW,7),n.Gf(e.YE,7)),2&l){let f;n.iGM(f=n.CRH())&&(_.paginator=f.first),n.iGM(f=n.CRH())&&(_.sort=f.first)}},inputs:{invoice:"invoice",remission:"remission",view:"view",rec:"rec",columns:"columns"},features:[n.TTD],decls:23,vars:12,consts:[[4,"ngIf"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"card-content"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","style","width: 30px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"isLoading"],["mat-icon-button","","type","button",3,"click"],["svgIcon","attach_docs"],["mat-icon-button","",3,"click"],["mat-header-cell","",2,"width","30px"],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","style","padding: 5px",4,"matHeaderCellDef"],["mat-cell","","style","padding: 5px",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",2,"padding","5px"],["mat-cell","",2,"padding","5px"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(l,_){1&l&&(n.TgZ(0,"fury-card"),n.TgZ(1,"fury-card-header"),n.TgZ(2,"fury-card-header-heading"),n._uU(3),n.qZA(),n.YNc(4,X,2,1,"fury-card-header-subheading",0),n.YNc(5,ee,2,1,"fury-card-header-subheading",0),n.TgZ(6,"fury-card-header-actions"),n.YNc(7,te,2,1,"button",1),n.YNc(8,ie,3,0,"button",1),n.YNc(9,V,3,0,"button",2),n.qZA(),n.qZA(),n.TgZ(10,"fury-card-content",3),n.TgZ(11,"table",4),n.ynx(12,5),n.YNc(13,ne,2,2,"th",6),n.YNc(14,oe,2,1,"td",7),n.BQk(),n.YNc(15,w,2,1,"ng-container",8),n.ynx(16,9),n.YNc(17,C,1,0,"th",10),n.YNc(18,I,10,2,"td",11),n.BQk(),n.YNc(19,p,1,0,"tr",12),n.YNc(20,g,1,0,"tr",13),n.qZA(),n._UZ(21,"mat-paginator",14),n.qZA(),n._UZ(22,"fury-loading-overlay",15),n.qZA()),2&l&&(n.xp6(3),n.hij(" ",_.title," "),n.xp6(1),n.Q6J("ngIf",!_.view),n.xp6(1),n.Q6J("ngIf",_.view),n.xp6(2),n.Q6J("ngIf",!_.view&&2==_.reception.status),n.xp6(1),n.Q6J("ngIf",!_.view),n.xp6(1),n.Q6J("ngIf",!_.view&&2==_.reception.status),n.xp6(2),n.Q6J("dataSource",_.dataSource),n.xp6(4),n.Q6J("ngForOf",_.columns),n.xp6(4),n.Q6J("matHeaderRowDef",_.visibleColumns),n.xp6(1),n.Q6J("matRowDefColumns",_.visibleColumns),n.xp6(1),n.Q6J("pageSize",_.pageSize),n.xp6(1),n.Q6J("isLoading",_.isLoading))},directives:[N.i0,N.$X,N.eP,G.O5,N.OA,N.z8,h.BZ,e.YE,h.w1,h.fO,h.Dz,G.sg,h.as,h.nj,P.NW,z.d,N.lO,j.lW,H.Hw,h.ge,K.oG,h.ev,e.nU,Q.p6,Q.VK,Q.OP,h.XQ,h.Gk],styles:[".fury-card[_ngcontent-%COMP%]{background:#195fc7;color:#f5f5f5}.fury-card[_ngcontent-%COMP%]   .fury-card-header-subheading[_ngcontent-%COMP%]{color:#f5f5f5}.gain[_ngcontent-%COMP%]{margin-left:8px;font:var(--font-caption)}.gain[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.card-content[_ngcontent-%COMP%]{padding:0;overflow:scroll}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{padding:0 24px 24px}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--font-body-1);text-transform:uppercase}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font:var(--font-display-1)}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:3px;font-size:32px;height:32px;width:32px}.card-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:170px;max-width:100%;display:flex;flex:1;position:relative}"],data:{animation:[O.X,M.M,m.K]}}),a})()},76166:(J,U,r)=>{r.d(U,{E:()=>C});var y=r(70655),i=r(93075),s=r(48966),P=r(37425),e=r(14499),h=r(88914),F=r(8062),c=r(71936),t=r(5e3),m=r(57261),M=r(24629),O=r(95288),R=r(59968),n=r(36551),D=r(25245),T=r(30277),b=r(67322),L=r(74107),Y=r(69808),N=r(77531),G=r(86856),z=r(4834),j=r(47423),H=r(90508),K=r(11635),Q=r(86590),X=r(27702),ee=r(53212);function te(A,I){if(1&A&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&A){const p=I.$implicit;t.Q6J("value",p.permission_id),t.xp6(1),t.Oqu(p.provider_name)}}function ie(A,I){if(1&A&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&A){const p=I.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.unit_of_measure)}}function V(A,I){if(1&A&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&A){const p=I.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.unit_of_measure)}}function ne(A,I){if(1&A&&(t.TgZ(0,"mat-option",41),t._uU(1),t.qZA()),2&A){const p=I.$implicit;t.Q6J("value",p.id),t.xp6(1),t.Oqu(p.currency)}}function oe(A,I){if(1&A&&(t.TgZ(0,"div",42),t.TgZ(1,"div",43),t._UZ(2,"remissions-widget",44),t.qZA(),t.qZA()),2&A){const p=t.oxw();t.xp6(2),t.Q6J("rec",p.reception)("inv",p.theInvoice)("view",!0)}}function re(A,I){if(1&A&&(t.TgZ(0,"div",42),t.TgZ(1,"div",43),t._UZ(2,"tank-delivery-readings-widget",45),t.qZA(),t.qZA()),2&A){const p=t.oxw();t.xp6(2),t.Q6J("invoice",p.theInvoice)("rec",p.reception)("view",!0)}}function se(A,I){if(1&A&&(t.TgZ(0,"div",42),t.TgZ(1,"div",43),t._UZ(2,"weighing-machine-readings-widget",45),t.qZA(),t.qZA()),2&A){const p=t.oxw();t.xp6(2),t.Q6J("invoice",p.theInvoice)("rec",p.reception)("view",!0)}}function E(A,I){if(1&A&&(t.TgZ(0,"div",42),t.TgZ(1,"div",43),t._UZ(2,"chemicals-products-analyses-widget",45),t.qZA(),t.qZA()),2&A){const p=t.oxw();t.xp6(2),t.Q6J("invoice",p.theInvoice)("rec",p.reception)("view",!0)}}function w(A,I){if(1&A){const p=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){return t.CHM(p),t.oxw().submit()}),t._uU(1,"GUARDAR"),t.qZA()}if(2&A){const p=t.oxw();t.Q6J("disabled",p.generalFormGroup.invalid)}}let C=(()=>{class A{constructor(p,g,d,a,o){this.data=p,this.dialogRef=g,this.snackbar=d,this._invoicesService=a,this._crePermissionsService=o,this.active_label="Activo",this.allowCreateUser=!1,this.theInvoice=new F.m,this.current_temperature_unit_of_measure=11,this.volume_conversion_factor=1,this.view=!1,this.generalFormGroup=new i.cw({invoice_id:new i.NI,cre_permission_id:new i.NI("",[i.kI.required]),invoice_number1:new i.NI("",[i.kI.required]),invoice_number2:new i.NI,invoice_date:new i.NI("",[i.kI.required]),volume_unit_of_measure_id:new i.NI(1,[i.kI.required]),temperature_unit_of_measure_id:new i.NI(11,[i.kI.required]),currency_id:new i.NI(1,[i.kI.required]),currency_exchange_rate:new i.NI(1,[i.kI.required]),invoice_volume:new i.NI(0,[i.kI.required]),invoice_volume_liters:new i.NI(0,[i.kI.required]),invoice_temperature:new i.NI(0,[i.kI.required]),invoice_temperature_celsius:new i.NI(0,[i.kI.required]),invoice_ppv:new i.NI(0,[i.kI.required]),invoice_ppv_pesos:new i.NI(0,[i.kI.required]),invoice_total_price:new i.NI(0,[i.kI.required]),invoice_total_price_pesos:new i.NI(0,[i.kI.required]),timestamp:new i.NI,status:new i.NI(2),user_id:new i.NI(""),tarifa_de_almac:new i.NI(""),cargo_por_capacidad_almac:new i.NI(""),cargo_por_uso_almac:new i.NI(""),cargo_volumetrico_almac:new i.NI(""),tarifa_de_transporte:new i.NI(""),cargo_por_capacidad_trans:new i.NI(""),cargo_por_uso_trans:new i.NI(""),cargo_volumetrico_trans:new i.NI(""),tarifa_de_suministro:new i.NI("")}),this.dialogRef.disableClose=!0}ngOnInit(){return(0,y.mG)(this,void 0,void 0,function*(){console.log("Modal-invoices ngOnInit",this.data),this.reception=new c.T(this.data.reception),this.theInvoice=this.data.invoice.invoice_id>0?this.data.invoice:new F.m(this.reception.Invoices.find(p=>p.invoice_id==this.data.invoice.invoice_id)),this.view=this.data.view,this.vmus=yield this.getVolumeUnitsOfMeasure(),this.tmus=yield this.getTemperatureUnitsOfMeasure(),this.currencies=yield this.getCurrencies(),this.providers=yield this.getProviders(),0!=this.theInvoice.invoice_id?(this.theInvoice=this.data.invoice,this.generalFormGroup.patchValue({invoice_id:this.theInvoice.invoice_id,cre_permission_id:+this.theInvoice.cre_permission_id,invoice_number1:this.theInvoice.invoice_number1,invoice_number2:this.theInvoice.invoice_number2,invoice_date:new Date(this.theInvoice.invoice_date),volume_unit_of_measure_id:+this.theInvoice.volume_unit_of_measure_id,temperature_unit_of_measure_id:+this.theInvoice.temperature_unit_of_measure_id,currency_id:+this.theInvoice.currency_id,currency_exchange_rate:this.theInvoice.currency_exchange_rate,invoice_volume:this.theInvoice.invoice_volume,invoice_volume_liters:this.theInvoice.invoice_volume_liters,invoice_temperature:this.theInvoice.invoice_temperature,invoice_temperature_celsius:this.theInvoice.invoice_temperature_celsius,invoice_ppv:this.theInvoice.invoice_ppv,invoice_ppv_pesos:this.theInvoice.invoice_ppv_pesos,invoice_total_price:this.theInvoice.invoice_total_price,invoice_total_price_pesos:this.theInvoice.invoice_total_price_pesos,timestamp:this.theInvoice.timestamp,status:+this.theInvoice.status,user_id:this.theInvoice.user_id,tarifa_de_almac:this.theInvoice.tarifa_de_almac,cargo_por_capacidad_almac:this.theInvoice.cargo_por_capacidad_almac,cargo_por_uso_almac:this.theInvoice.cargo_por_uso_almac,cargo_volumetrico_almac:this.theInvoice.cargo_volumetrico_almac,tarifa_de_transporte:this.theInvoice.tarifa_de_transporte,cargo_por_capacidad_trans:this.theInvoice.cargo_por_capacidad_trans,cargo_por_uso_trans:this.theInvoice.cargo_por_uso_trans,cargo_volumetrico_trans:this.theInvoice.cargo_volumetrico_trans,tarifa_de_suministro:this.theInvoice.tarifa_de_suministro})):(this.generalFormGroup.controls.cre_permission_id.setValue(this.reception.cre_permission_provider_id),this.generalFormGroup.controls.volume_unit_of_measure_id.setValue(+this.reception.default_volume_unit_of_measure),this.generalFormGroup.controls.currency_id.setValue(+this.reception.default_currency),this.generalFormGroup.controls.status.setValue(+this.theInvoice.status)),this.generalFormGroup.controls.cre_permission_id.disable(),this.view&&(this.generalFormGroup.controls.invoice_id.disable(),this.generalFormGroup.controls.cre_permission_id.disable(),this.generalFormGroup.controls.invoice_number1.disable(),this.generalFormGroup.controls.invoice_number2.disable(),this.generalFormGroup.controls.invoice_date.disable(),this.generalFormGroup.controls.volume_unit_of_measure_id.disable(),this.generalFormGroup.controls.temperature_unit_of_measure_id.disable(),this.generalFormGroup.controls.currency_id.disable(),this.generalFormGroup.controls.currency_exchange_rate.disable(),this.generalFormGroup.controls.invoice_volume.disable(),this.generalFormGroup.controls.invoice_volume_liters.disable(),this.generalFormGroup.controls.invoice_temperature.disable(),this.generalFormGroup.controls.invoice_temperature_celsius.disable(),this.generalFormGroup.controls.invoice_ppv.disable(),this.generalFormGroup.controls.invoice_ppv_pesos.disable(),this.generalFormGroup.controls.invoice_total_price.disable(),this.generalFormGroup.controls.invoice_total_price_pesos.disable(),this.generalFormGroup.controls.timestamp.disable(),this.generalFormGroup.controls.status.disable(),this.generalFormGroup.controls.user_id.disable(),this.generalFormGroup.controls.tarifa_de_almac.disable(),this.generalFormGroup.controls.cargo_por_capacidad_almac.disable(),this.generalFormGroup.controls.cargo_por_uso_almac.disable(),this.generalFormGroup.controls.cargo_volumetrico_almac.disable(),this.generalFormGroup.controls.tarifa_de_transporte.disable(),this.generalFormGroup.controls.cargo_por_capacidad_trans.disable(),this.generalFormGroup.controls.cargo_por_uso_trans.disable(),this.generalFormGroup.controls.cargo_volumetrico_trans.disable(),this.generalFormGroup.controls.tarifa_de_suministro.disable())})}getVolumeUnitsOfMeasure(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getUnitsOfMeasure("volume").toPromise()})}getTemperatureUnitsOfMeasure(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getUnitsOfMeasure("temperature").toPromise()})}getCurrencies(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getCurrencies().toPromise()})}getProviders(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAllByType(3).toPromise()})}submit(){this.theInvoice.cre_permission_id=this.generalFormGroup.controls.cre_permission_id.value,this.theInvoice.invoice_number1=this.generalFormGroup.controls.invoice_number1.value,this.theInvoice.invoice_number2=this.generalFormGroup.controls.invoice_number2.value,this.theInvoice.invoice_date=this.getMysqlDate(this.generalFormGroup.controls.invoice_date.value),this.theInvoice.volume_unit_of_measure_id=this.generalFormGroup.controls.volume_unit_of_measure_id.value,this.theInvoice.temperature_unit_of_measure_id=this.generalFormGroup.controls.temperature_unit_of_measure_id.value,this.theInvoice.currency_id=this.generalFormGroup.controls.currency_id.value,this.theInvoice.currency_exchange_rate=this.generalFormGroup.controls.currency_exchange_rate.value,this.theInvoice.invoice_volume=this.generalFormGroup.controls.invoice_volume.value,this.theInvoice.invoice_volume_liters=this.generalFormGroup.controls.invoice_volume_liters.value,this.theInvoice.invoice_temperature=this.generalFormGroup.controls.invoice_temperature.value,this.theInvoice.invoice_temperature_celsius=this.generalFormGroup.controls.invoice_temperature_celsius.value,this.theInvoice.invoice_ppv=this.generalFormGroup.controls.invoice_ppv.value,this.theInvoice.invoice_ppv_pesos=this.generalFormGroup.controls.invoice_ppv_pesos.value,this.theInvoice.invoice_total_price=this.generalFormGroup.controls.invoice_total_price.value,this.theInvoice.invoice_total_price_pesos=this.generalFormGroup.controls.invoice_total_price_pesos.value,this.theInvoice.timestamp=this.generalFormGroup.controls.timestamp.value,this.theInvoice.status=+this.generalFormGroup.controls.status.value,this.theInvoice.user_id=this.generalFormGroup.controls.user_id.value,this.theInvoice.tarifa_de_almac=this.generalFormGroup.controls.tarifa_de_almac.value,this.theInvoice.cargo_por_capacidad_almac=this.generalFormGroup.controls.cargo_por_capacidad_almac.value,this.theInvoice.cargo_por_uso_almac=this.generalFormGroup.controls.cargo_por_uso_almac.value,this.theInvoice.cargo_volumetrico_almac=this.generalFormGroup.controls.cargo_volumetrico_almac.value,this.theInvoice.tarifa_de_transporte=this.generalFormGroup.controls.tarifa_de_transporte.value,this.theInvoice.cargo_por_capacidad_trans=this.generalFormGroup.controls.cargo_por_capacidad_trans.value,this.theInvoice.cargo_por_uso_trans=this.generalFormGroup.controls.cargo_por_uso_trans.value,this.theInvoice.cargo_volumetrico_trans=this.generalFormGroup.controls.cargo_volumetrico_trans.value,this.theInvoice.tarifa_de_suministro=this.generalFormGroup.controls.tarifa_de_suministro.value,this.theInvoice.invoice_id>0?this.updateInvoice():this.createInvoice()}close(){this.dialogRef.close()}createInvoice(){this._invoicesService.create(this.theInvoice,0!==this.data.reception_id?"?reception_id="+this.reception.reception_id+"&cre_permission_provider_id="+this.reception.cre_permission_provider_id+"&cre_permission_storage_id="+this.reception.cre_permission_storage_id+"&cre_permission_transport_id="+this.reception.cre_permission_transport_id+"&status=2&site_code="+this.reception.site_code:"").subscribe(g=>{this.snackbar.open(g.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.reception.reception_id=g.reception_id,this.theInvoice.invoice_id=g.invoice_id,this.theInvoice.status=2,this.dialogRef.close({invoice:this.theInvoice,reception:this.reception})},g=>{this.snackbar.open(g.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}updateInvoice(){this._invoicesService.update(this.theInvoice).subscribe(p=>{this.snackbar.open(p.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close({invoice:this.theInvoice,reception:this.reception})},p=>{this.snackbar.open(p.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}setActiveInvoice(p){this.active_label=p.checked?"Activo":"Inactivo"}onChangeVolumeUnitOfMeasure(p){this.volume_conversion_factor=this.vmus.find(g=>g.id==p).conversion_factor,this.generalFormGroup.controls.invoice_volume_liters.setValue((this.volume_conversion_factor*this.generalFormGroup.controls.invoice_volume.value).toFixed(2))}onChangeTemperatureUnitOfMeasure(p){this.current_temperature_unit_of_measure=p,this.generalFormGroup.controls.invoice_temperature_celsius.setValue(12==this.current_temperature_unit_of_measure?((this.generalFormGroup.controls.invoice_temperature.value-32)/1.8).toFixed(2):13==this.current_temperature_unit_of_measure?(this.generalFormGroup.controls.invoice_temperature.value-273.15).toFixed(2):(+this.generalFormGroup.controls.invoice_temperature.value).toFixed(2))}onChangeCurrency(p){1==p&&(this.generalFormGroup.controls.currency_exchange_rate.setValue(1),this.generalFormGroup.controls.invoice_ppv_pesos.setValue((this.generalFormGroup.controls.invoice_ppv.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)),this.generalFormGroup.controls.invoice_total_price_pesos.setValue((this.generalFormGroup.controls.invoice_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)))}numericOnly(p){let g=p.target.value+p.key;return!!new RegExp(/^([1-9][0-9]{0,7}||[0]||[0][.][0-9]{0,2}||[1-9][0-9]{0,7}[.][0-9]{0,2})$/).test(g)&&(("currency_exchange_rate"==p.target.id||"invoice_ppv"==p.target.id||"invoice_total_price"==p.target.id)&&(this.generalFormGroup.controls.invoice_ppv_pesos.setValue((this.generalFormGroup.controls.invoice_ppv.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)),this.generalFormGroup.controls.invoice_total_price_pesos.setValue((this.generalFormGroup.controls.invoice_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)),("currency_exchange_rate"==p.target.id||"invoice_ppv"==p.target.id)&&(this.generalFormGroup.controls.invoice_total_price.setValue((this.generalFormGroup.controls.invoice_ppv.value*this.generalFormGroup.controls.invoice_volume.value).toFixed(2)),this.generalFormGroup.controls.invoice_total_price_pesos.setValue((this.generalFormGroup.controls.invoice_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)))),"invoice_volume"==p.target.id&&(this.volume_conversion_factor=this.vmus.find(a=>a.id==this.generalFormGroup.controls.volume_unit_of_measure_id.value).conversion_factor,this.generalFormGroup.controls.invoice_volume_liters.setValue((+this.generalFormGroup.controls.invoice_volume.value*this.volume_conversion_factor).toFixed(2)),this.generalFormGroup.controls.invoice_total_price.setValue((this.generalFormGroup.controls.invoice_ppv.value*this.generalFormGroup.controls.invoice_volume.value).toFixed(2)),this.generalFormGroup.controls.invoice_total_price_pesos.setValue((this.generalFormGroup.controls.invoice_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2))),"invoice_temperature"==p.target.id&&this.generalFormGroup.controls.invoice_temperature_celsius.setValue(12==this.current_temperature_unit_of_measure?((+this.generalFormGroup.controls.invoice_temperature.value-32)/1.8).toFixed(2):13==this.current_temperature_unit_of_measure?(+this.generalFormGroup.controls.invoice_temperature.value-273.15).toFixed(2):(+this.generalFormGroup.controls.invoice_temperature.value).toFixed(2)),!0)}getMysqlDate(p){return null!==p?p.getFullYear()+"-"+("0"+(p.getMonth()+1)).slice(-2)+"-"+("0"+p.getDate()).slice(-2):""}}return A.\u0275fac=function(p){return new(p||A)(t.Y36(s.WI),t.Y36(s.so),t.Y36(m.ux),t.Y36(M.x),t.Y36(O.w))},A.\u0275cmp=t.Xpm({type:A,selectors:[["modal-invoices"]],decls:144,vars:15,consts:[[1,"modal-table"],[1,"title"],["svgIcon","invoice"],[1,"card"],[2,"margin","15px",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px",1,"content"],["fxFlex","auto","appearance","outline"],["formControlName","cre_permission_id","readonly",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","invoice_number1","matInput","","required",""],["formControlName","invoice_number2","matInput","","required",""],["appearance","outline","fxFlex","auto",1,"field"],["matInput","","formControlName","invoice_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["color","primary"],["invoiceDate",""],["formControlName","volume_unit_of_measure_id",3,"selectionChange"],["formControlName","temperature_unit_of_measure_id",3,"selectionChange"],["formControlName","currency_id",3,"selectionChange"],["formControlName","currency_exchange_rate","matInput","","required","","id","currency_exchange_rate",3,"keyup"],["formControlName","invoice_volume","matInput","","required","","id","invoice_volume",3,"keyup"],["formControlName","invoice_volume_liters","matInput","","required","","readonly",""],["formControlName","invoice_temperature","matInput","","required","","id","invoice_temperature",3,"keyup"],["formControlName","invoice_temperature_celsius","matInput","","required","","readonly",""],["formControlName","invoice_ppv","matInput","","required","","id","invoice_ppv",3,"keyup"],["formControlName","invoice_ppv_pesos","matInput","","required","","readonly",""],["formControlName","invoice_total_price","matInput","","required","","id","invoice_total_price",3,"keyup"],["formControlName","invoice_total_price_pesos","matInput","","required","","readonly",""],[1,"subheading"],["formControlName","tarifa_de_almac","matInput","","type","number",3,"keyup"],["formControlName","cargo_por_capacidad_almac","matInput","","type","number",3,"keyup"],["formControlName","cargo_por_uso_almac","matInput","","type","number",3,"keyup"],["formControlName","tarifa_de_transporte","matInput","","type","number",3,"keyup"],["formControlName","cargo_por_capacidad_trans","matInput","","type","number",3,"keyup"],["formControlName","cargo_por_uso_trans","matInput","","type","number",3,"keyup"],["formControlName","tarifa_de_suministro","matInput","","type","number",3,"keyup"],["class","content","fxLayout","column","fxLayoutGap","8px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],[3,"value"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","grow",1,"route-animations-elements"],[1,"fullheight",3,"rec","inv","view"],[1,"fullheight",3,"invoice","remission","rec","view"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(p,g){if(1&p&&(t.TgZ(0,"fury-page",0),t.TgZ(1,"fury-title",1),t._UZ(2,"mat-icon",2),t.TgZ(3,"span"),t._uU(4,"Facturas"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"form",4),t.TgZ(7,"div",5),t.TgZ(8,"mat-form-field",6),t.TgZ(9,"mat-label"),t._uU(10,"Proveedor:"),t.qZA(),t.TgZ(11,"mat-select",7),t.YNc(12,te,2,2,"mat-option",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",5),t.TgZ(14,"mat-form-field",6),t.TgZ(15,"mat-label"),t._uU(16,"Serie y folio de factura:"),t.qZA(),t._UZ(17,"input",9),t.qZA(),t.TgZ(18,"mat-form-field",6),t.TgZ(19,"mat-label"),t._uU(20,"UUID:"),t.qZA(),t._UZ(21,"input",10),t.qZA(),t.TgZ(22,"mat-form-field",11),t.TgZ(23,"mat-label"),t._uU(24,"Fecha de la factura:"),t.qZA(),t._UZ(25,"input",12),t.TgZ(26,"mat-datepicker-toggle",13),t.TgZ(27,"mat-icon",14),t._uU(28,"date_range"),t.qZA(),t.qZA(),t._UZ(29,"mat-datepicker",15,16),t.qZA(),t.qZA(),t.TgZ(31,"div",5),t.TgZ(32,"mat-form-field",6),t.TgZ(33,"mat-label"),t._uU(34,"Unidad de medida de volumen:"),t.qZA(),t.TgZ(35,"mat-select",17),t.NdJ("selectionChange",function(a){return g.onChangeVolumeUnitOfMeasure(a.value)}),t.YNc(36,ie,2,2,"mat-option",8),t.qZA(),t.qZA(),t.TgZ(37,"mat-form-field",6),t.TgZ(38,"mat-label"),t._uU(39,"Unidad de medida de temperatura:"),t.qZA(),t.TgZ(40,"mat-select",18),t.NdJ("selectionChange",function(a){return g.onChangeTemperatureUnitOfMeasure(a.value)}),t.YNc(41,V,2,2,"mat-option",8),t.qZA(),t.qZA(),t.TgZ(42,"mat-form-field",6),t.TgZ(43,"mat-label"),t._uU(44,"Moneda:"),t.qZA(),t.TgZ(45,"mat-select",19),t.NdJ("selectionChange",function(a){return g.onChangeCurrency(a.value)}),t.YNc(46,ne,2,2,"mat-option",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",5),t.TgZ(48,"mat-form-field",6),t.TgZ(49,"mat-label"),t._uU(50,"Tipo de cambio:"),t.qZA(),t.TgZ(51,"input",20),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(52,"mat-form-field",6),t.TgZ(53,"mat-label"),t._uU(54,"Volumen documentado:"),t.qZA(),t.TgZ(55,"input",21),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(56,"mat-form-field",6),t.TgZ(57,"mat-label"),t._uU(58,"Volumen documentado en litros:"),t.qZA(),t._UZ(59,"input",22),t.qZA(),t.qZA(),t.TgZ(60,"div",5),t.TgZ(61,"mat-form-field",6),t.TgZ(62,"mat-label"),t._uU(63,"Temperatura documentada:"),t.qZA(),t.TgZ(64,"input",23),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(65,"mat-form-field",6),t.TgZ(66,"mat-label"),t._uU(67,"Temperatura documentada en grados celsius"),t.qZA(),t._UZ(68,"input",24),t.qZA(),t.TgZ(69,"mat-form-field",6),t.TgZ(70,"mat-label"),t._uU(71,"Precio por volumen documentado:"),t.qZA(),t.TgZ(72,"input",25),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(73,"div",5),t.TgZ(74,"mat-form-field",6),t.TgZ(75,"mat-label"),t._uU(76,"Precio por volumen en pesos:"),t.qZA(),t._UZ(77,"input",26),t.qZA(),t.TgZ(78,"mat-form-field",6),t.TgZ(79,"mat-label"),t._uU(80,"Precio total documentado"),t.qZA(),t.TgZ(81,"input",27),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(82,"mat-form-field",6),t.TgZ(83,"mat-label"),t._uU(84,"Precio total en pesos:"),t.qZA(),t._UZ(85,"input",28),t.qZA(),t.qZA(),t._UZ(86,"mat-divider"),t.TgZ(87,"div",29),t._uU(88,"Almacenamiento y distribuci\xf3n."),t.qZA(),t.TgZ(89,"div",5),t.TgZ(90,"mat-form-field",6),t.TgZ(91,"mat-label"),t._uU(92,"Tarifa de almacenamiento:"),t.qZA(),t.TgZ(93,"input",30),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(94,"mat-form-field",6),t.TgZ(95,"mat-label"),t._uU(96,"Cargo por capacidad de almacenamiento:"),t.qZA(),t.TgZ(97,"input",31),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(98,"div",5),t.TgZ(99,"mat-form-field",6),t.TgZ(100,"mat-label"),t._uU(101,"Cargo por uso de almacenamiento:"),t.qZA(),t.TgZ(102,"input",32),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(103,"mat-form-field",6),t.TgZ(104,"mat-label"),t._uU(105,"Cargo \xfanico volum\xe9trico del almacenamiento:"),t.qZA(),t.TgZ(106,"input",32),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.qZA(),t._UZ(107,"mat-divider"),t.TgZ(108,"div",29),t._uU(109,"Transporte."),t.qZA(),t.TgZ(110,"div",5),t.TgZ(111,"mat-form-field",6),t.TgZ(112,"mat-label"),t._uU(113,"Tarifa de transporte:"),t.qZA(),t.TgZ(114,"input",33),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(115,"mat-form-field",6),t.TgZ(116,"mat-label"),t._uU(117,"Cargo por capacidad de transporte:"),t.qZA(),t.TgZ(118,"input",34),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(119,"div",5),t.TgZ(120,"mat-form-field",6),t.TgZ(121,"mat-label"),t._uU(122,"Cargo por uso de transporte:"),t.qZA(),t.TgZ(123,"input",35),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.TgZ(124,"mat-form-field",6),t.TgZ(125,"mat-label"),t._uU(126,"Cargo \xfanico volum\xe9trico del transporte:"),t.qZA(),t.TgZ(127,"input",35),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.qZA(),t._UZ(128,"mat-divider"),t.TgZ(129,"div",29),t._uU(130,"Suministro."),t.qZA(),t.TgZ(131,"div",5),t.TgZ(132,"mat-form-field",6),t.TgZ(133,"mat-label"),t._uU(134,"Tarifa de suministro:"),t.qZA(),t.TgZ(135,"input",36),t.NdJ("keyup",function(a){return g.numericOnly(a)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(136,oe,3,3,"div",37),t.YNc(137,re,3,3,"div",37),t.YNc(138,se,3,3,"div",37),t.YNc(139,E,3,3,"div",37),t.TgZ(140,"div",38),t.TgZ(141,"button",39),t.NdJ("click",function(){return g.close()}),t._uU(142,"CANCELAR"),t.qZA(),t.YNc(143,w,2,1,"button",40),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&p){const d=t.MAs(30);t.xp6(2),t.Q6J("@scaleIn",void 0),t.xp6(1),t.Q6J("@fadeInRight",void 0),t.xp6(2),t.Q6J("@fadeInUp",void 0),t.xp6(1),t.Q6J("formGroup",g.generalFormGroup),t.xp6(6),t.Q6J("ngForOf",g.providers),t.xp6(13),t.Q6J("matDatepicker",d),t.xp6(1),t.Q6J("for",d),t.xp6(10),t.Q6J("ngForOf",g.vmus),t.xp6(5),t.Q6J("ngForOf",g.tmus),t.xp6(5),t.Q6J("ngForOf",g.currencies),t.xp6(90),t.Q6J("ngIf",g.theInvoice.Remissions.length>0),t.xp6(1),t.Q6J("ngIf",g.theInvoice.TankDeliveryReadings.length>0),t.xp6(1),t.Q6J("ngIf",g.theInvoice.WeighingMachineReadings.length>0),t.xp6(1),t.Q6J("ngIf",g.theInvoice.ChemicalProductAnalyses.length>0),t.xp6(4),t.Q6J("ngIf",!g.view&&2==g.reception.status)}},directives:[R.i,n.M,D.Hw,i._Y,i.JL,i.sg,T.xw,T.SQ,b.KE,T.yH,b.hX,L.gD,i.JJ,i.u,Y.sg,i.Fj,N.Nt,i.Q7,G.hl,G.nW,b.R9,G.Q0,G.Mq,z.d,i.wV,Y.O5,T.Wh,j.lW,H.ey,K.F,Q.q,X.k,ee.K],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{overflow:scroll;height:550px;width:800px;margin:20px;border-radius:8px;padding:5px;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{max-width:32.5%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .information-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:100%}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:410px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;width:245px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;width:245px}.card[_ngcontent-%COMP%]   .text-icon[_ngcontent-%COMP%]{max-width:49.5%}.card[_ngcontent-%COMP%]   .indented-right[_ngcontent-%COMP%]{margin-left:10px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}.modal-table[_ngcontent-%COMP%]{width:840px;padding:1px}"],data:{animation:[e.X,h.M,P.K]}}),A})()},57425:(J,U,r)=>{r.d(U,{L:()=>se});var y=r(70655),i=r(93075),s=r(48966),P=r(37425),e=r(14499),h=r(88914),F=r(71936),c=r(12644),t=r(5e3),m=r(57261),M=r(57e3),O=r(95288),R=r(59968),n=r(36551),D=r(25245),T=r(30277),b=r(67322),L=r(74107),Y=r(69808),N=r(77531),G=r(86856),z=r(47423),j=r(90508),H=r(86590),K=r(27702),Q=r(53212);function X(E,w){if(1&E&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&E){const C=w.$implicit;t.Q6J("value",C.permission_id),t.xp6(1),t.Oqu(C.provider_name)}}function ee(E,w){if(1&E&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&E){const C=w.$implicit;t.Q6J("value",C.id),t.xp6(1),t.Oqu(C.unit_of_measure)}}function te(E,w){if(1&E&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&E){const C=w.$implicit;t.Q6J("value",C.id),t.xp6(1),t.Oqu(C.unit_of_measure)}}function ie(E,w){if(1&E&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&E){const C=w.$implicit;t.Q6J("value",C.id),t.xp6(1),t.Oqu(C.currency)}}function V(E,w){if(1&E&&(t.TgZ(0,"div",43),t.TgZ(1,"div",44),t._UZ(2,"tank-delivery-readings-widget",45),t.qZA(),t.qZA()),2&E){const C=t.oxw();t.xp6(2),t.Q6J("remission",C.theRemission)("rec",C.reception)("view",!0)}}function ne(E,w){if(1&E&&(t.TgZ(0,"div",43),t.TgZ(1,"div",44),t._UZ(2,"weighing-machine-readings-widget",45),t.qZA(),t.qZA()),2&E){const C=t.oxw();t.xp6(2),t.Q6J("remission",C.theRemission)("rec",C.reception)("view",!0)}}function oe(E,w){if(1&E&&(t.TgZ(0,"div",43),t.TgZ(1,"div",44),t._UZ(2,"chemicals-products-analyses-widget",45),t.qZA(),t.qZA()),2&E){const C=t.oxw();t.xp6(2),t.Q6J("remission",C.theRemission)("rec",C.reception)("view",!0)}}function re(E,w){if(1&E){const C=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){return t.CHM(C),t.oxw().submit()}),t._uU(1,"GUARDAR"),t.qZA()}if(2&E){const C=t.oxw();t.Q6J("disabled",C.generalFormGroup.invalid)}}let se=(()=>{class E{constructor(C,A,I,p,g){this.data=C,this.dialogRef=A,this.snackbar=I,this._remissionsService=p,this._crePermissionsService=g,this.active_label="Activo",this.allowCreateUser=!1,this.theRemission=new c.O,this.current_temperature_unit_of_measure=11,this.volume_conversion_factor=1,this.view=!1,this.generalFormGroup=new i.cw({remission_id:new i.NI,cre_permission_id:new i.NI("",[i.kI.required]),identification_number:new i.NI("",[i.kI.required]),identification_number2:new i.NI,remission_date:new i.NI("",[i.kI.required]),volume_unit_of_measure_id:new i.NI(1,[i.kI.required]),temperature_unit_of_measure_id:new i.NI(11,[i.kI.required]),currency_id:new i.NI(1,[i.kI.required]),currency_exchange_rate:new i.NI(1,[i.kI.required]),remission_volume:new i.NI(0,[i.kI.required]),remission_volume_liters:new i.NI(0,[i.kI.required]),remission_temperature:new i.NI(0,[i.kI.required]),remission_temperature_celsius:new i.NI(0,[i.kI.required]),remission_ppv:new i.NI(0,[i.kI.required]),remission_ppv_pesos:new i.NI(0,[i.kI.required]),remission_total_price:new i.NI(0,[i.kI.required]),remission_total_price_pesos:new i.NI(0,[i.kI.required]),stamp1:new i.NI("",[i.kI.required]),stamp2:new i.NI,stamp3:new i.NI,stamp4:new i.NI,vehicle_number:new i.NI("",[i.kI.required]),vehicle_plate:new i.NI("",[i.kI.required]),vehicle_axles_number:new i.NI,nice:new i.NI,vehicle_tank_number:new i.NI,timestamp:new i.NI,status:new i.NI(2),user_id:new i.NI("")}),this.dialogRef.disableClose=!0}ngOnInit(){return(0,y.mG)(this,void 0,void 0,function*(){this.reception=new F.T(this.data.reception),this.view=this.data.view,this.vmus=yield this.getVolumeUnitsOfMeasure(),this.tmus=yield this.getTemperatureUnitsOfMeasure(),this.currencies=yield this.getCurrencies(),this.providers=yield this.getProviders(),null!=this.data.remission?(this.theRemission=new c.O(this.data.remission),this.generalFormGroup.patchValue({remission_id:this.theRemission.remission_id,cre_permission_id:+this.theRemission.cre_permission_id,identification_number:this.theRemission.identification_number,identification_number2:this.theRemission.identification_number2,remission_date:new Date(this.theRemission.remission_date),volume_unit_of_measure_id:+this.theRemission.volume_unit_of_measure_id,temperature_unit_of_measure_id:+this.theRemission.temperature_unit_of_measure_id,currency_id:+this.theRemission.currency_id,currency_exchange_rate:this.theRemission.currency_exchange_rate,remission_volume:this.theRemission.remission_volume,remission_volume_liters:this.theRemission.remission_volume_liters,remission_temperature:this.theRemission.remission_temperature,remission_temperature_celsius:this.theRemission.remission_temperature_celsius,remission_ppv:this.theRemission.remission_ppv,remission_ppv_pesos:this.theRemission.remission_ppv_pesos,remission_total_price:this.theRemission.remission_total_price,remission_total_price_pesos:this.theRemission.remission_total_price_pesos,stamp1:this.theRemission.stamp1,stamp2:this.theRemission.stamp2,stamp3:this.theRemission.stamp3,stamp4:this.theRemission.stamp4,vehicle_number:this.theRemission.vehicle_number,vehicle_plate:this.theRemission.vehicle_plate,vehicle_axles_number:this.theRemission.vehicle_axles_number,nice:this.theRemission.nice,vehicle_tank_number:this.theRemission.vehicle_tank_number,timestamp:this.theRemission.timestamp,status:this.theRemission.status,user_id:this.theRemission.user_id})):(this.generalFormGroup.controls.cre_permission_id.setValue(this.reception.cre_permission_provider_id),this.generalFormGroup.controls.volume_unit_of_measure_id.setValue(this.reception.default_volume_unit_of_measure),this.generalFormGroup.controls.currency_id.setValue(this.reception.default_currency),this.generalFormGroup.controls.status.setValue(this.theRemission.status)),this.generalFormGroup.controls.cre_permission_id.disable(),this.view&&(this.generalFormGroup.controls.remission_id.disable(),this.generalFormGroup.controls.cre_permission_id.disable(),this.generalFormGroup.controls.identification_number.disable(),this.generalFormGroup.controls.identification_number2.disable(),this.generalFormGroup.controls.remission_date.disable(),this.generalFormGroup.controls.volume_unit_of_measure_id.disable(),this.generalFormGroup.controls.temperature_unit_of_measure_id.disable(),this.generalFormGroup.controls.currency_id.disable(),this.generalFormGroup.controls.currency_exchange_rate.disable(),this.generalFormGroup.controls.remission_volume.disable(),this.generalFormGroup.controls.remission_volume_liters.disable(),this.generalFormGroup.controls.remission_temperature.disable(),this.generalFormGroup.controls.remission_temperature_celsius.disable(),this.generalFormGroup.controls.remission_ppv.disable(),this.generalFormGroup.controls.remission_ppv_pesos.disable(),this.generalFormGroup.controls.remission_total_price.disable(),this.generalFormGroup.controls.remission_total_price_pesos.disable(),this.generalFormGroup.controls.stamp1.disable(),this.generalFormGroup.controls.stamp2.disable(),this.generalFormGroup.controls.stamp3.disable(),this.generalFormGroup.controls.stamp4.disable(),this.generalFormGroup.controls.vehicle_number.disable(),this.generalFormGroup.controls.vehicle_plate.disable(),this.generalFormGroup.controls.vehicle_axles_number.disable(),this.generalFormGroup.controls.nice.disable(),this.generalFormGroup.controls.vehicle_tank_number.disable(),this.generalFormGroup.controls.timestamp.disable(),this.generalFormGroup.controls.status.disable(),this.generalFormGroup.controls.user_id.disable())})}getVolumeUnitsOfMeasure(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getUnitsOfMeasure("volume").toPromise()})}getTemperatureUnitsOfMeasure(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getUnitsOfMeasure("temperature").toPromise()})}getCurrencies(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getCurrencies().toPromise()})}getProviders(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAllByType(3).toPromise()})}submit(){this.theRemission.identification_number=this.generalFormGroup.controls.identification_number.value,this.theRemission.identification_number2=this.generalFormGroup.controls.identification_number2.value,this.theRemission.remission_date=this.getMysqlDate(this.generalFormGroup.controls.remission_date.value),this.theRemission.volume_unit_of_measure_id=this.generalFormGroup.controls.volume_unit_of_measure_id.value,this.theRemission.temperature_unit_of_measure_id=this.generalFormGroup.controls.temperature_unit_of_measure_id.value,this.theRemission.currency_id=this.generalFormGroup.controls.currency_id.value,this.theRemission.currency_exchange_rate=this.generalFormGroup.controls.currency_exchange_rate.value,this.theRemission.remission_volume=this.generalFormGroup.controls.remission_volume.value,this.theRemission.remission_volume_liters=this.generalFormGroup.controls.remission_volume_liters.value,this.theRemission.remission_temperature=this.generalFormGroup.controls.remission_temperature.value,this.theRemission.remission_temperature_celsius=this.generalFormGroup.controls.remission_temperature_celsius.value,this.theRemission.remission_ppv=this.generalFormGroup.controls.remission_ppv.value,this.theRemission.remission_ppv_pesos=this.generalFormGroup.controls.remission_ppv_pesos.value,this.theRemission.remission_total_price=this.generalFormGroup.controls.remission_total_price.value,this.theRemission.remission_total_price_pesos=this.generalFormGroup.controls.remission_total_price_pesos.value,this.theRemission.stamp1=this.generalFormGroup.controls.stamp1.value,this.theRemission.stamp2=this.generalFormGroup.controls.stamp2.value,this.theRemission.stamp3=this.generalFormGroup.controls.stamp3.value,this.theRemission.stamp4=this.generalFormGroup.controls.stamp4.value,this.theRemission.vehicle_number=this.generalFormGroup.controls.vehicle_number.value,this.theRemission.vehicle_plate=this.generalFormGroup.controls.vehicle_plate.value,this.theRemission.vehicle_axles_number=this.generalFormGroup.controls.vehicle_axles_number.value,this.theRemission.nice=this.generalFormGroup.controls.nice.value,this.theRemission.vehicle_tank_number=this.generalFormGroup.controls.vehicle_tank_number.value,this.theRemission.timestamp=this.generalFormGroup.controls.timestamp.value,this.theRemission.status=this.generalFormGroup.controls.status.value,this.theRemission.user_id=this.generalFormGroup.controls.user_id.value,this.theRemission.cre_permission_id=this.generalFormGroup.controls.cre_permission_id.value,this.theRemission.remission_id>0?this.updateRemission():this.createRemission()}close(){this.dialogRef.close()}createRemission(){this._remissionsService.create(this.theRemission,0!==this.data.reception_id?"?reception_id="+this.reception.reception_id+"&cre_permission_provider_id="+this.reception.cre_permission_provider_id+"&cre_permission_storage_id="+this.reception.cre_permission_storage_id+"&cre_permission_transport_id="+this.reception.cre_permission_transport_id+"&status=2&site_code="+this.reception.site_code:"").subscribe(A=>{this.snackbar.open(A.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.reception.reception_id=A.reception_id,this.theRemission.remission_id=A.remission_id,this.theRemission.status=2,this.dialogRef.close({remission:this.theRemission,reception:this.reception})},A=>{this.snackbar.open(A.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}updateRemission(){this._remissionsService.update(this.theRemission).subscribe(C=>{this.snackbar.open(C.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close({remission:this.theRemission,reception:this.reception})},C=>{this.snackbar.open(C.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}setActiveRemission(C){this.active_label=C.checked?"Activo":"Inactivo"}onChangeVolumeUnitOfMeasure(C){this.volume_conversion_factor=this.vmus.find(A=>A.id==C).conversion_factor,this.generalFormGroup.controls.remission_volume_liters.setValue((this.volume_conversion_factor*this.generalFormGroup.controls.remission_volume.value).toFixed(2))}onChangeTemperatureUnitOfMeasure(C){this.current_temperature_unit_of_measure=C,this.generalFormGroup.controls.remission_temperature_celsius.setValue(12==this.current_temperature_unit_of_measure?((this.generalFormGroup.controls.remission_temperature.value-32)/1.8).toFixed(2):13==this.current_temperature_unit_of_measure?(this.generalFormGroup.controls.remission_temperature.value-273.15).toFixed(2):(+this.generalFormGroup.controls.remission_temperature.value).toFixed(2))}onChangeCurrency(C){1==C&&(this.generalFormGroup.controls.currency_exchange_rate.setValue(1),this.generalFormGroup.controls.remission_ppv_pesos.setValue((this.generalFormGroup.controls.remission_ppv.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)),this.generalFormGroup.controls.remission_total_price_pesos.setValue((this.generalFormGroup.controls.remission_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)))}numericOnly(C){let A=C.target.value+C.key;return!!new RegExp(/^([1-9][0-9]{0,7}||[0]||[0][.][0-9]{0,2}||[1-9][0-9]{0,7}[.][0-9]{0,2})$/).test(A)&&(("currency_exchange_rate"==C.target.id||"remission_ppv"==C.target.id||"remission_total_price"==C.target.id)&&(this.generalFormGroup.controls.remission_ppv_pesos.setValue((this.generalFormGroup.controls.remission_ppv.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)),this.generalFormGroup.controls.remission_total_price_pesos.setValue((this.generalFormGroup.controls.remission_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)),("currency_exchange_rate"==C.target.id||"remission_ppv"==C.target.id)&&(this.generalFormGroup.controls.remission_total_price.setValue((this.generalFormGroup.controls.remission_ppv.value*this.generalFormGroup.controls.remission_volume.value).toFixed(2)),this.generalFormGroup.controls.remission_total_price_pesos.setValue((this.generalFormGroup.controls.remission_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2)))),"remission_volume"==C.target.id&&(this.volume_conversion_factor=this.vmus.find(p=>p.id==this.generalFormGroup.controls.volume_unit_of_measure_id.value).conversion_factor,this.generalFormGroup.controls.remission_volume_liters.setValue((+this.generalFormGroup.controls.remission_volume.value*this.volume_conversion_factor).toFixed(2)),this.generalFormGroup.controls.remission_total_price.setValue((this.generalFormGroup.controls.remission_ppv.value*this.generalFormGroup.controls.remission_volume.value).toFixed(2)),this.generalFormGroup.controls.remission_total_price_pesos.setValue((this.generalFormGroup.controls.remission_total_price.value*this.generalFormGroup.controls.currency_exchange_rate.value).toFixed(2))),"remission_temperature"==C.target.id&&this.generalFormGroup.controls.remission_temperature_celsius.setValue(12==this.current_temperature_unit_of_measure?((+this.generalFormGroup.controls.remission_temperature.value-32)/1.8).toFixed(2):13==this.current_temperature_unit_of_measure?(+this.generalFormGroup.controls.remission_temperature.value-273.15).toFixed(2):(+this.generalFormGroup.controls.remission_temperature.value).toFixed(2)),""==C.target.id||void 0)}getMysqlDate(C){return null!==C?C.getFullYear()+"-"+("0"+(C.getMonth()+1)).slice(-2)+"-"+("0"+C.getDate()).slice(-2):""}}return E.\u0275fac=function(C){return new(C||E)(t.Y36(s.WI),t.Y36(s.so),t.Y36(m.ux),t.Y36(M.D),t.Y36(O.w))},E.\u0275cmp=t.Xpm({type:E,selectors:[["modal-remissions"]],decls:132,vars:14,consts:[[1,"modal-table"],[1,"title"],["svgIcon","invoice"],[1,"card"],[2,"margin","15px",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px",1,"content"],["fxFlex","auto","appearance","outline"],["formControlName","cre_permission_id","requierd",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","identification_number","matInput","","required",""],["formControlName","identification_number2","matInput",""],["appearance","outline","fxFlex","auto",1,"field"],["matInput","","formControlName","remission_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["color","primary"],["remissionDate",""],["formControlName","volume_unit_of_measure_id","requierd","",3,"selectionChange"],["formControlName","temperature_unit_of_measure_id","required","",3,"selectionChange"],["formControlName","currency_id","required","",3,"selectionChange"],["formControlName","currency_exchange_rate","matInput","","required","","id","currency_exchange_rate",3,"keyup"],["formControlName","remission_volume","matInput","","required","","id","remission_volume",3,"keyup"],["formControlName","remission_volume_liters","matInput","","required","","readonly",""],["formControlName","remission_temperature","matInput","","required","","id","remission_temperature",3,"keyup"],["formControlName","remission_temperature_celsius","matInput","","required","","readonly",""],["formControlName","remission_ppv","matInput","","required","","id","remission_ppv",3,"keyup"],["formControlName","remission_ppv_pesos","matInput","","required","","readonly",""],["formControlName","remission_total_price","matInput","","required","","id","remission_total_price",3,"keyup"],["formControlName","remission_total_price_pesos","matInput","","required","","readonly",""],["formControlName","stamp1","matInput","","required",""],["formControlName","stamp2","matInput",""],["formControlName","stamp3","matInput",""],["formControlName","stamp4","matInput",""],["formControlName","vehicle_number","matInput","","required",""],["formControlName","vehicle_plate","matInput","","required",""],["formControlName","vehicle_axles_number","matInput","",3,"keyup"],["formControlName","nice","matInput","",3,"keyup"],["formControlName","vehicle_tank_number","matInput","",3,"keyup"],["class","content","fxLayout","column","fxLayoutGap","8px",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],[3,"value"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","grow",1,"route-animations-elements"],[1,"fullheight",3,"invoice","remission","rec","view"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(C,A){if(1&C&&(t.TgZ(0,"fury-page",0),t.TgZ(1,"fury-title",1),t._UZ(2,"mat-icon",2),t.TgZ(3,"span"),t._uU(4,"Remisiones"),t.qZA(),t.qZA(),t.TgZ(5,"div",3),t.TgZ(6,"form",4),t.TgZ(7,"div",5),t.TgZ(8,"mat-form-field",6),t.TgZ(9,"mat-label"),t._uU(10,"Proveedor autorizado:"),t.qZA(),t.TgZ(11,"mat-select",7),t.YNc(12,X,2,2,"mat-option",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",5),t.TgZ(14,"mat-form-field",6),t.TgZ(15,"mat-label"),t._uU(16,"Folio de remisi\xf3n:"),t.qZA(),t._UZ(17,"input",9),t.qZA(),t.TgZ(18,"mat-form-field",6),t.TgZ(19,"mat-label"),t._uU(20,"Folio de remisi\xf3n 2:"),t.qZA(),t._UZ(21,"input",10),t.qZA(),t.TgZ(22,"mat-form-field",11),t.TgZ(23,"mat-label"),t._uU(24,"Fecha de la remisi\xf3n:"),t.qZA(),t._UZ(25,"input",12),t.TgZ(26,"mat-datepicker-toggle",13),t.TgZ(27,"mat-icon",14),t._uU(28,"date_range"),t.qZA(),t.qZA(),t._UZ(29,"mat-datepicker",15,16),t.qZA(),t.qZA(),t.TgZ(31,"div",5),t.TgZ(32,"mat-form-field",6),t.TgZ(33,"mat-label"),t._uU(34,"Unidad de medida de volumen:"),t.qZA(),t.TgZ(35,"mat-select",17),t.NdJ("selectionChange",function(p){return A.onChangeVolumeUnitOfMeasure(p.value)}),t.YNc(36,ee,2,2,"mat-option",8),t.qZA(),t.qZA(),t.TgZ(37,"mat-form-field",6),t.TgZ(38,"mat-label"),t._uU(39,"Unidad de medida de temperatura:"),t.qZA(),t.TgZ(40,"mat-select",18),t.NdJ("selectionChange",function(p){return A.onChangeTemperatureUnitOfMeasure(p.value)}),t.YNc(41,te,2,2,"mat-option",8),t.qZA(),t.qZA(),t.TgZ(42,"mat-form-field",6),t.TgZ(43,"mat-label"),t._uU(44,"Moneda:"),t.qZA(),t.TgZ(45,"mat-select",19),t.NdJ("selectionChange",function(p){return A.onChangeCurrency(p.value)}),t.YNc(46,ie,2,2,"mat-option",8),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",5),t.TgZ(48,"mat-form-field",6),t.TgZ(49,"mat-label"),t._uU(50,"Tipo de cambio:"),t.qZA(),t.TgZ(51,"input",20),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.TgZ(52,"mat-form-field",6),t.TgZ(53,"mat-label"),t._uU(54,"Volumen documentado:"),t.qZA(),t.TgZ(55,"input",21),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.TgZ(56,"mat-form-field",6),t.TgZ(57,"mat-label"),t._uU(58,"Volumen documentado en litros:"),t.qZA(),t._UZ(59,"input",22),t.qZA(),t.qZA(),t.TgZ(60,"div",5),t.TgZ(61,"mat-form-field",6),t.TgZ(62,"mat-label"),t._uU(63,"Temperatura documentada:"),t.qZA(),t.TgZ(64,"input",23),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.TgZ(65,"mat-form-field",6),t.TgZ(66,"mat-label"),t._uU(67,"Temperatura documentada en grados celsius"),t.qZA(),t._UZ(68,"input",24),t.qZA(),t.TgZ(69,"mat-form-field",6),t.TgZ(70,"mat-label"),t._uU(71,"Precio por volumen documentado:"),t.qZA(),t.TgZ(72,"input",25),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(73,"div",5),t.TgZ(74,"mat-form-field",6),t.TgZ(75,"mat-label"),t._uU(76,"Precio por volumen en pesos:"),t.qZA(),t._UZ(77,"input",26),t.qZA(),t.TgZ(78,"mat-form-field",6),t.TgZ(79,"mat-label"),t._uU(80,"Precio total documentado"),t.qZA(),t.TgZ(81,"input",27),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.TgZ(82,"mat-form-field",6),t.TgZ(83,"mat-label"),t._uU(84,"Precio total en pesos:"),t.qZA(),t._UZ(85,"input",28),t.qZA(),t.qZA(),t.TgZ(86,"div",5),t.TgZ(87,"mat-form-field",6),t.TgZ(88,"mat-label"),t._uU(89,"Sello:"),t.qZA(),t._UZ(90,"input",29),t.qZA(),t.TgZ(91,"mat-form-field",6),t.TgZ(92,"mat-label"),t._uU(93,"Sello 2:"),t.qZA(),t._UZ(94,"input",30),t.qZA(),t.TgZ(95,"mat-form-field",6),t.TgZ(96,"mat-label"),t._uU(97,"Sello 3:"),t.qZA(),t._UZ(98,"input",31),t.qZA(),t.qZA(),t.TgZ(99,"div",5),t.TgZ(100,"mat-form-field",6),t.TgZ(101,"mat-label"),t._uU(102,"Sello 4:"),t.qZA(),t._UZ(103,"input",32),t.qZA(),t.TgZ(104,"mat-form-field",6),t.TgZ(105,"mat-label"),t._uU(106,"N\xfamero de veh\xedculo:"),t.qZA(),t._UZ(107,"input",33),t.qZA(),t.TgZ(108,"mat-form-field",6),t.TgZ(109,"mat-label"),t._uU(110,"Placa de veh\xedculo:"),t.qZA(),t._UZ(111,"input",34),t.qZA(),t.qZA(),t.TgZ(112,"div",5),t.TgZ(113,"mat-form-field",6),t.TgZ(114,"mat-label"),t._uU(115,"Cantidad de ejes:"),t.qZA(),t.TgZ(116,"input",35),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.TgZ(117,"mat-form-field",6),t.TgZ(118,"mat-label"),t._uU(119,"Nice:"),t.qZA(),t.TgZ(120,"input",36),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.TgZ(121,"mat-form-field",6),t.TgZ(122,"mat-label"),t._uU(123,"N\xfamero de tanque del veh\xedculo:"),t.qZA(),t.TgZ(124,"input",37),t.NdJ("keyup",function(p){return A.numericOnly(p)}),t.qZA(),t.qZA(),t.qZA(),t.YNc(125,V,3,3,"div",38),t.YNc(126,ne,3,3,"div",38),t.YNc(127,oe,3,3,"div",38),t.TgZ(128,"div",39),t.TgZ(129,"button",40),t.NdJ("click",function(){return A.close()}),t._uU(130,"CANCELAR"),t.qZA(),t.YNc(131,re,2,1,"button",41),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&C){const I=t.MAs(30);t.xp6(2),t.Q6J("@scaleIn",void 0),t.xp6(1),t.Q6J("@fadeInRight",void 0),t.xp6(2),t.Q6J("@fadeInUp",void 0),t.xp6(1),t.Q6J("formGroup",A.generalFormGroup),t.xp6(6),t.Q6J("ngForOf",A.providers),t.xp6(13),t.Q6J("matDatepicker",I),t.xp6(1),t.Q6J("for",I),t.xp6(10),t.Q6J("ngForOf",A.vmus),t.xp6(5),t.Q6J("ngForOf",A.tmus),t.xp6(5),t.Q6J("ngForOf",A.currencies),t.xp6(79),t.Q6J("ngIf",A.theRemission.TankDeliveryReadings.length>0),t.xp6(1),t.Q6J("ngIf",A.theRemission.WeighingMachineReadings.length>0),t.xp6(1),t.Q6J("ngIf",A.theRemission.ChemicalProductAnalyses.length>0),t.xp6(4),t.Q6J("ngIf",!A.view&&2==A.reception.status)}},directives:[R.i,n.M,D.Hw,i._Y,i.JL,i.sg,T.xw,T.SQ,b.KE,T.yH,b.hX,L.gD,i.JJ,i.u,Y.sg,i.Fj,N.Nt,i.Q7,G.hl,G.nW,b.R9,G.Q0,G.Mq,Y.O5,T.Wh,z.lW,j.ey,H.q,K.k,Q.K],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{overflow:scroll;height:550px;width:800px;margin:20px;border-radius:8px;padding:5px;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{max-width:32.5%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .information-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:100%}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:410px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;width:245px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;width:245px}.card[_ngcontent-%COMP%]   .text-icon[_ngcontent-%COMP%]{max-width:49.5%}.card[_ngcontent-%COMP%]   .indented-right[_ngcontent-%COMP%]{margin-left:10px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}.modal-table[_ngcontent-%COMP%]{width:840px;padding:1px}"],data:{animation:[e.X,h.M,P.K]}}),E})()},11635:(J,U,r)=>{r.d(U,{F:()=>_e});var y=r(70655),i=r(5e3),s=r(48966),P=r(86087),e=r(84847),h=r(32075),F=r(20449),c=r(96831),t=r(92198),m=r(88914),M=r(14499),O=r(37425),R=r(8062),n=r(71936),D=r(12644),T=r(57425),b=r(86590),L=r(27702),Y=r(53212),N=r(57e3),G=r(95288),z=r(57261),j=r(92824),H=r(3299),K=r(97199),Q=r(69808),X=r(75972),ee=r(47423),te=r(25245),ie=r(77446),V=r(92181);function ne(x,W){1&x&&(i.TgZ(0,"fury-card-header-subheading"),i._uU(1," Remisiones disponibles "),i.qZA())}function oe(x,W){1&x&&(i.TgZ(0,"fury-card-header-subheading"),i._uU(1," Remisiones sin facturas asociadas "),i.qZA())}function re(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",17),i.NdJ("click",function(){return i.CHM(u),i.oxw().detailRemissions()}),i._UZ(1,"mat-icon",18),i.qZA()}2&x&&(i.xp6(1),i.Q6J("@scaleIn",void 0))}function se(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",17),i.NdJ("click",function(){return i.CHM(u),i.oxw().addToInvoice()}),i._UZ(1,"mat-icon",19),i.qZA()}}function E(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",17),i.NdJ("click",function(){return i.CHM(u),i.oxw().createRemission()}),i.TgZ(1,"mat-icon"),i._uU(2,"add"),i.qZA(),i.qZA()}}function w(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",17),i.NdJ("click",function(){return i.CHM(u),i.oxw().close()}),i.TgZ(1,"mat-icon"),i._uU(2,"close"),i.qZA(),i.qZA()}}function C(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",20),i.NdJ("click",function(){return i.CHM(u),i.oxw().reload()}),i.TgZ(1,"mat-icon"),i._uU(2,"refresh"),i.qZA(),i.qZA()}}function A(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"th",21),i.TgZ(1,"mat-checkbox",22),i.NdJ("change",function(Z){i.CHM(u);const q=i.oxw();return Z?q.masterToggle():null}),i.qZA(),i.qZA()}if(2&x){const u=i.oxw();i.xp6(1),i.Q6J("checked",u.selection.hasValue()&&u.isAllSelected())("indeterminate",u.selection.hasValue()&&!u.isAllSelected())}}function I(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"td",23),i.TgZ(1,"mat-checkbox",24),i.NdJ("click",function(Z){return Z.stopPropagation()})("change",function(Z){const ae=i.CHM(u).$implicit,le=i.oxw();return Z?le.selection.toggle(ae):null}),i.qZA(),i.qZA()}if(2&x){const u=W.$implicit,v=i.oxw();i.xp6(1),i.Q6J("checked",v.selection.isSelected(u))}}function p(x,W){if(1&x&&(i.TgZ(0,"th",29),i._uU(1),i.qZA()),2&x){const u=i.oxw(2).$implicit;i.xp6(1),i.hij(" ",u.name,"")}}function g(x,W){if(1&x&&(i.TgZ(0,"td",30),i._uU(1),i.qZA()),2&x){const u=W.$implicit,v=i.oxw(2).$implicit,Z=i.oxw();i.xp6(1),i.Oqu(Z.getLabel(v.name,u[v.property]))}}function d(x,W){if(1&x&&(i.ynx(0,26),i.YNc(1,p,2,1,"th",27),i.YNc(2,g,2,1,"td",28),i.BQk()),2&x){const u=i.oxw().$implicit;i.Q6J("matColumnDef",u.property)}}function a(x,W){if(1&x&&(i.ynx(0),i.YNc(1,d,3,1,"ng-container",25),i.BQk()),2&x){const u=W.$implicit;i.xp6(1),i.Q6J("ngIf",u.isModelProperty)}}function o(x,W){1&x&&i._UZ(0,"th",31)}function l(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",37),i.NdJ("click",function(){i.CHM(u);const Z=i.oxw().$implicit;return i.oxw().viewRemission(Z)}),i.TgZ(1,"span"),i._uU(2,"Ver"),i.qZA(),i.qZA()}}function _(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",37),i.NdJ("click",function(){i.CHM(u);const Z=i.oxw().$implicit;return i.oxw().updateRemission(Z)}),i.TgZ(1,"span"),i._uU(2,"Editar"),i.qZA(),i.qZA()}}function f(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",37),i.NdJ("click",function(){i.CHM(u);const Z=i.oxw().$implicit;return i.oxw().assignTankDeliveryReadings(Z)}),i.TgZ(1,"span"),i._uU(2,"Asociar incremento de combustible"),i.qZA(),i.qZA()}}function S(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",37),i.NdJ("click",function(){i.CHM(u);const Z=i.oxw().$implicit;return i.oxw().assignWeighingMachineReadings(Z)}),i.TgZ(1,"span"),i._uU(2,"Asociar pesaje"),i.qZA(),i.qZA()}}function k(x,W){if(1&x){const u=i.EpF();i.TgZ(0,"button",37),i.NdJ("click",function(){i.CHM(u);const Z=i.oxw().$implicit;return i.oxw().assignChemicalProductAnalysis(Z)}),i.TgZ(1,"span"),i._uU(2,"Asociar an\xe1lisis qu\xedmico"),i.qZA(),i.qZA()}}function B(x,W){if(1&x&&(i.TgZ(0,"td",32),i.TgZ(1,"button",33),i.NdJ("click",function(v){return v.stopPropagation()}),i.TgZ(2,"mat-icon"),i._uU(3,"more_horiz"),i.qZA(),i.qZA(),i.TgZ(4,"mat-menu",34,35),i.YNc(6,l,3,0,"button",36),i.YNc(7,_,3,0,"button",36),i.YNc(8,f,3,0,"button",36),i.YNc(9,S,3,0,"button",36),i.YNc(10,k,3,0,"button",36),i.qZA(),i.qZA()),2&x){const u=W.$implicit,v=i.MAs(5),Z=i.oxw();i.xp6(1),i.Q6J("matMenuTriggerFor",v),i.xp6(5),i.Q6J("ngIf",Z.view),i.xp6(1),i.Q6J("ngIf",2==Z.reception.status&&!Z.view),i.xp6(1),i.Q6J("ngIf",2!=Z.reception.documentation_tracking_type&&2==Z.reception.status&&2==u.status&&!Z.view),i.xp6(1),i.Q6J("ngIf",2!=Z.reception.documentation_tracking_type&&2==Z.reception.status&&2==u.status&&!Z.view),i.xp6(1),i.Q6J("ngIf",2!=Z.reception.documentation_tracking_type&&2==Z.reception.status&&2==u.status&&!Z.view)}}function $(x,W){1&x&&i._UZ(0,"tr",38)}function ce(x,W){1&x&&i._UZ(0,"tr",14)}let _e=(()=>{class x{constructor(u,v,Z,q,ae,le,ue,de){this.data=u,this.dialogRef=v,this.dialog=Z,this._remissionsService=q,this._crePermissionsService=ae,this.snackbar=le,this._receptionsService=ue,this.router=de,this.subject$=new c.t(1),this.data$=this.subject$.asObservable(),this.selection=new F.Ov(!0,[]),this.remissions=[],this.vmus=[],this.tmus=[],this.currencies=[],this.providers=[],this.reception=new n.T,this.recep=new i.vpe,this.columns=[{name:"Checkbox",property:"select",visible:!0},{name:"Id remisi\xf3n",property:"remission_id",visible:!1,isModelProperty:!0},{name:"Proveedor",property:"cre_permission_id",visible:!0,isModelProperty:!0},{name:"Folio de remisi\xf3n",property:"identification_number",visible:!0,isModelProperty:!0},{name:"Folio de remisi\xf3n 2",property:"identification_number1",visible:!1,isModelProperty:!0},{name:"Fecha de remisi\xf3n",property:"remission_date",visible:!0,isModelProperty:!0},{name:"Unidad de medida de volumen",property:"volume_unit_of_measure_id",visible:!1,isModelProperty:!0},{name:"Unidad de medidad de temperatura",property:"temperature_unit_of_measure_id",visible:!1,isModelProperty:!0},{name:"Moneda",property:"currency_id",visible:!1,isModelProperty:!0},{name:"Tipo de cambio",property:"currency_exchange_rate",visible:!1,isModelProperty:!0},{name:"Volumen en documento",property:"remission_volume",visible:!1,isModelProperty:!0},{name:"Volumen en litros",property:"remission_volume_liters",visible:!0,isModelProperty:!0},{name:"Temperatura en documento",property:"remission_temperature",visible:!1,isModelProperty:!0},{name:"Temperatura en celsius",property:"remission_temperature_celsius",visible:!1,isModelProperty:!0},{name:"Precio por volumen en documento",property:"remission_ppv",visible:!1,isModelProperty:!0},{name:"Precio por volumen en pesos",property:"remission_ppv_pesos",visible:!0,isModelProperty:!0},{name:"Precio total en documento",property:"remission_total_price",visible:!1,isModelProperty:!0},{name:"Precio total en pesos",property:"remission_total_price_pesos",visible:!0,isModelProperty:!0},{name:"Sello",property:"stamp1",visible:!1,isModelProperty:!0},{name:"Sello 2",property:"stamp2",visible:!1,isModelProperty:!0},{name:"Sello 3",property:"stamp3",visible:!1,isModelProperty:!0},{name:"Sello 4",property:"stamp4",visible:!1,isModelProperty:!0},{name:"N\xfamero de veh\xedculo",property:"vehicle_number",visible:!1,isModelProperty:!0},{name:"Placas",property:"vehicle_plate",visible:!1,isModelProperty:!0},{name:"N\xfamero de ejes",property:"vehicle_axles_number",visible:!1,isModelProperty:!0},{name:"Nice",property:"nice",visible:!1,isModelProperty:!0},{name:"N\xfamero de tanque del veh\xedculo",property:"vehicle_tank_number",visible:!1,isModelProperty:!0},{name:"\xdaltima actualizaci\xf3n",property:"timestamp",visible:!1,isModelProperty:!0},{name:"Estatus",property:"status",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getLabel(u,v){if(null!=u){if("Unidad de medida de volumen"==u){let Z=this.vmus.find(q=>q.id===v);return Z?Z.unit_of_measure:v}if("Unidad de medidad de temperatura"==u){let Z=this.tmus.find(q=>q.id===v);return Z?Z.unit_of_measure:v}if("Moneda"==u){let Z=this.currencies.find(q=>q.id===v);return Z?Z.currency:v}if("Estatus"!=u){if("Proveedor"==u){let Z=this.providers.find(q=>+q.permission_id==+v);return Z?Z.provider_name:v}return v}switch(+v){case 2:return"Activa";case 1:return"Asignada";case 0:return"Archivada";default:return"No disponible"}}}get visibleColumns(){return this.columns.filter(u=>u.visible).map(u=>u.property)}getData(){this.view?this.inv?(this.remissions=this.invoice.Remissions,this.dataSource=new h.by(this.invoice.Remissions)):(this.remissions=this.reception.Remissions,this.dataSource=new h.by(this.reception.Remissions)):this._remissionsService.getAll("?reception_id="+this.reception.reception_id+"&site_code="+this.reception.site_code+"&cre_permission_id="+this.reception.cre_permission_provider_id+"&status="+(this.data.not_assigned?2:"1,2")+"&invoice_id="+this.invoice.invoice_id).subscribe(Z=>{this.remissions=Z,this.dataSource=new h.by(Z)}),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnInit(){return(0,y.mG)(this,void 0,void 0,function*(){this.dataSource=new h.by,this.view?(this.reception=this.rec,this.invoice=this.inv?this.inv:new R.m(null)):(this.view=!!this.data.view,this.reception=new n.T(this.data.reception),this.invoice=new R.m(this.data.invoice)),this.getData(),this.currencies=yield this.getCurrencies(),this.tmus=yield this.getTemperatureUnitsOfMeasure(),this.vmus=yield this.getVolumeUnitsOfMeasure(),this.providers=yield this.getProviders(),this.data$.pipe((0,t.h)(u=>!!u)).subscribe(u=>{this.remissions=u,this.dataSource.data=u})})}ngOnChanges(u){for(const v in u)this[v]=u[v].currentValue,this.reload()}getVolumeUnitsOfMeasure(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getUnitsOfMeasure("volume").toPromise()})}getTemperatureUnitsOfMeasure(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getUnitsOfMeasure("temperature").toPromise()})}getCurrencies(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getCurrencies().toPromise()})}getProviders(){return(0,y.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAll().toPromise()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}assignTankDeliveryReadings(u){this.dialog.open(b.q,{data:{reception:this.reception,remission:u}}).afterClosed().subscribe(v=>{v&&(this.reception=v,this.remissions=this.reception.Remissions,this.dataSource=new h.by(this.reception.Remissions),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)})}assignWeighingMachineReadings(u){this.dialog.open(L.k,{data:{reception:this.reception,remission:u}}).afterClosed().subscribe(v=>{v&&(this.reception=v,this.remissions=this.reception.Remissions,this.dataSource=new h.by(this.reception.Remissions),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)})}assignChemicalProductAnalysis(u){this.dialog.open(Y.K,{data:{reception:this.reception,remission:u}}).afterClosed().subscribe(v=>{v&&(this.reception=v,this.remissions=this.reception.Remissions,this.dataSource=new h.by(this.reception.Remissions),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator)})}changeRemissionStatus(u){}onFilterChange(u){!this.dataSource||(u=(u=u.trim()).toLowerCase(),this.dataSource.filter=u)}reload(){this.isLoading=!0,this.ngOnInit(),this.isLoading=!1}close(){this.dialogRef.close(this.reception)}ngOnDestroy(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(u=>this.selection.select(u))}createRemission(){this.dialog.open(T.L,{data:{reception:this.reception,remission:this.remission,view:!1}}).afterClosed().subscribe(u=>{if(u){var v=new D.O(u.remission);this.reception.reception_id=u.reception.reception_id,this.reception.Remissions.push(v),this.subject$.next(this.remissions),this.getData(),this.data$.pipe((0,t.h)(Z=>!!Z)).subscribe(Z=>{this.remissions=Z,this.dataSource.data=Z},Z=>{this.snackbar.open(Z.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}this.recep.emit(this.reception)})}updateRemission(u){this._remissionsService.getRemission(u.remission_id,this.reception.reception_id).subscribe(v=>{this.remission=v,this.dialog.open(T.L,{data:{reception:this.reception,remission:this.remission,view:!1}}).afterClosed().subscribe(Z=>{Z&&(this.reception.reception_id=Z.reception.reception_id,this.reception.Remissions[this.reception.Remissions.findIndex(q=>q.remission_id==Z.remission.remission_id)]=Z.remission,this.subject$.next(this.remissions),this.getData(),this.data$.pipe((0,t.h)(q=>!!q)).subscribe(q=>{this.remissions=q,this.dataSource.data=q}))}),this.recep.emit(this.reception)},v=>{this.snackbar.open(v.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}viewRemission(u){var v=this.invoice.invoice_id>0?this.invoice.Remissions[this.invoice.Remissions.findIndex(Z=>Z.remission_id=u.remission_id)]:this.reception.Remissions[this.reception.Remissions.findIndex(Z=>Z.remission_id=u.remission_id)];this.dialog.open(T.L,{data:{reception:this.reception,remission:v,view:!0}}).afterClosed().subscribe(Z=>{Z&&(this.reception.reception_id=Z.reception.reception_id,this.reception.Remissions[this.reception.Remissions.findIndex(q=>q.remission_id==Z.remission.remission_id)]=Z.remission,this.subject$.next(this.remissions),this.view=!0,this.getData(),this.data$.pipe((0,t.h)(q=>!!q)).subscribe(q=>{this.remissions=q,this.dataSource.data=q})),this.recep.emit(this.reception)})}addToInvoice(){this._remissionsService.assign(this.reception,this.selection.selected,this.invoice,"add").subscribe(u=>{this.selection.selected.forEach(v=>{if(this.remission=new D.O(v),this.invoice){this.reception.Invoices.find(q=>q.invoice_id==this.invoice.invoice_id).Remissions.push(this.remission);var Z=this.reception.Remissions.findIndex(q=>q.remission_id==this.remission.remission_id);this.reception.Remissions.splice(Z,1)}}),this.snackbar.open(u.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.reception),this.recep.emit(this.reception)},u=>{this.snackbar.open(u.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}removeFromInvoice(){this._remissionsService.assign(this.reception,this.selection.selected,this.invoice,"from").subscribe(u=>{this.selection.selected.forEach(v=>{this.remission=new D.O(v),this.invoice&&this.reception.Invoices.find(Z=>Z.invoice_id==this.invoice.invoice_id).Remissions.push(this.remission)}),this.snackbar.open(u.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.reception),this.recep.emit(this.reception)},u=>{this.snackbar.open(u.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}detailRemissions(){this.dialog.open(x,{data:{reception:this.reception,invoice:null,view:!1,not_assigned:!0}}).afterClosed().subscribe(u=>{u&&(this.reception=u,this.getData(),this.data$.pipe((0,t.h)(v=>!!v)).subscribe(v=>{this.remissions=v,this.dataSource.data=v})),this.recep.emit(this.reception)})}}return x.\u0275fac=function(u){return new(u||x)(i.Y36(s.WI),i.Y36(s.so),i.Y36(s.uw),i.Y36(N.D),i.Y36(G.w),i.Y36(z.ux),i.Y36(j.J),i.Y36(H.F0))},x.\u0275cmp=i.Xpm({type:x,selectors:[["remissions-widget"]],viewQuery:function(u,v){if(1&u&&(i.Gf(P.NW,7),i.Gf(e.YE,7)),2&u){let Z;i.iGM(Z=i.CRH())&&(v.paginator=Z.first),i.iGM(Z=i.CRH())&&(v.sort=Z.first)}},inputs:{view:"view",rec:"rec",inv:"inv",columns:"columns"},outputs:{recep:"recep"},features:[i.TTD],decls:26,vars:13,consts:[[4,"ngIf"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"card-content"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","style","width: 30px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-row",""],[1,"paginator",3,"pageSize"],[3,"isLoading"],["mat-icon-button","","type","button",3,"click"],["svgIcon","folder_details"],["svgIcon","attach_docs"],["mat-icon-button","",3,"click"],["mat-header-cell","",2,"width","30px"],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","style","padding: 7px",4,"matHeaderCellDef"],["mat-cell","","style","padding: 7px",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",2,"padding","7px"],["mat-cell","",2,"padding","7px"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-header-row",""]],template:function(u,v){1&u&&(i.TgZ(0,"fury-card"),i.TgZ(1,"fury-card-header"),i.TgZ(2,"fury-card-header-heading"),i._uU(3," Remisiones "),i.qZA(),i.YNc(4,ne,2,0,"fury-card-header-subheading",0),i.YNc(5,oe,2,0,"fury-card-header-subheading",0),i.TgZ(6,"fury-card-header-actions"),i.YNc(7,re,2,1,"button",1),i.YNc(8,se,2,0,"button",1),i.YNc(9,E,3,0,"button",1),i.YNc(10,w,3,0,"button",1),i.YNc(11,C,3,0,"button",2),i.qZA(),i.qZA(),i.TgZ(12,"fury-card-content",3),i.TgZ(13,"table",4),i.ynx(14,5),i.YNc(15,A,2,2,"th",6),i.YNc(16,I,2,1,"td",7),i.BQk(),i.YNc(17,a,2,1,"ng-container",8),i.ynx(18,9),i.YNc(19,o,1,0,"th",10),i.YNc(20,B,11,6,"td",11),i.BQk(),i.YNc(21,$,1,0,"tr",12),i.YNc(22,ce,1,0,"tr",13),i._UZ(23,"tr",14),i.qZA(),i._UZ(24,"mat-paginator",15),i.qZA(),i._UZ(25,"fury-loading-overlay",16),i.qZA()),2&u&&(i.xp6(4),i.Q6J("ngIf",!v.view),i.xp6(1),i.Q6J("ngIf",v.view),i.xp6(2),i.Q6J("ngIf",v.view&&2==v.reception.status&&v.rec.Remissions.length>0),i.xp6(1),i.Q6J("ngIf",0!=v.invoice.invoice_id&&!v.view&&2==v.reception.status),i.xp6(1),i.Q6J("ngIf",0==v.invoice.invoice_id&&!v.view&&2==v.reception.status),i.xp6(1),i.Q6J("ngIf",!v.view),i.xp6(1),i.Q6J("ngIf",!v.view&&2==v.reception.status),i.xp6(2),i.Q6J("dataSource",v.dataSource),i.xp6(4),i.Q6J("ngForOf",v.columns),i.xp6(4),i.Q6J("matHeaderRowDef",v.visibleColumns),i.xp6(1),i.Q6J("matRowDefColumns",v.visibleColumns),i.xp6(2),i.Q6J("pageSize",v.pageSize),i.xp6(1),i.Q6J("isLoading",v.isLoading))},directives:[K.i0,K.$X,K.eP,Q.O5,K.OA,K.z8,h.BZ,e.YE,h.w1,h.fO,h.Dz,Q.sg,h.as,h.nj,h.Gk,P.NW,X.d,K.lO,ee.lW,te.Hw,h.ge,ie.oG,h.ev,e.nU,V.p6,V.VK,V.OP,h.XQ],styles:[".fury-card[_ngcontent-%COMP%]{background:#195fc7;color:#f5f5f5}.fury-card[_ngcontent-%COMP%]   .fury-card-header-subheading[_ngcontent-%COMP%]{color:#f5f5f5}.gain[_ngcontent-%COMP%]{margin-left:8px;font:var(--font-caption)}.gain[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.card-content[_ngcontent-%COMP%]{padding:0;overflow:scroll}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{padding:0 24px 24px}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--font-body-1);text-transform:uppercase}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font:var(--font-display-1)}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:3px;font-size:32px;height:32px;width:32px}.card-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:170px;max-width:100%;display:flex;flex:1;position:relative}"],data:{animation:[m.M,M.X,O.K]}}),x})()},17250:(J,U,r)=>{r.d(U,{U:()=>O});var y=r(48966),i=r(88914),s=r(37425),P=r(14499),e=r(5e3),h=r(59968),F=r(36551),c=r(25245),t=r(30277),m=r(93075),M=r(47423);let O=(()=>{class R{constructor(D,T){this.data=D,this.dialogRef=T,T.disableClose=!0}ngOnInit(){console.log(this.data)}close(){this.dialogRef.close()}}return R.\u0275fac=function(D){return new(D||R)(e.Y36(y.WI),e.Y36(y.so))},R.\u0275cmp=e.Xpm({type:R,selectors:[["fury-form-wizard"]],decls:118,vars:16,consts:[[1,"title"],["svgIcon","tank_delivery_reading"],["fxLayout","column","fxLayoutAlign","start center",2,"border-width","thin","border-style","solid","margin-top","10px"],[1,"card"],[1,"heading"],[2,"width","500px"],[2,"width","60px"],[2,"text-align","right"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","24px",2,"margin-top","20px"],["color","primary","mat-raised-button","",3,"click"]],template:function(D,T){1&D&&(e.TgZ(0,"fury-page"),e.TgZ(1,"fury-title",0),e._UZ(2,"mat-icon",1),e.TgZ(3,"span"),e._uU(4,"Incremento de combustible"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"form"),e.TgZ(8,"div",4),e._uU(9,"Resultados:"),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"tr"),e.TgZ(12,"td"),e.TgZ(13,"strong"),e._uU(14,"Id:"),e.qZA(),e.qZA(),e.TgZ(15,"td",6),e._uU(16,"\xa0"),e.qZA(),e.TgZ(17,"td",7),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"tr"),e.TgZ(20,"td"),e.TgZ(21,"strong"),e._uU(22,"Producto:"),e.qZA(),e.qZA(),e.TgZ(23,"td"),e._uU(24,"\xa0"),e.qZA(),e.TgZ(25,"td",7),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td"),e.TgZ(29,"strong"),e._uU(30,"Estaci\xf3n:"),e.qZA(),e.qZA(),e.TgZ(31,"td"),e._uU(32,"\xa0"),e.qZA(),e.TgZ(33,"td",7),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td"),e.TgZ(37,"strong"),e._uU(38,"Tanque:"),e.qZA(),e.qZA(),e.TgZ(39,"td"),e._uU(40,"\xa0"),e.qZA(),e.TgZ(41,"td",7),e._uU(42),e.qZA(),e.qZA(),e.TgZ(43,"tr"),e.TgZ(44,"td"),e.TgZ(45,"strong"),e._uU(46,"N\xfamero de tanque:"),e.qZA(),e.qZA(),e.TgZ(47,"td"),e._uU(48,"\xa0"),e.qZA(),e.TgZ(49,"td",7),e._uU(50),e.qZA(),e.qZA(),e.TgZ(51,"tr"),e.TgZ(52,"td"),e.TgZ(53,"strong"),e._uU(54,"Volumen inicial:"),e.qZA(),e.qZA(),e.TgZ(55,"td"),e._uU(56,"\xa0"),e.qZA(),e.TgZ(57,"td",7),e._uU(58),e.qZA(),e.qZA(),e.TgZ(59,"tr"),e.TgZ(60,"td"),e.TgZ(61,"strong"),e._uU(62,"Volumen final:"),e.qZA(),e.qZA(),e.TgZ(63,"td"),e._uU(64,"\xa0"),e.qZA(),e.TgZ(65,"td",7),e._uU(66),e.qZA(),e.qZA(),e.TgZ(67,"tr"),e.TgZ(68,"td"),e.TgZ(69,"strong"),e._uU(70,"Volumen descarga:"),e.qZA(),e.qZA(),e.TgZ(71,"td"),e._uU(72,"\xa0"),e.qZA(),e.TgZ(73,"td",7),e._uU(74),e.qZA(),e.qZA(),e.TgZ(75,"tr"),e.TgZ(76,"td"),e.TgZ(77,"strong"),e._uU(78,"Inicio de descarga:"),e.qZA(),e.qZA(),e.TgZ(79,"td"),e._uU(80,"\xa0"),e.qZA(),e.TgZ(81,"td",7),e._uU(82),e.qZA(),e.qZA(),e.TgZ(83,"tr"),e.TgZ(84,"td"),e.TgZ(85,"strong"),e._uU(86,"Fin de descarga:"),e.qZA(),e.qZA(),e.TgZ(87,"td"),e._uU(88,"\xa0"),e.qZA(),e.TgZ(89,"td",7),e._uU(90),e.qZA(),e.qZA(),e.TgZ(91,"tr"),e.TgZ(92,"td"),e.TgZ(93,"strong"),e._uU(94,"Temperatura inicial:"),e.qZA(),e.qZA(),e.TgZ(95,"td"),e._uU(96,"\xa0"),e.qZA(),e.TgZ(97,"td",7),e._uU(98),e.qZA(),e.qZA(),e.TgZ(99,"tr"),e.TgZ(100,"td"),e.TgZ(101,"strong"),e._uU(102,"Temperatura final:"),e.qZA(),e.qZA(),e.TgZ(103,"td"),e._uU(104,"\xa0"),e.qZA(),e.TgZ(105,"td",7),e._uU(106),e.qZA(),e.qZA(),e.TgZ(107,"tr"),e.TgZ(108,"td"),e.TgZ(109,"strong"),e._uU(110,"Origen del registro:"),e.qZA(),e.qZA(),e.TgZ(111,"td"),e._uU(112,"\xa0"),e.qZA(),e.TgZ(113,"td",7),e._uU(114),e.qZA(),e.qZA(),e.qZA(),e.TgZ(115,"div",8),e.TgZ(116,"button",9),e.NdJ("click",function(){return T.close()}),e._uU(117,"CERRAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&D&&(e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(1),e.Q6J("@fadeInRight",void 0),e.xp6(3),e.Q6J("@fadeInUp",void 0),e.xp6(12),e.Oqu(T.data.reception_id),e.xp6(8),e.Oqu(T.data.product_name),e.xp6(8),e.Oqu(T.data.station_name),e.xp6(8),e.Oqu(T.data.tank_name),e.xp6(8),e.Oqu(T.data.tank_number),e.xp6(8),e.Oqu(T.data.start_volume),e.xp6(8),e.Oqu(T.data.end_volume),e.xp6(8),e.Oqu(T.data.volume),e.xp6(8),e.Oqu(T.data.start_delivery_timestamp),e.xp6(8),e.Oqu(T.data.end_delivery_timestamp),e.xp6(8),e.Oqu(T.data.start_temp),e.xp6(8),e.Oqu(T.data.end_temp),e.xp6(8),e.Oqu(T.data.register_origin))},directives:[h.i,F.M,c.Hw,t.xw,t.Wh,m._Y,m.JL,m.F,t.SQ,M.lW],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{overflow:scroll;margin:5px;max-width:100%;max-height:400px;border-radius:8px;padding:8px}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title);vertical-align:middle;background-color:#add8e6}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .text-icon[_ngcontent-%COMP%]{max-width:49.5%}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:14px;padding:24px 8px 0}"],data:{animation:[P.X,i.M,s.K]}}),R})()},86590:(J,U,r)=>{r.d(U,{q:()=>p});var y=r(70655),i=r(5e3),s=r(48966),P=r(86087),e=r(84847),h=r(32075),F=r(20449),c=r(96831),t=r(92198),m=r(88914),M=r(14499),O=r(37425),R=r(17250);class n{constructor(d){this.tank_delivery_reading_id=d&&d.tank_delivery_reading_id||null,this.reception_unique_id=d&&d.reception_unique_id||null,this.tank_id=d&&d.tank_id||null,this.start_volume=d&&d.start_volume||null,this.end_volume=d&&d.end_volume||null,this.start_temp=d&&d.start_temp||null,this.volume=d&&d.volume||null,this.end_temp=d&&d.end_temp||null,this.start_delivery_timestamp=d&&d.start_delivery_timestamp||null,this.end_delivery_timestamp=d&&d.end_delivery_timestamp||null,this.rui=d&&d.rui||null,this.status=d&&d.status||null,this.start_tc_volume=d&&d.start_tc_volume||null,this.end_tc_volume=d&&d.end_tc_volume||null,this.start_height=d&&d.start_height||null,this.end_height=d&&d.end_height||null,this.start_water=d&&d.start_water||null,this.end_water=d&&d.end_water||null,this.site_code=d&&d.site_code||null,this.station_name=d&&d.station_name||null,this.tank_name=d&&d.tank_name||null,this.tank_number=d&&d.tank_number||null,this.register_origin=d&&d.register_origin||null,this.reception_id=d&&d.reception_id||null,this.ho_product_id=d&&d.ho_product_id||null,this.product_name=d&&d.product_name||null,this.color=d&&d.color||null}}var D=r(7732),T=r(92824),b=r(57261),L=r(97199),Y=r(69808),N=r(75972),G=r(47423),z=r(25245),j=r(77446),H=r(92181);function K(g,d){if(1&g&&(i.TgZ(0,"fury-card-header-subheading"),i._uU(1),i.qZA()),2&g){const a=i.oxw();i.xp6(1),i.hij(" ",a.title," disponibles ")}}function Q(g,d){if(1&g&&(i.TgZ(0,"fury-card-header-subheading"),i._uU(1),i.qZA()),2&g){const a=i.oxw();i.xp6(1),i.hij(" ",a.title," asignados ")}}function X(g,d){if(1&g){const a=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){return i.CHM(a),i.oxw().addToDocument()}),i._UZ(1,"mat-icon",17),i.qZA()}2&g&&(i.xp6(1),i.Q6J("@scaleIn",void 0))}function ee(g,d){if(1&g){const a=i.EpF();i.TgZ(0,"button",16),i.NdJ("click",function(){return i.CHM(a),i.oxw().close()}),i.TgZ(1,"mat-icon"),i._uU(2,"close"),i.qZA(),i.qZA()}}function te(g,d){if(1&g){const a=i.EpF();i.TgZ(0,"button",18),i.NdJ("click",function(){return i.CHM(a),i.oxw().reload()}),i.TgZ(1,"mat-icon"),i._uU(2,"refresh"),i.qZA(),i.qZA()}}function ie(g,d){if(1&g){const a=i.EpF();i.TgZ(0,"th",19),i.TgZ(1,"mat-checkbox",20),i.NdJ("change",function(l){i.CHM(a);const _=i.oxw();return l?_.masterToggle():null}),i.qZA(),i.qZA()}if(2&g){const a=i.oxw();i.xp6(1),i.Q6J("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())}}function V(g,d){if(1&g){const a=i.EpF();i.TgZ(0,"td",21),i.TgZ(1,"mat-checkbox",22),i.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const f=i.CHM(a).$implicit,S=i.oxw();return l?S.selection.toggle(f):null}),i.qZA(),i.qZA()}if(2&g){const a=d.$implicit,o=i.oxw();i.xp6(1),i.Q6J("checked",o.selection.isSelected(a))}}function ne(g,d){if(1&g&&(i.TgZ(0,"th",27),i._uU(1),i.qZA()),2&g){const a=i.oxw(2).$implicit;i.xp6(1),i.hij(" ",a.name,"")}}function oe(g,d){if(1&g&&(i.TgZ(0,"td",28),i._uU(1),i.qZA()),2&g){const a=d.$implicit,o=i.oxw(2).$implicit,l=i.oxw();i.xp6(1),i.Oqu(l.getLabel(o.name,a[o.property]))}}function re(g,d){if(1&g&&(i.ynx(0,24),i.YNc(1,ne,2,1,"th",25),i.YNc(2,oe,2,1,"td",26),i.BQk()),2&g){const a=i.oxw().$implicit;i.Q6J("matColumnDef",a.property)}}function se(g,d){if(1&g&&(i.ynx(0),i.YNc(1,re,3,1,"ng-container",23),i.BQk()),2&g){const a=d.$implicit;i.xp6(1),i.Q6J("ngIf",a.isModelProperty)}}function E(g,d){1&g&&i._UZ(0,"th",29)}function w(g,d){if(1&g){const a=i.EpF();i.TgZ(0,"button",34),i.NdJ("click",function(){i.CHM(a);const l=i.oxw().$implicit;return i.oxw().deattach(l)}),i.TgZ(1,"span"),i._uU(2,"Desasociar"),i.qZA(),i.qZA()}}function C(g,d){if(1&g){const a=i.EpF();i.TgZ(0,"td",30),i.TgZ(1,"button",31),i.NdJ("click",function(l){return l.stopPropagation()}),i.TgZ(2,"mat-icon"),i._uU(3,"more_horiz"),i.qZA(),i.qZA(),i.TgZ(4,"mat-menu",32,33),i.TgZ(6,"button",34),i.NdJ("click",function(){const _=i.CHM(a).$implicit;return i.oxw().show(_)}),i.TgZ(7,"span"),i._uU(8,"Ver"),i.qZA(),i.qZA(),i.YNc(9,w,3,0,"button",35),i.qZA(),i.qZA()}if(2&g){const a=d.$implicit,o=i.MAs(5),l=i.oxw();i.xp6(1),i.Q6J("matMenuTriggerFor",o),i.xp6(8),i.Q6J("ngIf",2==l.reception.status&&2!=a.status)}}function A(g,d){1&g&&i._UZ(0,"tr",36)}function I(g,d){1&g&&i._UZ(0,"tr",37)}let p=(()=>{class g{constructor(a,o,l,_,f,S){this.data=a,this.dialog=o,this.dialogRef=l,this._tankDeliveryReadingsService=_,this._receptionsService=f,this.snackbar=S,this.subject$=new c.t(1),this.data$=this.subject$.asObservable(),this.selection=new F.Ov(!0,[]),this.tank_delivery_readings=[],this.title="Incrementos de combustible",this.remis=new i.vpe,this.columns=[{name:"Checkbox",property:"select",visible:!0},{name:"Id",property:"tank_delivery_reading_id",visible:!0,isModelProperty:!0},{name:"Id \xfanico de recepci\xf3n",property:"reception_unique_id",visible:!1,isModelProperty:!0},{name:"Id tanque",property:"tank_id",visible:!1,isModelProperty:!0},{name:"Volumen inicial",property:"start_volume",visible:!0,isModelProperty:!0},{name:"Volumen final",property:"end_volume",visible:!0,isModelProperty:!0},{name:"Volumen",property:"volume",visible:!0,isModelProperty:!0},{name:"Temperatura inicial",property:"start_temp",visible:!1,isModelProperty:!0},{name:"Temperatura final",property:"end_temp",visible:!1,isModelProperty:!0},{name:"Inicio de lectura",property:"start_delivery_timestamp",visible:!0,isModelProperty:!0},{name:"Fin de lectura",property:"end_delivery_timestamp",visible:!0,isModelProperty:!0},{name:"RUI",property:"rui",visible:!1,isModelProperty:!0},{name:"Estatus",property:"status",visible:!0,isModelProperty:!0},{name:"Volumen TC inicial",property:"start_tc_volume",visible:!1,isModelProperty:!0},{name:"Volumen TC final",property:"end_tc_volume",visible:!1,isModelProperty:!0},{name:"Altura inicial",property:"start_height",visible:!1,isModelProperty:!0},{name:"Altura final",property:"end_height",visible:!1,isModelProperty:!0},{name:"Volumen de agua inicial",property:"start_water",visible:!1,isModelProperty:!0},{name:"Volumen de agua final",property:"end_water",visible:!1,isModelProperty:!0},{name:"Id estaci\xf3n",property:"site_code",visible:!1,isModelProperty:!0},{name:"Estaci\xf3n",property:"station_name",visible:!0,isModelProperty:!0},{name:"N\xfamero de tanque",property:"tank_number",visible:!0,isModelProperty:!0},{name:"Nombre de tanque",property:"tank_name",visible:!0,isModelProperty:!0},{name:"Id recepci\xf3n",property:"reception_id",visible:!1,isModelProperty:!0},{name:"Id producto",property:"ho_product_id",visible:!1,isModelProperty:!0},{name:"Producto",property:"product_name",visible:!0,isModelProperty:!0},{name:"Origen del registro",property:"register_origin",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getLabel(a,o){if(null!=a)return"Estatus"==a?2==o?"Disponible":"Asignado":"Origen del registro"==a?"TLS"==o?"TLS":"Bomba":o}get visibleColumns(){return this.columns.filter(a=>a.visible).map(a=>a.property)}getRemoteData(){this._tankDeliveryReadingsService.getAll(this.reception.site_code,this.reception.status,this.reception.reception_id,null!=this.remission?this.remission.remission_id:null,null!=this.invoice?this.invoice.invoice_id:null).subscribe(a=>{this.tank_delivery_readings=a,this.dataSource=new h.by(a),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},a=>{console.log(a)})}getData(){this.invoice?(this.tank_delivery_readings=this.invoice.TankDeliveryReadings,this.dataSource=new h.by(this.invoice.TankDeliveryReadings)):this.remission&&(this.tank_delivery_readings=this.remission.TankDeliveryReadings,this.dataSource=new h.by(this.remission.TankDeliveryReadings)),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnInit(){return(0,y.mG)(this,void 0,void 0,function*(){this.dataSource=new h.by,this.view?(this.reception=this.rec,this.getData()):(this.reception=this.data.reception,this.remission=this.data.remission?this.data.remission:null,this.invoice=this.data.invoice?this.data.invoice:null,this.getRemoteData()),this.data$.pipe((0,t.h)(a=>!!a)).subscribe(a=>{this.tank_delivery_readings=a,this.dataSource.data=a})})}ngOnChanges(a){for(const o in a)this[o]=a[o].currentValue,this.reload()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}addToDocument(){this._tankDeliveryReadingsService.assign(this.reception,this.selection.selected,this.invoice,this.remission).subscribe(a=>{this.selection.selected.forEach(o=>{this.tank_delivery_reading=new n(o),this.invoice?this.invoice.Remissions.length>0?this.reception.Invoices.find(l=>l.invoice_id==this.invoice.invoice_id).Remissions.find(l=>l.remission_id==this.remission.remission_id).TankDeliveryReadings.push(this.tank_delivery_reading):this.reception.Invoices.find(l=>l.invoice_id==this.invoice.invoice_id).TankDeliveryReadings.push(this.tank_delivery_reading):this.reception.Remissions.find(l=>l.remission_id==this.remission.remission_id).TankDeliveryReadings.push(this.tank_delivery_reading)}),this.snackbar.open(a.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.reception)},a=>{this.snackbar.open(a.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}close(){this.dialogRef.close()}onFilterChange(a){!this.dataSource||(a=(a=a.trim()).toLowerCase(),this.dataSource.filter=a)}show(a){this.dialog.open(R.U,{data:a}).afterClosed().subscribe(o=>{})}deattach(a){this._receptionsService.dettach({reception_id:this.data.reception.reception_id,invoice_id:void 0!==this.data.invoice?this.data.invoice.invoice_id:null,remission_id:void 0!==this.data.remission?this.data.remission.remission_id:null,tank_delivery_reading_id:a.tank_delivery_reading_id}).subscribe(l=>{this.remission.TankDeliveryReadings.splice(this.remission.TankDeliveryReadings.findIndex(_=>_.tank_delivery_reading_id=a.tank_delivery_reading_id),1),this.snackbar.open(l.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.reload()},l=>{this.snackbar.open(l.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}delete(a){this._tankDeliveryReadingsService.delete(a).subscribe(o=>{this.getRemoteData(),this.snackbar.open(o.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.reception)},o=>{this.snackbar.open(o.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}reload(){this.isLoading=!0,this.ngOnInit(),this.isLoading=!1}ngOnDestroy(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(a=>this.selection.select(a))}}return g.\u0275fac=function(a){return new(a||g)(i.Y36(s.WI),i.Y36(s.uw),i.Y36(s.so),i.Y36(D.a),i.Y36(T.J),i.Y36(b.ux))},g.\u0275cmp=i.Xpm({type:g,selectors:[["tank-delivery-readings-widget"]],viewQuery:function(a,o){if(1&a&&(i.Gf(P.NW,7),i.Gf(e.YE,7)),2&a){let l;i.iGM(l=i.CRH())&&(o.paginator=l.first),i.iGM(l=i.CRH())&&(o.sort=l.first)}},inputs:{invoice:"invoice",remission:"remission",view:"view",rec:"rec",columns:"columns"},outputs:{remis:"remis"},features:[i.TTD],decls:23,vars:12,consts:[[4,"ngIf"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"card-content"],["mat-table","","matSort","",2,"width","150%",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","style","width: 30px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",2,"width","150%",3,"pageSize"],[3,"isLoading"],["mat-icon-button","","type","button",3,"click"],["svgIcon","attach_docs"],["mat-icon-button","",3,"click"],["mat-header-cell","",2,"width","30px"],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","style","padding: 5px",4,"matHeaderCellDef"],["mat-cell","","style","padding: 5px",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",2,"padding","5px"],["mat-cell","",2,"padding","5px"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(i.TgZ(0,"fury-card"),i.TgZ(1,"fury-card-header"),i.TgZ(2,"fury-card-header-heading"),i._uU(3),i.qZA(),i.YNc(4,K,2,1,"fury-card-header-subheading",0),i.YNc(5,Q,2,1,"fury-card-header-subheading",0),i.TgZ(6,"fury-card-header-actions"),i.YNc(7,X,2,1,"button",1),i.YNc(8,ee,3,0,"button",1),i.YNc(9,te,3,0,"button",2),i.qZA(),i.qZA(),i.TgZ(10,"fury-card-content",3),i.TgZ(11,"table",4),i.ynx(12,5),i.YNc(13,ie,2,2,"th",6),i.YNc(14,V,2,1,"td",7),i.BQk(),i.YNc(15,se,2,1,"ng-container",8),i.ynx(16,9),i.YNc(17,E,1,0,"th",10),i.YNc(18,C,10,2,"td",11),i.BQk(),i.YNc(19,A,1,0,"tr",12),i.YNc(20,I,1,0,"tr",13),i.qZA(),i._UZ(21,"mat-paginator",14),i.qZA(),i._UZ(22,"fury-loading-overlay",15),i.qZA()),2&a&&(i.xp6(3),i.hij(" ",o.title," "),i.xp6(1),i.Q6J("ngIf",!o.view),i.xp6(1),i.Q6J("ngIf",o.view),i.xp6(2),i.Q6J("ngIf",!o.view&&2==o.reception.status),i.xp6(1),i.Q6J("ngIf",!o.view&&2==o.reception.status),i.xp6(1),i.Q6J("ngIf",!o.view&&2==o.reception.status),i.xp6(2),i.Q6J("dataSource",o.dataSource),i.xp6(4),i.Q6J("ngForOf",o.columns),i.xp6(4),i.Q6J("matHeaderRowDef",o.visibleColumns),i.xp6(1),i.Q6J("matRowDefColumns",o.visibleColumns),i.xp6(1),i.Q6J("pageSize",o.pageSize),i.xp6(1),i.Q6J("isLoading",o.isLoading))},directives:[L.i0,L.$X,L.eP,Y.O5,L.OA,L.z8,h.BZ,e.YE,h.w1,h.fO,h.Dz,Y.sg,h.as,h.nj,P.NW,N.d,L.lO,G.lW,z.Hw,h.ge,j.oG,h.ev,e.nU,H.p6,H.VK,H.OP,h.XQ,h.Gk],styles:[".fury-card[_ngcontent-%COMP%]{background:#195fc7;color:#f5f5f5}.fury-card[_ngcontent-%COMP%]   .fury-card-header-subheading[_ngcontent-%COMP%]{color:#f5f5f5}.gain[_ngcontent-%COMP%]{margin-left:8px;font:var(--font-caption)}.gain[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.card-content[_ngcontent-%COMP%]{padding:0;overflow:scroll}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{padding:0 24px 24px}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--font-body-1);text-transform:uppercase}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font:var(--font-display-1)}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:3px;font-size:32px;height:32px;width:32px}.card-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:170px;max-width:100%;display:flex;flex:1;position:relative}"],data:{animation:[M.X,m.M,O.K]}}),g})()},25250:(J,U,r)=>{r.d(U,{y:()=>O});var y=r(48966),i=r(88914),s=r(37425),P=r(14499),e=r(5e3),h=r(59968),F=r(36551),c=r(25245),t=r(30277),m=r(93075),M=r(47423);let O=(()=>{class R{constructor(D,T){this.data=D,this.dialogRef=T,T.disableClose=!0}ngOnInit(){console.log(this.data)}close(){this.dialogRef.close()}}return R.\u0275fac=function(D){return new(D||R)(e.Y36(y.WI),e.Y36(y.so))},R.\u0275cmp=e.Xpm({type:R,selectors:[["fury-form-wizard"]],decls:174,vars:23,consts:[[1,"title"],["svgIcon","balance"],["fxLayout","column","fxLayoutAlign","start center"],[1,"card"],[1,"heading"],[2,"width","400px"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","24px",2,"margin-top","20px"],["color","primary","mat-raised-button","",3,"click"]],template:function(D,T){1&D&&(e.TgZ(0,"fury-page"),e.TgZ(1,"fury-title",0),e._UZ(2,"mat-icon",1),e.TgZ(3,"span"),e._uU(4,"Pesaje"),e.qZA(),e.qZA(),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"form"),e.TgZ(8,"div",4),e._uU(9,"Resultados:"),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"tr"),e.TgZ(12,"td"),e.TgZ(13,"strong"),e._uU(14,"Id"),e.qZA(),e.qZA(),e.TgZ(15,"td"),e._uU(16,"\xa0"),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.qZA(),e.TgZ(19,"tr"),e.TgZ(20,"td"),e.TgZ(21,"strong"),e._uU(22,"Id pesaje"),e.qZA(),e.qZA(),e.TgZ(23,"td"),e._uU(24,"\xa0"),e.qZA(),e.TgZ(25,"td"),e._uU(26),e.qZA(),e.qZA(),e.TgZ(27,"tr"),e.TgZ(28,"td"),e.TgZ(29,"strong"),e._uU(30,"B\xe1scula"),e.qZA(),e.qZA(),e.TgZ(31,"td"),e._uU(32,"\xa0"),e.qZA(),e.TgZ(33,"td"),e._uU(34),e.qZA(),e.qZA(),e.TgZ(35,"tr"),e.TgZ(36,"td"),e.TgZ(37,"strong"),e._uU(38,"Medici\xf3n de entrada"),e.qZA(),e.qZA(),e.TgZ(39,"td"),e._uU(40,"\xa0"),e.qZA(),e.TgZ(41,"td"),e._uU(42),e.qZA(),e.qZA(),e.TgZ(43,"tr"),e.TgZ(44,"td"),e.TgZ(45,"strong"),e._uU(46,"Medici\xf3n de salida"),e.qZA(),e.qZA(),e.TgZ(47,"td"),e._uU(48,"\xa0"),e.qZA(),e.TgZ(49,"td"),e._uU(50),e.qZA(),e.qZA(),e.TgZ(51,"tr"),e.TgZ(52,"td"),e.TgZ(53,"strong"),e._uU(54,"Placa de veh\xedculo"),e.qZA(),e.qZA(),e.TgZ(55,"td"),e._uU(56,"\xa0"),e.qZA(),e.TgZ(57,"td"),e._uU(58),e.qZA(),e.qZA(),e.TgZ(59,"tr"),e.TgZ(60,"td"),e.TgZ(61,"strong"),e._uU(62,"Conductor"),e.qZA(),e.qZA(),e.TgZ(63,"td"),e._uU(64,"\xa0"),e.qZA(),e.TgZ(65,"td"),e._uU(66),e.qZA(),e.qZA(),e.TgZ(67,"tr"),e.TgZ(68,"td"),e.TgZ(69,"strong"),e._uU(70,"Proveedor"),e.qZA(),e.qZA(),e.TgZ(71,"td"),e._uU(72,"\xa0"),e.qZA(),e.TgZ(73,"td"),e._uU(74),e.qZA(),e.qZA(),e.TgZ(75,"tr"),e.TgZ(76,"td"),e.TgZ(77,"strong"),e._uU(78,"Peso bruto al entrar"),e.qZA(),e.qZA(),e.TgZ(79,"td"),e._uU(80,"\xa0"),e.qZA(),e.TgZ(81,"td"),e._uU(82),e.qZA(),e.qZA(),e.TgZ(83,"tr"),e.TgZ(84,"td"),e.TgZ(85,"strong"),e._uU(86,"Peso bruto al salir"),e.qZA(),e.qZA(),e.TgZ(87,"td"),e._uU(88,"\xa0"),e.qZA(),e.TgZ(89,"td"),e._uU(90),e.qZA(),e.qZA(),e.TgZ(91,"tr"),e.TgZ(92,"td"),e.TgZ(93,"strong"),e._uU(94,"Tara al entrar"),e.qZA(),e.qZA(),e.TgZ(95,"td"),e._uU(96,"\xa0"),e.qZA(),e.TgZ(97,"td"),e._uU(98),e.qZA(),e.qZA(),e.TgZ(99,"tr"),e.TgZ(100,"td"),e.TgZ(101,"strong"),e._uU(102,"Tara al salir"),e.qZA(),e.qZA(),e.TgZ(103,"td"),e._uU(104,"\xa0"),e.qZA(),e.TgZ(105,"td"),e._uU(106),e.qZA(),e.qZA(),e.TgZ(107,"tr"),e.TgZ(108,"td"),e.TgZ(109,"strong"),e._uU(110,"Peso neto al entrar"),e.qZA(),e.qZA(),e.TgZ(111,"td"),e._uU(112,"\xa0"),e.qZA(),e.TgZ(113,"td"),e._uU(114),e.qZA(),e.qZA(),e.TgZ(115,"tr"),e.TgZ(116,"td"),e.TgZ(117,"strong"),e._uU(118,"Peso neto al salir"),e.qZA(),e.qZA(),e.TgZ(119,"td"),e._uU(120,"\xa0"),e.qZA(),e.TgZ(121,"td"),e._uU(122),e.qZA(),e.qZA(),e.TgZ(123,"tr"),e.TgZ(124,"td"),e.TgZ(125,"strong"),e._uU(126,"Temperatura exterior al entrar"),e.qZA(),e.qZA(),e.TgZ(127,"td"),e._uU(128,"\xa0"),e.qZA(),e.TgZ(129,"td"),e._uU(130),e.qZA(),e.qZA(),e.TgZ(131,"tr"),e.TgZ(132,"td"),e.TgZ(133,"strong"),e._uU(134,"Temperatura exterior al salir"),e.qZA(),e.qZA(),e.TgZ(135,"td"),e._uU(136,"\xa0"),e.qZA(),e.TgZ(137,"td"),e._uU(138),e.qZA(),e.qZA(),e.TgZ(139,"tr"),e.TgZ(140,"td"),e.TgZ(141,"strong"),e._uU(142,"Id estaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(143,"td"),e._uU(144,"\xa0"),e.qZA(),e.TgZ(145,"td"),e._uU(146),e.qZA(),e.qZA(),e.TgZ(147,"tr"),e.TgZ(148,"td"),e.TgZ(149,"strong"),e._uU(150,"Estaci\xf3n"),e.qZA(),e.qZA(),e.TgZ(151,"td"),e._uU(152,"\xa0"),e.qZA(),e.TgZ(153,"td"),e._uU(154),e.qZA(),e.qZA(),e.TgZ(155,"tr"),e.TgZ(156,"td"),e.TgZ(157,"strong"),e._uU(158,"Producto"),e.qZA(),e.qZA(),e.TgZ(159,"td"),e._uU(160,"\xa0"),e.qZA(),e.TgZ(161,"td"),e._uU(162),e.qZA(),e.qZA(),e.TgZ(163,"tr"),e.TgZ(164,"td"),e.TgZ(165,"strong"),e._uU(166,"Observaciones"),e.qZA(),e.qZA(),e.TgZ(167,"td"),e._uU(168,"\xa0"),e.qZA(),e.TgZ(169,"td"),e._uU(170),e.qZA(),e.qZA(),e.qZA(),e.TgZ(171,"div",6),e.TgZ(172,"button",7),e.NdJ("click",function(){return T.close()}),e._uU(173,"CERRAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&D&&(e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(1),e.Q6J("@fadeInRight",void 0),e.xp6(3),e.Q6J("@fadeInUp",void 0),e.xp6(12),e.Oqu(T.data.id),e.xp6(8),e.Oqu(T.data.weighing_machine_reading_id),e.xp6(8),e.Oqu(T.data.weighing_machine_name),e.xp6(8),e.Oqu(T.data.entrance_weighing_timestamp),e.xp6(8),e.Oqu(T.data.salida_weighing_timestamp),e.xp6(8),e.Oqu(T.data.vehicle_plate),e.xp6(8),e.Oqu(T.data.driver),e.xp6(8),e.Oqu(T.data.provider_name),e.xp6(8),e.Oqu(T.data.entrance_gross_weight),e.xp6(8),e.Oqu(T.data.exit_gross_weight),e.xp6(8),e.Oqu(T.data.entrance_tare_weight),e.xp6(8),e.Oqu(T.data.exit_tare_weight),e.xp6(8),e.Oqu(T.data.entrance_net_weight),e.xp6(8),e.Oqu(T.data.exit_net_weight),e.xp6(8),e.Oqu(T.data.entrance_external_temperature),e.xp6(8),e.Oqu(T.data.exit_external_temperature),e.xp6(8),e.Oqu(T.data.site_code),e.xp6(8),e.Oqu(T.data.station_name),e.xp6(8),e.Oqu(T.data.product_name),e.xp6(8),e.Oqu(T.data.observations))},directives:[h.i,F.M,c.Hw,t.xw,t.Wh,m._Y,m.JL,m.F,t.SQ,M.lW],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{overflow:scroll;margin:5px;max-width:100%;max-height:400px;border-radius:8px;padding:8px}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:5px}.card[_ngcontent-%COMP%]   .text-icon[_ngcontent-%COMP%]{max-width:49.5%}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:14px;padding:24px 8px 0}"],data:{animation:[P.X,i.M,s.K]}}),R})()},27702:(J,U,r)=>{r.d(U,{k:()=>d});var y=r(70655),i=r(48966),s=r(86087),P=r(84847),e=r(32075),h=r(20449),F=r(96831),c=r(92198),t=r(37425),m=r(88914),M=r(14499);class O{constructor(o){console.log(o),this.id=o=o&&o.id||null,this.entrance_weighing_machine_reading_id=o=o&&o.entrance_weighing_machine_reading_id||null,this.exit_weighing_machine_reading_id=o=o&&o.exit_weighing_machine_reading_id||null,this.weighing_machine_id=o=o&&o.weighing_machine_id||null,this.weighing_machine_name=o&&o.weighing_machine_name||null,this.entrance_weighing_timestamp=o=o&&o.entrance_weighing_machine_timestamp||null,this.exit_weighing_timestamp=o=o&&o.exit_weighing_machine_timestamp||null,this.vehicle_plate=o=o&&o.vehicle_plate||null,this.driver=o=o&&o.driver||null,this.cre_permission_id=o=o&&o.cre_permission_id||null,this.provider_name=o&&o.provider_name||null,this.entrance_gross_weight=o=o&&o.entrance_gross_weight||null,this.exit_gross_weight=o=o&&o.exit_gross_weight||null,this.entrance_tare_weight=o=o&&o.entrance_tare_weight||null,this.exit_tare_weight=o=o&&o.exit_tare_weight||null,this.entrance_net_weight=o=o&&o.entrance_net_weight||null,this.exit_net_weight=o=o&&o.exit_net_weight||null,this.entrance_external_temperature=o=o&&o.entrance_external_temperature||null,this.exit_external_temperature=o=o&&o.exit_external_temperature||null,this.remission_document_id=o=o&&o.remission_document_id||null,this.identification_number=o=o&&o.identification_number||null,this.invoice_document_id=o=o&&o.invoice_document_id||null,this.invoice_number1=o=o&&o.invoice_number1||null,this.tank_delivery_reading_id=o=o&&o.tank_delivery_reading_id||null,this.site_code=o=o&&o.site_code||null,this.station_name=o=o&&o.station_name||null,this.product_id=o=o&&o.product_id||null,this.product_name=o=o&&o.product_name||null,this.observations=o=o&&o.observations||null,this.reception_id=o=o&&o.reception_id||null,this.status=o=o&&o.status||null}}var R=r(25250),n=r(5e3),D=r(40520),T=r(98545),b=r(33344);let L=(()=>{class a{constructor(l,_){this.http=l,this.tokenStorage=_}getHeaders(){var l=new D.WM,_=this.tokenStorage.getToken();return l.set("token",_||"{}")}getAll(l,_,f,S,k){var B=this.getHeaders(),$="?site_code="+l;return $+="&status="+_,$+=f?"&reception_id="+f:"",$+=S?"&remission_id="+S:"",this.http.get(T._.settings.apiServer.API_URL_BASE+T._.settings.apiServer.WEIGHING_MACHINE_READINGS+($+=k?"&invoice_id="+k:""),{headers:B})}assign(l,_,f,S){console.log(_);var k=this.getHeaders(),B="?reception_id="+l.reception_id;return B+="&site_code="+l.site_code,B+=f?"&invoice_id="+f.invoice_id:"",this.http.put(T._.settings.apiServer.API_URL_BASE+T._.settings.apiServer.WEIGHING_MACHINE_READINGS+(B+=S?"&remission_id="+S.remission_id:""),_,{headers:k})}delete(l){var _=this.getHeaders();return this.http.delete(T._.settings.apiServer.API_URL_BASE+T._.settings.apiServer.WEIGHING_MACHINE_READINGS+"/"+l.id,{headers:_})}}return a.\u0275fac=function(l){return new(l||a)(n.LFG(D.eN),n.LFG(b.i))},a.\u0275prov=n.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Y=r(57261),N=r(97199),G=r(69808),z=r(75972),j=r(47423),H=r(25245),K=r(77446),Q=r(92181);function X(a,o){if(1&a&&(n.TgZ(0,"fury-card-header-subheading"),n._uU(1),n.qZA()),2&a){const l=n.oxw();n.xp6(1),n.hij(" ",l.title," disponibles ")}}function ee(a,o){if(1&a&&(n.TgZ(0,"fury-card-header-subheading"),n._uU(1),n.qZA()),2&a){const l=n.oxw();n.xp6(1),n.hij(" ",l.title," asignados ")}}function te(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){return n.CHM(l),n.oxw().addToDocument()}),n._UZ(1,"mat-icon",17),n.qZA()}2&a&&(n.xp6(1),n.Q6J("@scaleIn",void 0))}function ie(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){return n.CHM(l),n.oxw().close()}),n.TgZ(1,"mat-icon"),n._uU(2,"close"),n.qZA(),n.qZA()}}function V(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){return n.CHM(l),n.oxw().reload()}),n.TgZ(1,"mat-icon"),n._uU(2,"refresh"),n.qZA(),n.qZA()}}function ne(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"th",19),n.TgZ(1,"mat-checkbox",20),n.NdJ("change",function(f){n.CHM(l);const S=n.oxw();return f?S.masterToggle():null}),n.qZA(),n.qZA()}if(2&a){const l=n.oxw();n.xp6(1),n.Q6J("checked",l.selection.hasValue()&&l.isAllSelected())("indeterminate",l.selection.hasValue()&&!l.isAllSelected())}}function oe(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"td",21),n.TgZ(1,"mat-checkbox",22),n.NdJ("click",function(f){return f.stopPropagation()})("change",function(f){const k=n.CHM(l).$implicit,B=n.oxw();return f?B.selection.toggle(k):null}),n.qZA(),n.qZA()}if(2&a){const l=o.$implicit,_=n.oxw();n.xp6(1),n.Q6J("checked",_.selection.isSelected(l))}}function re(a,o){if(1&a&&(n.TgZ(0,"th",27),n._uU(1),n.qZA()),2&a){const l=n.oxw(2).$implicit;n.xp6(1),n.hij(" ",l.name,"")}}function se(a,o){if(1&a&&(n.TgZ(0,"td",28),n._uU(1),n.qZA()),2&a){const l=o.$implicit,_=n.oxw(2).$implicit,f=n.oxw();n.xp6(1),n.Oqu(f.getLabel(_.name,l[_.property]))}}function E(a,o){if(1&a&&(n.ynx(0,24),n.YNc(1,re,2,1,"th",25),n.YNc(2,se,2,1,"td",26),n.BQk()),2&a){const l=n.oxw().$implicit;n.Q6J("matColumnDef",l.property)}}function w(a,o){if(1&a&&(n.ynx(0),n.YNc(1,E,3,1,"ng-container",23),n.BQk()),2&a){const l=o.$implicit;n.xp6(1),n.Q6J("ngIf",l.isModelProperty)}}function C(a,o){1&a&&n._UZ(0,"th",29)}function A(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"button",34),n.NdJ("click",function(){n.CHM(l);const f=n.oxw().$implicit;return n.oxw().delete(f)}),n.TgZ(1,"span"),n._uU(2,"Eliminar pesaje"),n.qZA(),n.qZA()}}function I(a,o){if(1&a){const l=n.EpF();n.TgZ(0,"td",30),n.TgZ(1,"button",31),n.NdJ("click",function(f){return f.stopPropagation()}),n.TgZ(2,"mat-icon"),n._uU(3,"more_horiz"),n.qZA(),n.qZA(),n.TgZ(4,"mat-menu",32,33),n.TgZ(6,"button",34),n.NdJ("click",function(){const S=n.CHM(l).$implicit;return n.oxw().show(S)}),n.TgZ(7,"span"),n._uU(8,"Ver"),n.qZA(),n.qZA(),n.YNc(9,A,3,0,"button",35),n.qZA(),n.qZA()}if(2&a){const l=o.$implicit,_=n.MAs(5),f=n.oxw();n.xp6(1),n.Q6J("matMenuTriggerFor",_),n.xp6(8),n.Q6J("ngIf",2==l.status&&!f.view)}}function p(a,o){1&a&&n._UZ(0,"tr",36)}function g(a,o){1&a&&n._UZ(0,"tr",37)}let d=(()=>{class a{constructor(l,_,f,S,k){this.data=l,this.dialog=_,this.dialogRef=f,this._weighingMachineReadingsService=S,this.snackbar=k,this.subject$=new F.t(1),this.data$=this.subject$.asObservable(),this.selection=new h.Ov(!0,[]),this.weighing_machine_readings=[],this.title="Pesajes de b\xe1scula",this.columns=[{name:"Checkbox",property:"select",visible:!0},{name:"Id",property:"id",visible:!1,isModelProperty:!0},{name:"Id pesaje de entrada",property:"entrance_weighing_machine_reading_id",visible:!0,isModelProperty:!0},{name:"Id pesaje de salida",property:"exit_weighing_machine_reading_id",visible:!0,isModelProperty:!0},{name:"Id b\xe1scula",property:"weighing_machine_id",visible:!1,isModelProperty:!0},{name:"B\xe1scula",property:"weighing_machine_name",visible:!0,isModelProperty:!0},{name:"Medici\xf3n de entrada",property:"entrance_weighing_timestamp",visible:!1,isModelProperty:!0},{name:"Medici\xf3n de salida",property:"exit_weighing_timestamp",visible:!0,isModelProperty:!0},{name:"Placa de veh\xedculo",property:"vehicle_plate",visible:!0,isModelProperty:!0},{name:"Conductor",property:"driver",visible:!0,isModelProperty:!0},{name:"Id proveedor",property:"cre_permission_id",visible:!1,isModelProperty:!0},{name:"Proveedor",property:"provider_name",visible:!0,isModelProperty:!0},{name:"Peso bruto de entrada",property:"entrance_gross_weight",visible:!0,isModelProperty:!0},{name:"Peso bruto de salida",property:"exit_gross_weight",visible:!0,isModelProperty:!0},{name:"Tara de entrada",property:"entrance_tare_weight",visible:!1,isModelProperty:!0},{name:"Tara de salida",property:"exit_tare_weight",visible:!1,isModelProperty:!0},{name:"Peso neto de entrada",property:"entrance_net_weight",visible:!1,isModelProperty:!0},{name:"Peso neto de salida",property:"exit_net_weight",visible:!1,isModelProperty:!0},{name:"Temperatura de entrada",property:"entrance_external_temperature",visible:!1,isModelProperty:!0},{name:"Temperatura de salida",property:"exit_external_temperature",visible:!1,isModelProperty:!0},{name:"Id remisi\xf3n",property:"remission_document_id",visible:!1,isModelProperty:!0},{name:"Remisi\xf3n",property:"identification_number",visible:!1,isModelProperty:!0},{name:"Id factura",property:"invoice_document_id",visible:!1,isModelProperty:!0},{name:"Factura",property:"invoice_number1",visible:!1,isModelProperty:!0},{name:"Id estaci\xf3n",property:"site_code",visible:!1,isModelProperty:!0},{name:"Estaci\xf3n",property:"station_name",visible:!0,isModelProperty:!0},{name:"Id producto",property:"product_id",visible:!1,isModelProperty:!0},{name:"Producto",property:"product_name",visible:!0,isModelProperty:!0},{name:"Estatus",property:"status",visible:!1,isModelProperty:!0},{name:"Observaciones",property:"observations",visible:!1,isModelProperty:!0},{name:"Id recepci\xf3n",property:"reception_id",visible:!1,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getLabel(l,_){if(null!=l)return _}get visibleColumns(){return this.columns.filter(l=>l.visible).map(l=>l.property)}getRemoteData(){this._weighingMachineReadingsService.getAll(this.reception.site_code,this.reception.status,this.reception.reception_id,null!=this.remission?this.remission.remission_id:null,null!=this.invoice?this.invoice.invoice_id:null).subscribe(l=>{this.weighing_machine_readings=l,this.dataSource=new e.by(l),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},l=>{console.log(l)})}getData(){this.invoice?(this.weighing_machine_readings=this.invoice.WeighingMachineReadings,this.dataSource=new e.by(this.invoice.WeighingMachineReadings)):this.remission&&(this.weighing_machine_readings=this.remission.WeighingMachineReadings,this.dataSource=new e.by(this.remission.WeighingMachineReadings)),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnInit(){return(0,y.mG)(this,void 0,void 0,function*(){this.dataSource=new e.by,this.view?(this.reception=this.rec,this.getData()):(this.reception=this.data.reception,this.remission=this.data.remission?this.data.remission:null,this.invoice=this.data.invoice?this.data.invoice:null,this.getRemoteData()),this.data$.pipe((0,c.h)(l=>!!l)).subscribe(l=>{this.weighing_machine_readings=l,this.dataSource.data=l})})}ngOnChanges(l){for(const _ in l)this[_]=l[_].currentValue,this.reload()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}addToDocument(){this._weighingMachineReadingsService.assign(this.reception,this.selection.selected,this.invoice,this.remission).subscribe(l=>{this.selection.selected.forEach(_=>{this.weighing_machine_reading=new O(_),this.invoice?this.invoice.Remissions.length>0?this.reception.Invoices.find(f=>f.invoice_id==this.invoice.invoice_id).Remissions.find(f=>f.remission_id==this.remission.remission_id).WeighingMachineReadings.push(this.weighing_machine_reading):this.reception.Invoices.find(f=>f.invoice_id==this.invoice.invoice_id).WeighingMachineReadings.push(this.weighing_machine_reading):this.reception.Remissions.find(f=>f.remission_id==this.remission.remission_id).WeighingMachineReadings.push(this.weighing_machine_reading)}),this.snackbar.open(l.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.reception)},l=>{this.snackbar.open(l.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}close(){this.dialogRef.close()}onFilterChange(l){!this.dataSource||(l=(l=l.trim()).toLowerCase(),this.dataSource.filter=l)}show(l){this.dialog.open(R.y,{data:l}).afterClosed().subscribe(_=>{})}delete(l){this._weighingMachineReadingsService.delete(this.weighing_machine_reading)}reload(){this.isLoading=!0,this.ngOnInit(),this.isLoading=!1}ngOnDestroy(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(l=>this.selection.select(l))}}return a.\u0275fac=function(l){return new(l||a)(n.Y36(i.WI),n.Y36(i.uw),n.Y36(i.so),n.Y36(L),n.Y36(Y.ux))},a.\u0275cmp=n.Xpm({type:a,selectors:[["weighing-machine-readings-widget"]],viewQuery:function(l,_){if(1&l&&(n.Gf(s.NW,7),n.Gf(P.YE,7)),2&l){let f;n.iGM(f=n.CRH())&&(_.paginator=f.first),n.iGM(f=n.CRH())&&(_.sort=f.first)}},inputs:{invoice:"invoice",remission:"remission",view:"view",rec:"rec",columns:"columns"},features:[n.TTD],decls:23,vars:12,consts:[[4,"ngIf"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"card-content"],["mat-table","","matSort","",2,"width","150%",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","style","width: 30px",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",2,"width","150%",3,"pageSize"],[3,"isLoading"],["mat-icon-button","","type","button",3,"click"],["svgIcon","attach_docs"],["mat-icon-button","",3,"click"],["mat-header-cell","",2,"width","30px"],[3,"checked","indeterminate","change"],["mat-cell",""],[3,"checked","click","change"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","","style","padding: 5px",4,"matHeaderCellDef"],["mat-cell","","style","padding: 5px",4,"matCellDef"],["mat-header-cell","","mat-sort-header","",2,"padding","5px"],["mat-cell","",2,"padding","5px"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(l,_){1&l&&(n.TgZ(0,"fury-card"),n.TgZ(1,"fury-card-header"),n.TgZ(2,"fury-card-header-heading"),n._uU(3),n.qZA(),n.YNc(4,X,2,1,"fury-card-header-subheading",0),n.YNc(5,ee,2,1,"fury-card-header-subheading",0),n.TgZ(6,"fury-card-header-actions"),n.YNc(7,te,2,1,"button",1),n.YNc(8,ie,3,0,"button",1),n.YNc(9,V,3,0,"button",2),n.qZA(),n.qZA(),n.TgZ(10,"fury-card-content",3),n.TgZ(11,"table",4),n.ynx(12,5),n.YNc(13,ne,2,2,"th",6),n.YNc(14,oe,2,1,"td",7),n.BQk(),n.YNc(15,w,2,1,"ng-container",8),n.ynx(16,9),n.YNc(17,C,1,0,"th",10),n.YNc(18,I,10,2,"td",11),n.BQk(),n.YNc(19,p,1,0,"tr",12),n.YNc(20,g,1,0,"tr",13),n.qZA(),n._UZ(21,"mat-paginator",14),n.qZA(),n._UZ(22,"fury-loading-overlay",15),n.qZA()),2&l&&(n.xp6(3),n.hij(" ",_.title," "),n.xp6(1),n.Q6J("ngIf",!_.view),n.xp6(1),n.Q6J("ngIf",_.view),n.xp6(2),n.Q6J("ngIf",!_.view&&2==_.reception.status),n.xp6(1),n.Q6J("ngIf",!_.view&&2==_.reception.status),n.xp6(1),n.Q6J("ngIf",!_.view&&2==_.reception.status),n.xp6(2),n.Q6J("dataSource",_.dataSource),n.xp6(4),n.Q6J("ngForOf",_.columns),n.xp6(4),n.Q6J("matHeaderRowDef",_.visibleColumns),n.xp6(1),n.Q6J("matRowDefColumns",_.visibleColumns),n.xp6(1),n.Q6J("pageSize",_.pageSize),n.xp6(1),n.Q6J("isLoading",_.isLoading))},directives:[N.i0,N.$X,N.eP,G.O5,N.OA,N.z8,e.BZ,P.YE,e.w1,e.fO,e.Dz,G.sg,e.as,e.nj,s.NW,z.d,N.lO,j.lW,H.Hw,e.ge,K.oG,e.ev,P.nU,Q.p6,Q.VK,Q.OP,e.XQ,e.Gk],styles:[".fury-card[_ngcontent-%COMP%]{background:#195fc7;color:#f5f5f5}.fury-card[_ngcontent-%COMP%]   .fury-card-header-subheading[_ngcontent-%COMP%]{color:#f5f5f5}.gain[_ngcontent-%COMP%]{margin-left:8px;font:var(--font-caption)}.gain[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.card-content[_ngcontent-%COMP%]{padding:0;overflow:scroll}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{padding:0 24px 24px}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--font-body-1);text-transform:uppercase}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font:var(--font-display-1)}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:3px;font-size:32px;height:32px;width:32px}.card-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:170px;max-width:100%;display:flex;flex:1;position:relative}"],data:{animation:[M.X,m.M,t.K]}}),a})()},95288:(J,U,r)=>{r.d(U,{w:()=>e});var y=r(40520),i=r(98545),s=r(5e3),P=r(33344);let e=(()=>{class h{constructor(c,t){this.http=c,this.tokenStorage=t}getHeaders(){var c=new y.WM,t=this.tokenStorage.getToken();return c.set("token",t||"{}")}getAll(){var c=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.CRE_PERMISSIONS,{headers:c})}create(c){var t=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.CRE_PERMISSIONS,c,{headers:t})}update(c){var t=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.CRE_PERMISSIONS+"/"+c.permission_id,c,{headers:t})}getCurrencies(){var c=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.CURRENCIES,{headers:c})}getUnitsOfMeasure(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.UNITS_OF_MEASURE+"?type="+c,{headers:t})}getCrePermissionTypes(){var c=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.CRE_PERMISSION_TYPES,{headers:c})}getAllByType(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.CRE_PERMISSIONS+"?cre_permission_type="+c,{headers:t})}getCrePermission(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.CRE_PERMISSIONS+"/"+c,{headers:t})}}return h.\u0275fac=function(c){return new(c||h)(s.LFG(y.eN),s.LFG(P.i))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},24629:(J,U,r)=>{r.d(U,{x:()=>e});var y=r(40520),i=r(98545),s=r(5e3),P=r(33344);let e=(()=>{class h{constructor(c,t){this.http=c,this.tokenStorage=t}getHeaders(){var c=new y.WM,t=this.tokenStorage.getToken();return c.set("token",t||"{}")}getAll(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.INVOICES+(c||""),{headers:t})}getInvoice(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.INVOICES+"/"+c,{headers:t})}create(c,t){var m=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.INVOICES+t,c,{headers:m})}update(c){var t=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.INVOICES+"/"+c.invoice_id,c,{headers:t})}}return h.\u0275fac=function(c){return new(c||h)(s.LFG(y.eN),s.LFG(P.i))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},92824:(J,U,r)=>{r.d(U,{J:()=>e});var y=r(40520),i=r(98545),s=r(5e3),P=r(33344);let e=(()=>{class h{constructor(c,t){this.http=c,this.tokenStorage=t}getHeaders(){var c=new y.WM,t=this.tokenStorage.getToken();return c.set("token",t||"{}")}getAll(c){var t=this.getHeaders();const m=c?(new y.LE).appendAll(c):null;return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.RECEPTIONS,{params:m,headers:t})}getReception(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.RECEPTIONS+"/"+c,{headers:t})}create(c){var t=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.RECEPTIONS,c,{headers:t})}update(c){var t=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.RECEPTIONS+"/"+c.reception_id,c,{headers:t})}delete(c){var t=this.getHeaders();return this.http.delete(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.RECEPTIONS+"/"+c.reception_id,{headers:t})}getMyInvoices(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.MY_INVOICES+"/"+c,{headers:t})}file(c){var t=this.getHeaders();return this.http.patch(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.RECEPTIONS+"/"+c.reception_id,c,{headers:t})}dettach(c){var t=this.getHeaders();const m=(new y.LE).appendAll(c);return this.http.delete(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.RECEPTIONS,{params:m,headers:t})}getTinySummary(c){var t=this.getHeaders();const m=(new y.LE).appendAll(c);return this.http.get(i._.settings.apiServer.API_URL_BASE+"/receptions_tiny_summary",{params:m,headers:t})}getReceptionDocument(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+"/reception_documents/"+c.reception_id,{headers:t})}createReceptionDocument(c){var t=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+"/reception_documents",c,{headers:t})}updateReceptionDocument(c){var t=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+"/reception_documents/"+c.reception_id,c,{headers:t})}deleteReceptionDocument(c){var t=this.getHeaders();return this.http.delete(i._.settings.apiServer.API_URL_BASE+"/reception_documents/"+c.document_id,{headers:t})}}return h.\u0275fac=function(c){return new(c||h)(s.LFG(y.eN),s.LFG(P.i))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},57e3:(J,U,r)=>{r.d(U,{D:()=>e});var y=r(40520),i=r(98545),s=r(5e3),P=r(33344);let e=(()=>{class h{constructor(c,t){this.http=c,this.tokenStorage=t}getHeaders(){var c=new y.WM,t=this.tokenStorage.getToken();return c.set("token",t||"{}")}getAll(c){var t=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.REMISSIONS+(c||""),{headers:t})}getRemission(c,t){var m=this.getHeaders();const M=(new y.LE).appendAll({reception_id:t});return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.REMISSIONS+"/"+c,{params:M,headers:m})}create(c,t){var m=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.REMISSIONS+t,c,{headers:m})}update(c){var t=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.REMISSIONS+"/"+c.remission_id,c,{headers:t})}assign(c,t,m,M){var O=this.getHeaders(),R="?reception_id="+c.reception_id;return R+="&site_code="+c.site_code,R+="&invoice_id="+m.invoice_id,this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.REMISSIONS+(R+="&operation="+M),t,{headers:O})}}return h.\u0275fac=function(c){return new(c||h)(s.LFG(y.eN),s.LFG(P.i))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},52190:(J,U,r)=>{r.d(U,{w:()=>F});var y=r(40520),i=r(46227),s=r(27221),P=r(98545),e=r(5e3),h=r(33344);let F=(()=>{class c{constructor(m,M){this.http=m,this.tokenStorage=M}getHeaders(){var m=new y.WM,M=this.tokenStorage.getToken();return m.set("token",M||"{}")}getAll(m){var M=this.getHeaders();const O=(new y.LE).appendAll(m?{type:m}:{});return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.STATIONS,{params:O,headers:M})}create(m){var M=this.getHeaders();return this.http.post(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.STATIONS,m,{headers:M}).pipe((0,i.V)(1e4),(0,s.K)(O=>{throw"Error de conexi\xf3n. Detalles: "+O}))}update(m){var M=this.getHeaders();return this.http.put(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.STATIONS+"/"+m.site_code,m,{headers:M}).pipe((0,i.V)(1e4),(0,s.K)(O=>{throw"Error de conexi\xf3n. Detalles: "+O}))}delete(m){var M=this.getHeaders();return this.http.delete(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.STATIONS+"/"+m.site_code,{headers:M})}getRemoteProducts(m){var M=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.REMOTE_PRODUCTS+"/"+m.site_code,{headers:M}).pipe((0,i.V)(1e4),(0,s.K)(O=>{throw"Error de conexi\xf3n. Detalles: "+O}))}getRemoteTanks(m){var M=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+"/remoteTanks/"+m.site_code,{headers:M}).pipe((0,i.V)(1e4),(0,s.K)(O=>{throw"Error de conexi\xf3n. Detalles: "+O}))}getMapOfProducts(m){var M=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.PRODUCTS_MAPS+"/"+m.site_code,{headers:M})}setMapOfProducts(m,M){var O=this.getHeaders();return this.http.post(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.PRODUCTS_MAPS+"/"+M,m,{headers:O})}setTanksT(m){var M=this.getHeaders();return console.log(typeof m),this.http.post(P._.settings.apiServer.API_URL_BASE+"/remoteTanks",m,{headers:M})}getDevicesStatus(m){var M=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.DEVICES_STATUS+"?site_code="+m,{headers:M})}getAllTanksStatus(){var m=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.STATUS_TANKS,{headers:m})}getTanksStatus(m){var M=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.STATUS_TANKS+"/"+m,{headers:M})}getPumpsStatus(m){var M=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.STATUS_PUMPS+"/"+m,{headers:M})}getPumps(m){var M=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.PUMPS+"/"+m,{headers:M})}syncSingle(m,M){var O=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.SYNC+"?site_code="+m+"&stub="+M,{headers:O}).pipe((0,i.V)(1e4),(0,s.K)(R=>{throw"Error de conexi\xf3n. Detalles: "+R}))}getMarimbas(){var m=this.getHeaders();return this.http.get(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.MARIMBAS,{headers:m})}updateIndexes(m){var M=this.getHeaders();return console.log(M),this.http.put(P._.settings.apiServer.API_URL_BASE+P._.settings.apiServer.INDEXES,m,{headers:M})}}return c.\u0275fac=function(m){return new(m||c)(e.LFG(y.eN),e.LFG(h.i))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},7732:(J,U,r)=>{r.d(U,{a:()=>e});var y=r(40520),i=r(98545),s=r(5e3),P=r(33344);let e=(()=>{class h{constructor(c,t){this.http=c,this.tokenStorage=t}getHeaders(){var c=new y.WM,t=this.tokenStorage.getToken();return c.set("token",t||"{}")}getAll(c,t,m,M,O){var R=this.getHeaders(),n="?site_code="+c;return n+="&status="+t,n+=m?"&reception_id="+m:"",n+=M?"&remission_id="+M:"",this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.TANK_DELIVERY_READINGS+(n+=O?"&invoice_id="+O:""),{headers:R})}assign(c,t,m,M){var O=this.getHeaders(),R="?reception_id="+c.reception_id;return R+="&site_code="+c.site_code,R+=m?"&invoice_id="+m.invoice_id:"",this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.TANK_DELIVERY_READINGS+(R+=M?"&remission_id="+M.remission_id:""),t,{headers:O})}delete(c){var t=this.getHeaders();return this.http.delete(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.TANK_DELIVERY_READINGS+"/"+c.tank_delivery_reading_id,{headers:t})}}return h.\u0275fac=function(c){return new(c||h)(s.LFG(y.eN),s.LFG(P.i))},h.\u0275prov=s.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);