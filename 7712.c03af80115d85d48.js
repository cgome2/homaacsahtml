"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[7712],{88914:(C,T,i)=>{i.d(T,{M:()=>n});var a=i(41777);const n=(0,a.X$)("fadeInRight",[(0,a.eR)(":enter",[(0,a.oB)({transform:"translateX(-2vw)",opacity:0}),(0,a.jt)("0.4s cubic-bezier(0.35, 0, 0.25, 1)",(0,a.oB)({transform:"translateX(0)",opacity:1}))])])},14499:(C,T,i)=>{i.d(T,{X:()=>n});var a=i(41777);const n=(0,a.X$)("fadeInUp",[(0,a.eR)(":enter",[(0,a.oB)({transform:"translateY(3vh)",opacity:0}),(0,a.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,a.oB)({transform:"translateY(0)",opacity:1}))])])},38932:(C,T,i)=>{i.d(T,{n:()=>l});var a=i(5e3),n=i(30277),g=i(3299),y=i(69808),Z=i(25245);function v(m,b){if(1&m&&(a.TgZ(0,"div",7),a.TgZ(1,"mat-icon",5),a._uU(2,"chevron_right"),a.qZA(),a.TgZ(3,"div",6),a._uU(4),a.qZA(),a.qZA()),2&m){const f=b.$implicit;a.xp6(4),a.Oqu(f)}}const A=function(){return["/"]};let l=(()=>{class m{constructor(){this.crumbs=[]}ngOnInit(){}}return m.\u0275fac=function(f){return new(f||m)},m.\u0275cmp=a.Xpm({type:m,selectors:[["fury-breadcrumbs"]],inputs:{current:"current",crumbs:"crumbs"},decls:11,vars:5,consts:[[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"crumbs"],[1,"crumb","home",3,"routerLink"],["class","crumb","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb","current"],[1,"chevron"],[1,"link"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb"]],template:function(f,G){1&f&&(a.TgZ(0,"div",0),a._uU(1),a.qZA(),a.TgZ(2,"div",1),a.TgZ(3,"a",2),a._uU(4,"Home"),a.qZA(),a.YNc(5,v,5,1,"div",3),a.TgZ(6,"div",4),a.TgZ(7,"mat-icon",5),a._uU(8,"chevron_right"),a.qZA(),a.TgZ(9,"div",6),a._uU(10),a.qZA(),a.qZA(),a.qZA()),2&f&&(a.xp6(1),a.Oqu(G.current),a.xp6(2),a.Q6J("routerLink",a.DdM(4,A)),a.xp6(2),a.Q6J("ngForOf",G.crumbs),a.xp6(5),a.Oqu(G.current))},directives:[n.xw,n.Wh,g.yS,y.sg,Z.Hw],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font:var(--font-title);font-weight:400}.crumb[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none;transition:color .4s cubic-bezier(.25,.8,.25,1);font:var(--font-body-1)}.link[_ngcontent-%COMP%]{cursor:pointer}.chevron[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;margin-left:6px;margin-right:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}"]}),m})()},53580:(C,T,i)=>{i.d(T,{U:()=>n});var a=i(5e3);let n=(()=>{class g{constructor(){}}return g.\u0275fac=function(Z){return new(Z||g)},g.\u0275dir=a.lG2({type:g,selectors:[["","furyPageLayoutHeader",""],["fury-page-layout-header"]],hostAttrs:[1,"fury-page-layout-header"]}),g})()},39762:(C,T,i)=>{i.d(T,{N:()=>n});var a=i(5e3);let n=(()=>{class g{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return g.\u0275fac=function(Z){return new(Z||g)},g.\u0275dir=a.lG2({type:g,selectors:[["","furyPageLayout",""],["fury-page-layout"]],hostAttrs:[1,"fury-page-layout"],hostVars:4,hostBindings:function(Z,v){2&Z&&a.ekj("fury-page-layout-card",v.isCard)("fury-page-layout-simple",v.isSimple)},inputs:{mode:"mode"}}),g})()},97712:(C,T,i)=>{i.r(T),i.d(T,{MeansTableModule:()=>tt});var a=i(69808),n=i(93075),g=i(61264),y=i(4940),Z=i(7057),v=i(72467),A=i(3299),l=i(70655),m=i(86087),b=i(84847),f=i(32075),G=i(96831),N=i(92198),w=i(88914),q=i(14499),U=i(37425),S=i(48966),k=i(36144),B=i(5919),e=i(5e3),D=i(28196),R=i(57261),J=i(15702),_=i(82593),M=i(86428),d=i(17846),h=i(58527),x=i(33344),Y=i(59968),ee=i(36551),j=i(25245),O=i(30277),I=i(92081),H=i(79814),$=i(47423),te=i(77446),L=i(67322),oe=i(77531),ne=i(74107),ae=i(32368),K=i(79207),re=i(90508);function ie(r,p){1&r&&e._uU(0,"Crear dispositivo")}function se(r,p){if(1&r&&(e.TgZ(0,"mat-radio-button",23),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.type)}}function le(r,p){if(1&r&&(e.TgZ(0,"mat-radio-button",23),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.type)}}function pe(r,p){1&r&&e._uU(0,"Informaci\xf3n para dispositivos:")}function ue(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.NAME)}}function me(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.NAME)}}function de(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.NAME)}}function ce(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.NAME)}}function _e(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.NAME)}}function he(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"mat-step",6),e.TgZ(1,"form",7),e.YNc(2,pe,1,0,"ng-template",8),e.TgZ(3,"div",41),e.TgZ(4,"div",55),e.TgZ(5,"mat-form-field",42),e.TgZ(6,"mat-label"),e._uU(7,"Flota:"),e.qZA(),e.TgZ(8,"mat-select",56),e.NdJ("selectionChange",function(s){return e.CHM(t),e.oxw().onChangeFleet(s.value)}),e.YNc(9,ue,2,2,"mat-option",49),e.qZA(),e.qZA(),e.TgZ(10,"mat-form-field",42),e.TgZ(11,"mat-label"),e._uU(12,"Departamento:"),e.qZA(),e.TgZ(13,"mat-select",57),e.YNc(14,me,2,2,"mat-option",49),e.qZA(),e.qZA(),e.TgZ(15,"mat-form-field",42),e.TgZ(16,"mat-label"),e._uU(17,"Regla de carga:"),e.qZA(),e.TgZ(18,"mat-select",58),e.YNc(19,de,2,2,"mat-option",49),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",10),e.TgZ(21,"mat-label",59),e._uU(22,"\xc1rea:"),e.qZA(),e._UZ(23,"ngx-mat-tree-select-input",60),e.qZA(),e.TgZ(24,"div",55),e.TgZ(25,"mat-form-field",42),e.TgZ(26,"mat-label"),e._uU(27,"Nombre:"),e.qZA(),e._UZ(28,"input",61),e.qZA(),e.TgZ(29,"mat-form-field",42),e.TgZ(30,"mat-label"),e._uU(31,"No. de veh\xedculo o placa:"),e.qZA(),e._UZ(32,"input",62),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",41),e.TgZ(34,"div",55),e.TgZ(35,"mat-form-field",42),e.TgZ(36,"mat-label"),e._uU(37,"Marca:"),e.qZA(),e.TgZ(38,"mat-select",63),e.NdJ("selectionChange",function(s){return e.CHM(t),e.oxw().onChangeCompany(s.value)}),e.YNc(39,ce,2,2,"mat-option",49),e.qZA(),e.qZA(),e.TgZ(40,"mat-form-field",42),e.TgZ(41,"mat-label"),e._uU(42,"Modelo:"),e.qZA(),e.TgZ(43,"mat-select",64),e.NdJ("selectionChange",function(s){return e.CHM(t),e.oxw().onChangeModel(s)}),e.YNc(44,_e,2,2,"mat-option",49),e.qZA(),e.qZA(),e.TgZ(45,"mat-form-field",42),e.TgZ(46,"mat-label"),e._uU(47,"A\xf1o:"),e.qZA(),e.TgZ(48,"input",65),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numericOnly(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",55),e.TgZ(50,"mat-form-field",42),e.TgZ(51,"mat-label"),e._uU(52,"Capacidad de tanques:"),e.qZA(),e.TgZ(53,"input",66),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numericOnly(s)}),e.qZA(),e.qZA(),e.TgZ(54,"mat-form-field",42),e.TgZ(55,"mat-label"),e._uU(56,"Consumo est\xe1ndar por od\xf3metro:"),e.qZA(),e.TgZ(57,"input",67),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numericOnly(s)}),e.qZA(),e.qZA(),e.TgZ(58,"mat-form-field",42),e.TgZ(59,"mat-label"),e._uU(60,"Consumo est\xe1ndar por horas motor:"),e.qZA(),e.TgZ(61,"input",68),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numericOnly(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(62,"div",55),e.TgZ(63,"mat-form-field",42),e.TgZ(64,"mat-label"),e._uU(65,"N\xfamero de chasis:"),e.qZA(),e._UZ(66,"input",69),e.qZA(),e.TgZ(67,"mat-form-field",42),e.TgZ(68,"mat-label"),e._uU(69,"Od\xf3metro:"),e.qZA(),e.TgZ(70,"input",70),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numericOnly(s)}),e.qZA(),e.qZA(),e.TgZ(71,"mat-form-field",42),e.TgZ(72,"mat-label"),e._uU(73,"Horas motor:"),e.qZA(),e.TgZ(74,"input",71),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numericOnly(s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(75,"div",19),e.TgZ(76,"div",72),e.TgZ(77,"div",9),e._uU(78,"Expiraci\xf3n:"),e.qZA(),e.TgZ(79,"mat-radio-group",73),e.NdJ("change",function(s){return e.CHM(t),e.oxw().changeExpire(s)}),e.TgZ(80,"mat-radio-button",23),e._uU(81,"Desactivada"),e.qZA(),e.TgZ(82,"div"),e.TgZ(83,"mat-radio-button",23),e._uU(84,"Activada por fecha"),e.qZA(),e.TgZ(85,"mat-form-field",74),e.TgZ(86,"mat-label"),e._uU(87,"MMYY"),e.qZA(),e.TgZ(88,"input",75),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numbersOnly(s)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(89,"mat-radio-button",23),e._uU(90,"Activada por el dispositivo f\xedsico"),e.qZA(),e.qZA(),e.TgZ(91,"div",76),e.TgZ(92,"mat-checkbox",77),e.NdJ("change",function(s){return e.CHM(t),e.oxw().onChangeNotifyDriver(s)}),e._uU(93,"Notificar al chofer"),e.qZA(),e.TgZ(94,"mat-form-field",78),e.TgZ(95,"mat-label"),e._uU(96,"D\xedas antes de expirar"),e.qZA(),e.TgZ(97,"input",79),e.NdJ("keypress",function(s){return e.CHM(t),e.oxw().numericOnly(s)}),e.qZA(),e.TgZ(98,"mat-hint"),e._uU(99,"M\xe1ximo 60 d\xedas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(100,"div",72),e.TgZ(101,"div",9),e._uU(102,"Extras:"),e.qZA(),e.TgZ(103,"mat-form-field",42),e.TgZ(104,"mat-label"),e._uU(105,"Nivel de presi\xf3n:"),e.qZA(),e.TgZ(106,"mat-select",80),e.TgZ(107,"mat-option",81),e._uU(108,"N/A"),e.qZA(),e.TgZ(109,"mat-option",81),e._uU(110,"1"),e.qZA(),e.TgZ(111,"mat-option",81),e._uU(112,"2"),e.qZA(),e.TgZ(113,"mat-option",81),e._uU(114,"3"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(115,"mat-form-field",42),e.TgZ(116,"mat-label"),e._uU(117,"Uso de lista de precios:"),e.qZA(),e.TgZ(118,"mat-select",82),e._UZ(119,"mat-option",81),e.qZA(),e.qZA(),e.TgZ(120,"mat-form-field",42),e.TgZ(121,"mat-label"),e._uU(122,"Id ERP:"),e.qZA(),e._UZ(123,"input",83),e.qZA(),e.qZA(),e.qZA(),e.TgZ(124,"div",15),e.TgZ(125,"button",40),e._uU(126,"ANTERIOR"),e.qZA(),e.TgZ(127,"button",17),e._uU(128,"SIGUIENTE"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("stepControl",t.informationFormGroup),e.xp6(1),e.Q6J("formGroup",t.informationFormGroup),e.xp6(8),e.Q6J("ngForOf",t.fleets),e.xp6(5),e.Q6J("ngForOf",t.departments),e.xp6(5),e.Q6J("ngForOf",t.groupRules),e.xp6(4),e.Q6J("options",t.areas)("placeholder",t.currentArea.name)("controlName","area_id")("canSelectParentNode",!1),e.xp6(16),e.Q6J("ngForOf",t.companies),e.xp6(5),e.Q6J("ngForOf",t.models),e.xp6(36),e.Q6J("value",0),e.xp6(3),e.Q6J("value",1),e.xp6(6),e.Q6J("value",2),e.xp6(18),e.Q6J("value",0),e.xp6(2),e.Q6J("value",1),e.xp6(2),e.Q6J("value",2),e.xp6(2),e.Q6J("value",3),e.xp6(14),e.Q6J("disabled",t.informationFormGroup.invalid)}}function ge(r,p){1&r&&e._uU(0,"Informaci\xf3n para dispositivos de empleados:")}function fe(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.NAME)}}function ve(r,p){if(1&r&&(e.TgZ(0,"mat-radio-button",23),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.type)}}function be(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"mat-step",6),e.TgZ(1,"form",7),e.YNc(2,ge,1,0,"ng-template",8),e.TgZ(3,"div",10),e.TgZ(4,"mat-form-field",42),e.TgZ(5,"mat-label"),e._uU(6,"Nombre:"),e.qZA(),e._UZ(7,"input",61),e.qZA(),e.TgZ(8,"mat-form-field",42),e.TgZ(9,"mat-label"),e._uU(10,"Regla de carga:"),e.qZA(),e.TgZ(11,"mat-select",58),e.YNc(12,fe,2,2,"mat-option",49),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"mat-radio-group",84),e.NdJ("change",function(s){return e.CHM(t),e.oxw().changeEmployeeType(s)}),e.YNc(15,ve,2,2,"mat-radio-button",12),e.qZA(),e.qZA(),e.TgZ(16,"div",10),e.TgZ(17,"mat-form-field",42),e.TgZ(18,"mat-label"),e._uU(19,"Bomba:"),e.qZA(),e.TgZ(20,"mat-select",85),e.TgZ(21,"mat-option",81),e._uU(22,"Todas"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"mat-form-field",42),e.TgZ(24,"mat-label"),e._uU(25,"Direcci\xf3n:"),e.qZA(),e._UZ(26,"input",86),e.qZA(),e.qZA(),e.TgZ(27,"div",15),e.TgZ(28,"button",40),e._uU(29,"ANTERIOR"),e.qZA(),e.TgZ(30,"button",17),e._uU(31,"SIGUIENTE"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("stepControl",t.informationEmployeeFormGroup),e.xp6(1),e.Q6J("formGroup",t.informationEmployeeFormGroup),e.xp6(11),e.Q6J("ngForOf",t.groupRules),e.xp6(3),e.Q6J("ngForOf",t.employeeTypes),e.xp6(6),e.Q6J("value",0),e.xp6(9),e.Q6J("disabled",t.informationEmployeeFormGroup.invalid)}}function Me(r,p){1&r&&e._uU(0,"Validaci\xf3n")}function ye(r,p){1&r&&e._uU(0,"Formato")}function Te(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.type)}}function Ze(r,p){if(1&r&&(e.TgZ(0,"mat-option",81),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.id)}}function xe(r,p){if(1&r&&(e.TgZ(0,"button",17),e._uU(1,"SIGUIENTE"),e.qZA()),2&r){const t=e.oxw();e.Q6J("disabled",t.formatFormGroup.invalid)}}function Ae(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(1,"GUARDAR DISPOSITIVO"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("disabled",t.formatFormGroup.invalid)}}function Ce(r,p){1&r&&e._uU(0,"Dos fases")}function Fe(r,p){if(1&r&&(e.TgZ(0,"mat-radio-button",23),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.type)}}function Ge(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"mat-step",6),e.TgZ(1,"form",7),e.YNc(2,Ce,1,0,"ng-template",8),e.TgZ(3,"div",9),e._uU(4,"Autorizaci\xf3n dual con uso de ID del chofer:"),e.qZA(),e.TgZ(5,"div",88),e.TgZ(6,"mat-radio-group",89),e.NdJ("change",function(s){return e.CHM(t),e.oxw().changeTypeOfDualStage(s)}),e.YNc(7,Fe,2,2,"mat-radio-button",12),e.qZA(),e.qZA(),e.TgZ(8,"mat-checkbox",90),e._uU(9,"Autorizaci\xf3n dual solo requerida para dispositivos que no est\xe1n montados a un veh\xedculo."),e.qZA(),e.TgZ(10,"div",91),e.TgZ(11,"button",40),e._uU(12,"ANTERIOR"),e.qZA(),e.TgZ(13,"button",87),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(14,"GUARDAR DISPOSITIVO"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("stepControl",t.twoStageFormGroup),e.xp6(1),e.Q6J("formGroup",t.twoStageFormGroup),e.xp6(6),e.Q6J("ngForOf",t.dualStages),e.xp6(6),e.Q6J("disabled",t.twoStageFormGroup.invalid)}}let z=(()=>{class r{constructor(t,o,s,u,c,E,P,F,W,Q){this.data=t,this.dialogRef=o,this.groupRulesService=s,this.snackbar=u,this.meansService=c,this.fleetsService=E,this.departmentsService=P,this.modelsService=F,this._areasService=W,this.tokenStorageService=Q,this.active_label="Activada",this.theMean=new k.q,this.fleets=[],this.departments=[],this.groupRules=[],this.companies=[],this.models=[],this.areas=[],this.currentArea={name:"Seleccione \xe1rea",id:"",children:[]},this.odo_block=!1,this.eh_block=!1,this.plate_block=!1,this.isdefaultmean=!1,this.availableAuttypes=[],this.typeOfOwnerElegible=!1,this.typesOfPortability=[{id:1,type:"Montado en el veh\xedculo"},{id:2,type:"Portable en mano"}],this.numbersOfStrings=[{id:1},{id:2},{id:3},{id:4},{id:5}],this.typesOfOwner=[{id:1,type:"Empleado"},{id:2,type:"Veh\xedculo"},{id:4,type:"Chofer"},{id:5,type:"Cliente de efectivo"},{id:6,type:"Cliente de cr\xe9dito"},{id:7,type:"Usuario autorizado"}],this.employeeTypes=[{id:1,type:"Despachador"},{id:2,type:"Jefe de turno"},{id:3,type:"Repartidor"}],this.dualStages=[{id:0,type:"Desactivado"},{id:4,type:"Cualquier chofer de la misma flota"},{id:5,type:"Cualquier chofer de cualquier flota"},{id:6,type:"Cualquier chofer sin validaci\xf3n requerida"}],this.generalFormGroup=new n.cw({id:new n.NI,typesOfPortability:new n.NI(1,[n.kI.required]),typesOfOwner:new n.NI(2,[n.kI.required]),ieps_report:new n.NI(0),status:new n.NI(2)}),this.informationFormGroup=new n.cw({NAME:new n.NI("",[n.kI.required]),plate:new n.NI("",[n.kI.required]),fleet_id:new n.NI(3e8,[n.kI.required]),dept_id:new n.NI(3e8,[n.kI.required]),rule:new n.NI(2e8,[n.kI.required]),area_id:new n.NI("",[n.kI.minLength(1)]),company_id:new n.NI,model_id:new n.NI,capacity:new n.NI,consumption:new n.NI,consumption2:new n.NI,chassis_number:new n.NI,eh:new n.NI,odometer:new n.NI,YEAR:new n.NI(1900,[n.kI.pattern("^([1][89][0-9]{2}|[2][0-9]{3})$")]),expire:new n.NI(0),expire_date:new n.NI("0000"),notify_expire:new n.NI(!1),notification_days:new n.NI(14,[n.kI.min(1),n.kI.max(60),n.kI.pattern("^[0-9]{1,2}")]),pressure_level:new n.NI(0),price_list_id:new n.NI,cust_id:new n.NI}),this.informationEmployeeFormGroup=new n.cw({NAME:new n.NI("",[n.kI.required]),plate:new n.NI("",[n.kI.required]),rule:new n.NI(2e8,[n.kI.required]),employeeTypes:new n.NI(1,[n.kI.required]),pump:new n.NI(0),address:new n.NI}),this.validationFormGroup=new n.cw({use_pin_code:new n.NI(!1),auth_pin_from:new n.NI({value:2,disabled:!0}),pin_code:new n.NI({value:"",disabled:!0},[n.kI.pattern("^[0-9]{4,6}$")]),nr_pin_retries:new n.NI({value:"",disabled:!0},[n.kI.pattern("^[0-9]{1}$")]),block_if_pin_retries_fail:new n.NI({value:!1,disabled:!0}),opos_prompt_for_odometer:new n.NI(!1),do_odo_reasonability_check:new n.NI({value:!1,disabled:!0}),max_odo_delta_allowed:new n.NI({value:"",disabled:!0}),nr_odo_retries:new n.NI({value:"",disabled:!0},[n.kI.pattern("^[0-9]{1}$")]),reject_if_odm_check_fails:new n.NI({value:!1,disabled:!0}),opos_prompt_for_engine_hours:new n.NI(!1),do_eh_reasonability_check:new n.NI({value:!1,disabled:!0}),max_eh_delta_allowed:new n.NI({value:"",disabled:!0}),nr_eh_retries:new n.NI({value:"",disabled:!0},[n.kI.pattern("^[0-9]{1}$")]),reject_if_eh_check_fails:new n.NI({value:!1,disabled:!0}),prompt_for_jobcode:new n.NI(!1)}),this.formatFormGroup=new n.cw({string:new n.NI,string2:new n.NI,string3:new n.NI,string4:new n.NI,string5:new n.NI,num_of_strings:new n.NI(1),num_of_strings_identified:new n.NI(0),allow_id_replacement:new n.NI(1),auttyp:new n.NI("",[n.kI.required])}),this.twoStageFormGroup=new n.cw({disable_viu_two_stage:new n.NI({value:!1,disabled:!0}),driver_id_type_required:new n.NI(0,[n.kI.pattern("^[0456]$")])})}ngOnInit(){return(0,l.mG)(this,void 0,void 0,function*(){if(this.setAvailableAuttypes(),this.fleets=yield this.getFleets(),this.groupRules=yield this.getGroupRules(),this.companies=yield this.getCompanies(),this.areas=this.constructTreeData(yield this.getAreas()),null!=this.data){this.theMean=new k.q(this.data),this.currentModel=null!==this.theMean.model_id?yield this.getCurrentModel(this.theMean.model_id):new B.H,this.companies=yield this.getCompanies(),this.models=yield this.getModels(this.currentModel.company_id),this.generalFormGroup.setValue({id:this.theMean.id,typesOfPortability:3===this.theMean.TYPE?1:2,typesOfOwner:[2,3].includes(this.theMean.TYPE)?2:this.theMean.TYPE,ieps_report:this.theMean.ieps_report,status:this.theMean.status}),3===this.theMean.TYPE?this.generalFormGroup.controls.typesOfOwner.disable():this.generalFormGroup.controls.typesOfOwner.enable(),this.informationFormGroup.controls.NAME.setValue(this.theMean.NAME),this.informationFormGroup.controls.plate.setValue(this.theMean.plate),this.informationFormGroup.controls.fleet_id.setValue(this.theMean.fleet_id),this.departments=yield this.getDepartments(this.informationFormGroup.controls.fleet_id.value);let o=yield this.getDefaultDepartment(this.theMean.fleet_id);o.length>0&&this.informationFormGroup.controls.dept_id.setValue(o[0].id),this.informationFormGroup.controls.dept_id.setValue(this.theMean.dept_id),this.informationFormGroup.controls.rule.setValue(this.theMean.rule),this.areas=this.constructTreeData(yield this.getAreas()),this.currentArea=""!==this.theMean.area_id?yield this.getArea(+this.theMean.area_id):this.currentArea,this.informationFormGroup.controls.area_id.setValue({name:this.currentArea.name,value:this.currentArea.id,children:[]}),this.informationFormGroup.controls.company_id.setValue(this.currentModel.company_id),this.informationFormGroup.controls.model_id.setValue(this.theMean.model_id),this.informationFormGroup.controls.capacity.setValue(this.theMean.capacity),this.informationFormGroup.controls.consumption.setValue(this.theMean.consumption),this.informationFormGroup.controls.consumption2.setValue(this.theMean.consumption2),this.informationFormGroup.controls.chassis_number.setValue(this.theMean.chassis_number),this.informationFormGroup.controls.eh.setValue(this.theMean.engine_hours),this.informationFormGroup.controls.odometer.setValue(this.theMean.odometer),this.informationFormGroup.controls.YEAR.setValue(this.theMean.YEAR),this.informationFormGroup.controls.expire.setValue(this.theMean.expire),this.informationFormGroup.controls.notification_days.setValue(0!==this.theMean.expire?this.theMean.notification_days:""),1===this.theMean.expire?(this.informationFormGroup.controls.expire_date.setValue(this.theMean.expire_date),this.informationFormGroup.controls.expire_date.enable(),this.informationFormGroup.controls.notify_expire.enable()):2===this.theMean.expire&&this.informationFormGroup.controls.notify_expire.enable(),1===this.theMean.notify_expire&&(this.informationFormGroup.controls.notify_expire.setValue(!0),this.informationFormGroup.controls.notification_days.enable()),this.informationFormGroup.controls.pressure_level.setValue(this.theMean.pressure_level),this.informationFormGroup.controls.price_list_id.setValue(this.theMean.price_list_id),this.informationFormGroup.controls.cust_id.setValue(this.theMean.cust_id),this.informationEmployeeFormGroup.setValue({NAME:this.theMean.NAME,plate:this.theMean.NAME,rule:this.theMean.rule,pump:this.theMean.pump,address:this.theMean.address,employeeTypes:this.theMean.employee_type}),1===this.theMean.use_pin_code&&(this.validationFormGroup.controls.use_pin_code.setValue(!0),this.validationFormGroup.controls.auth_pin_from.setValue(this.theMean.auth_pin_from),this.validationFormGroup.controls.auth_pin_from.enable(),this.validationFormGroup.controls.nr_pin_retries.setValue(this.theMean.nr_pin_retries),this.validationFormGroup.controls.nr_pin_retries.enable(),this.validationFormGroup.controls.block_if_pin_retries_fail.setValue(1===this.theMean.block_if_pin_retries_fail),this.validationFormGroup.controls.block_if_pin_retries_fail.enable(),1===this.theMean.auth_pin_from?(this.validationFormGroup.controls.pin_code.enable(),this.validationFormGroup.controls.pin_code.setValue(this.theMean.pin_code)):this.validationFormGroup.controls.pin_code.disable()),1===this.theMean.opos_prompt_for_engine_hours&&(this.validationFormGroup.controls.opos_prompt_for_engine_hours.setValue(!0),this.validationFormGroup.controls.do_eh_reasonability_check.setValue(1===this.theMean.do_eh_reasonability_check),1===this.theMean.do_eh_reasonability_check&&(this.validationFormGroup.controls.do_eh_reasonability_check.enable(),this.validationFormGroup.controls.max_eh_delta_allowed.setValue(this.theMean.max_eh_delta_allowed),this.validationFormGroup.controls.max_eh_delta_allowed.enable(),this.validationFormGroup.controls.nr_eh_retries.setValue(this.theMean.nr_eh_retries),this.validationFormGroup.controls.nr_eh_retries.enable()),this.validationFormGroup.controls.reject_if_eh_check_fails.setValue(1===this.theMean.reject_if_eh_check_fails),this.validationFormGroup.controls.reject_if_eh_check_fails.enable()),1===this.theMean.opos_prompt_for_odometer&&(this.validationFormGroup.controls.opos_prompt_for_odometer.setValue(!0),this.validationFormGroup.controls.do_odo_reasonability_check.setValue(1===this.theMean.do_odo_reasonability_check),1===this.theMean.do_odo_reasonability_check&&(this.validationFormGroup.controls.do_odo_reasonability_check.enable(),this.validationFormGroup.controls.max_odo_delta_allowed.setValue(this.theMean.max_odo_delta_allowed),this.validationFormGroup.controls.max_odo_delta_allowed.enable(),this.validationFormGroup.controls.nr_odo_retries.setValue(this.theMean.nr_odo_retries),this.validationFormGroup.controls.nr_odo_retries.enable()),this.validationFormGroup.controls.reject_if_odm_check_fails.setValue(1===this.theMean.reject_if_odm_check_fails),this.validationFormGroup.controls.reject_if_odm_check_fails.enable()),this.validationFormGroup.controls.prompt_for_jobcode.setValue(this.theMean.prompt_for_jobcode),this.formatFormGroup.setValue({string:this.theMean.string,string2:this.theMean.string2,string3:this.theMean.string3,string4:this.theMean.string4,string5:this.theMean.string5,num_of_strings:this.theMean.num_of_strings,num_of_strings_identified:this.numOfStringsIdentified(),allow_id_replacement:1===this.theMean.allow_id_replacement,auttyp:this.theMean.auttyp}),1===this.theMean.TYPE&&(this.generalFormGroup.controls.typesOfPortability.disable(),this.generalFormGroup.controls.typesOfOwner.disable(),this.formatFormGroup.controls.allow_id_replacement.setValue(!1),this.formatFormGroup.controls.allow_id_replacement.disable(),this.formatFormGroup.controls.num_of_strings.setValue(this.formatFormGroup.controls.num_of_strings_identified),this.formatFormGroup.controls.num_of_strings.disable()),0!==this.theMean.driver_id_type_required&&this.twoStageFormGroup.controls.disable_viu_two_stage.enable(),this.twoStageFormGroup.controls.driver_id_type_required.setValue(this.theMean.driver_id_type_required),this.twoStageFormGroup.controls.disable_viu_two_stage.setValue(1!==this.theMean.disable_viu_two_stage)}else{this.departments=yield this.getDepartments(this.informationFormGroup.controls.fleet_id.value);var t=yield this.getDefaultDepartment(3e8);t.length>0&&this.informationFormGroup.controls.dept_id.setValue(t[0].id)}})}getFleets(){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.fleetsService.getAll().toPromise()})}getDepartments(t){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.departmentsService.getAll(t).toPromise()})}getGroupRules(){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.groupRulesService.getAll().toPromise()})}getCompanies(){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.modelsService.getAllCompanies().toPromise()})}getModels(t){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.modelsService.getAllModelsByCompanyId(t).toPromise()})}getAreas(){return(0,l.mG)(this,void 0,void 0,function*(){return yield this._areasService.getAll({fleets:this.informationFormGroup.controls.fleet_id.value.toString()}).toPromise()})}getArea(t){return(0,l.mG)(this,void 0,void 0,function*(){return yield this._areasService.getArea(t).toPromise()})}getDefaultDepartment(t){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.departmentsService.getDefault(t).toPromise()})}getCurrentModel(t){return(0,l.mG)(this,void 0,void 0,function*(){return yield this.modelsService.getModel(t).toPromise()})}changeTypeOfPortability(t){1===t.value?(this.generalFormGroup.controls.typesOfOwner.setValue(2),this.generalFormGroup.controls.typesOfOwner.disable(),this.formatFormGroup.controls.string.disable(),this.formatFormGroup.controls.string2.disable(),this.formatFormGroup.controls.string3.disable(),this.formatFormGroup.controls.string4.disable(),this.formatFormGroup.controls.string5.disable()):(this.generalFormGroup.controls.typesOfOwner.enable(),this.formatFormGroup.controls.string.enable(),this.formatFormGroup.controls.string2.enable(),this.formatFormGroup.controls.string3.enable(),this.formatFormGroup.controls.string4.enable(),this.formatFormGroup.controls.string5.enable(),this.formatFormGroup.controls.allow_id_replacement.setValue(!1),this.formatFormGroup.controls.allow_id_replacement.disable(),this.formatFormGroup.controls.num_of_strings.setValue(this.formatFormGroup.controls.num_of_strings_identified),this.formatFormGroup.controls.num_of_strings.disable()),this.setAvailableAuttypes()}changeEmployeeType(t){this.setAvailableAuttypes()}changeTypeOfOwner(t){this.setAvailableAuttypes()}changeAllowReplacement(t){alert("Todos los n\xfameros de tarjeta ser\xe1n eliminados al guardar los cambios"),this.formatFormGroup.controls.num_of_strings.setValue(1),this.formatFormGroup.controls.num_of_strings_identified.setValue(0)}changeExpire(t){null==t.value||(0===t.value?(this.informationFormGroup.controls.notify_expire.setValue(!1),this.informationFormGroup.controls.notification_days.setValue(14),this.informationFormGroup.controls.expire_date.setValue("0000"),this.informationFormGroup.controls.expire_date.setErrors(null),this.informationFormGroup.controls.expire_date.clearValidators(),this.informationFormGroup.controls.expire_date.disable(),this.informationFormGroup.controls.notify_expire.disable(),this.informationFormGroup.controls.notification_days.disable()):1===t.value?(this.informationFormGroup.controls.expire_date.setValidators([n.kI.pattern("^([0][1-9]|[1][0-2])[0-9]{2}$")]),this.informationFormGroup.controls.expire_date.markAsTouched(),this.informationFormGroup.controls.expire_date.updateValueAndValidity({onlySelf:!0}),this.informationFormGroup.controls.expire_date.enable(),this.informationFormGroup.controls.notify_expire.enable()):2===t.value&&(this.informationFormGroup.controls.expire_date.setValue("0000"),this.informationFormGroup.controls.expire_date.setErrors(null),this.informationFormGroup.controls.expire_date.clearValidators(),this.informationFormGroup.controls.expire_date.disable(),this.informationFormGroup.controls.notify_expire.enable()))}changePinOrig(t){this.theMean.auth_pin_from=t.value,1===t.value?this.validationFormGroup.controls.pin_code.enable({onlySelf:!0}):(this.validationFormGroup.controls.pin_code.setValue(""),this.validationFormGroup.controls.pin_code.disable({onlySelf:!0}))}changeTypeOfDualStage(t){0==t.value?(this.twoStageFormGroup.controls.disable_viu_two_stage.setValue(!1),this.twoStageFormGroup.controls.disable_viu_two_stage.disable({onlySelf:!0})):this.twoStageFormGroup.controls.disable_viu_two_stage.enable({onlySelf:!0})}numericOnly(t){let o=t.target.value+t.key;return!!new RegExp(/^([1-9][0-9]{0,7}||[0]||[0][.][0-9]{0,2}||[1-9][0-9]{0,7}[.][0-9]{0,2})$/).test(o)}numbersOnly(t){let o=t.target.value+t.key;return!!new RegExp(/^[0-9]{0,4}$/).test(o)}numOfStringsIdentified(){var t=0;return t=this.theMean.string.length>0?t+1:t,t=this.theMean.string2.length>0?t+1:t,t=this.theMean.string3.length>0?t+1:t,t=this.theMean.string4.length>0?t+1:t,this.theMean.string5.length>0?t+1:t}onChangeAuttyp(t){}onChangeCompany(t){return(0,l.mG)(this,void 0,void 0,function*(){this.informationFormGroup.controls.capacity.setValue(null),this.informationFormGroup.controls.consumption.setValue(null),this.informationFormGroup.controls.consumption2.setValue(null),this.informationFormGroup.controls.model_id.setValue(null),this.models=yield this.getModels(t)})}onCheckEngineHours(t){t.checked?(this.validationFormGroup.controls.do_eh_reasonability_check.enable(),this.validationFormGroup.controls.reject_if_eh_check_fails.enable()):(this.validationFormGroup.controls.do_eh_reasonability_check.setValue(!1),this.validationFormGroup.controls.do_eh_reasonability_check.disable(),this.validationFormGroup.controls.max_eh_delta_allowed.setValue(""),this.validationFormGroup.controls.max_eh_delta_allowed.disable(),this.validationFormGroup.controls.nr_eh_retries.setValue(""),this.validationFormGroup.controls.nr_eh_retries.disable(),this.validationFormGroup.controls.reject_if_eh_check_fails.setValue(!1),this.validationFormGroup.controls.reject_if_eh_check_fails.disable())}onChangeFleet(t){return(0,l.mG)(this,void 0,void 0,function*(){this.departments=yield this.getDepartments(t);var o=yield this.getDefaultDepartment(t);o.length>0&&this.informationFormGroup.controls.dept_id.setValue(o[0].id),this.areas=this.constructTreeData(yield this.getAreas()),this.informationFormGroup.patchValue({area_id:""})})}onChangeModel(t){this.informationFormGroup.controls.capacity.setValue(null),this.informationFormGroup.controls.consumption.setValue(null),this.informationFormGroup.controls.consumption2.setValue(null);for(let o=0;o<this.models.length;o++)if(this.models[o].id==t.value){this.informationFormGroup.controls.capacity.setValue(this.models[o].capacity),this.informationFormGroup.controls.consumption.setValue(this.models[o].kms_per_liter),this.informationFormGroup.controls.consumption2.setValue(this.models[o].engine_hours);break}}onCheckOdometer(t){t.checked?(this.validationFormGroup.controls.do_odo_reasonability_check.enable(),this.validationFormGroup.controls.reject_if_odm_check_fails.enable()):(this.validationFormGroup.controls.do_odo_reasonability_check.setValue(!1),this.validationFormGroup.controls.do_odo_reasonability_check.disable(),this.validationFormGroup.controls.max_odo_delta_allowed.setValue(""),this.validationFormGroup.controls.max_odo_delta_allowed.disable(),this.validationFormGroup.controls.nr_odo_retries.setValue(""),this.validationFormGroup.controls.nr_odo_retries.disable(),this.validationFormGroup.controls.reject_if_odm_check_fails.setValue(!1),this.validationFormGroup.controls.reject_if_odm_check_fails.disable())}onCheckPlateNumber(t){this.plate_block=t.checked}onCheckPin(t){t.checked?(this.validationFormGroup.controls.nr_pin_retries.enable({onlySelf:!0}),this.validationFormGroup.controls.block_if_pin_retries_fail.enable({onlySelf:!0})):(this.validationFormGroup.controls.auth_pin_from.setValue(2),this.validationFormGroup.controls.nr_pin_retries.disable({onlySelf:!0}),this.validationFormGroup.controls.nr_pin_retries.setValue(""),this.validationFormGroup.controls.block_if_pin_retries_fail.disable({onlySelf:!0}),this.validationFormGroup.controls.block_if_pin_retries_fail.setValue(!1),this.validationFormGroup.controls.pin_code.disable({onlySelf:!0}),this.validationFormGroup.controls.pin_code.setValue(""))}onCheckReasonabilityEh(t){t.checked?(this.validationFormGroup.controls.max_eh_delta_allowed.enable(),this.validationFormGroup.controls.nr_eh_retries.enable()):(this.validationFormGroup.controls.max_eh_delta_allowed.disable(),this.validationFormGroup.controls.max_eh_delta_allowed.setValue(""),this.validationFormGroup.controls.nr_eh_retries.disable(),this.validationFormGroup.controls.nr_eh_retries.setValue(""))}onCheckReasonabilityOdo(t){t.checked?(this.validationFormGroup.controls.max_odo_delta_allowed.enable(),this.validationFormGroup.controls.nr_odo_retries.enable()):(this.validationFormGroup.controls.max_odo_delta_allowed.disable(),this.validationFormGroup.controls.max_odo_delta_allowed.setValue(""),this.validationFormGroup.controls.nr_odo_retries.disable(),this.validationFormGroup.controls.nr_odo_retries.setValue(""))}setActiveMean(t){this.active_label=t.checked?"Activado":"Bloqueado",this.theMean.status=t.checked?2:1}onChangeNotifyDriver(t){t.checked?this.informationFormGroup.controls.notification_days.enable():(this.informationFormGroup.controls.notification_days.setValue(14),this.informationFormGroup.controls.notification_days.disable())}oneDigitOnly(t){let o=t.target.value+t.key;return!!new RegExp(/^[0-9]{1}$/).test(o)}submit(){this.setTypeOfDeviceFields(),(2!=this.generalFormGroup.controls.typesOfPortability.value||1!=this.generalFormGroup.controls.typesOfOwner.value)&&(this.theMean.NAME=this.informationFormGroup.controls.NAME.value,this.theMean.plate=this.informationFormGroup.controls.plate.value,this.theMean.fleet_id=this.informationFormGroup.controls.fleet_id.value,this.theMean.dept_id=this.informationFormGroup.controls.dept_id.value,this.theMean.rule=this.informationFormGroup.controls.rule.value,this.theMean.area_id=this.informationFormGroup.controls.area_id.value.value,this.theMean.model_id=this.informationFormGroup.controls.model_id.value,this.theMean.capacity=this.informationFormGroup.controls.capacity.value,this.theMean.consumption=this.informationFormGroup.controls.consumption.value,this.theMean.consumption2=this.informationFormGroup.controls.consumption2.value,this.theMean.chassis_number=this.informationFormGroup.controls.chassis_number.value,this.theMean.engine_hours=this.informationFormGroup.controls.eh.value,this.theMean.odometer=this.informationFormGroup.controls.odometer.value,this.theMean.YEAR=this.informationFormGroup.controls.YEAR.value,this.theMean.expire=this.informationFormGroup.controls.expire.value?1:0,this.theMean.expire_date=this.informationFormGroup.controls.expire_date.value,this.theMean.notify_expire=this.informationFormGroup.controls.notify_expire.value?1:0,this.theMean.notification_days=this.informationFormGroup.controls.notification_days.value,this.theMean.pressure_level=this.informationFormGroup.controls.pressure_level.value,this.theMean.price_list_id=this.informationFormGroup.controls.price_list_id.value,this.theMean.cust_id=this.informationFormGroup.controls.cust_id.value,this.theMean.employee_type=1,this.theMean.pump=0,this.theMean.address=""),2==this.generalFormGroup.controls.typesOfPortability.value&&1==this.generalFormGroup.controls.typesOfOwner.value&&(this.theMean.NAME=this.informationEmployeeFormGroup.controls.NAME.value,this.theMean.plate=this.theMean.NAME,this.theMean.rule=this.informationEmployeeFormGroup.controls.rule.value,this.theMean.employee_type=this.informationEmployeeFormGroup.controls.employeeTypes.value,this.theMean.pump=this.informationEmployeeFormGroup.controls.pump.value,this.theMean.address=this.informationEmployeeFormGroup.controls.address.value),this.theMean.use_pin_code=this.validationFormGroup.controls.use_pin_code.value?1:0,this.theMean.auth_pin_from=this.validationFormGroup.controls.auth_pin_from.value,this.theMean.pin_code=this.validationFormGroup.controls.pin_code.value,this.theMean.nr_pin_retries=this.validationFormGroup.controls.nr_pin_retries.value,this.theMean.block_if_pin_retries_fail=this.validationFormGroup.controls.block_if_pin_retries_fail.value?1:0,this.theMean.opos_prompt_for_odometer=this.validationFormGroup.controls.opos_prompt_for_odometer.value?1:0,this.theMean.do_odo_reasonability_check=this.validationFormGroup.controls.do_odo_reasonability_check.value?1:0,this.theMean.max_odo_delta_allowed=this.validationFormGroup.controls.max_odo_delta_allowed.value,this.theMean.nr_odo_retries=this.validationFormGroup.controls.nr_odo_retries.value,this.theMean.reject_if_odm_check_fails=this.validationFormGroup.controls.reject_if_odm_check_fails.value?1:0,this.theMean.opos_prompt_for_engine_hours=this.validationFormGroup.controls.opos_prompt_for_engine_hours.value?1:0,this.theMean.do_eh_reasonability_check=this.validationFormGroup.controls.do_eh_reasonability_check.value?1:0,this.theMean.max_eh_delta_allowed=this.validationFormGroup.controls.max_eh_delta_allowed.value,this.theMean.nr_eh_retries=this.validationFormGroup.controls.nr_eh_retries.value,this.theMean.reject_if_eh_check_fails=this.validationFormGroup.controls.reject_if_eh_check_fails.value?1:0,this.theMean.prompt_for_jobcode=this.validationFormGroup.controls.prompt_for_jobcode.value?1:0,this.theMean.string=this.formatFormGroup.controls.string.value,this.theMean.string2=this.formatFormGroup.controls.string2.value,this.theMean.string3=this.formatFormGroup.controls.string3.value,this.theMean.string4=this.formatFormGroup.controls.string4.value,this.theMean.string5=this.formatFormGroup.controls.string5.value,this.theMean.num_of_strings=this.formatFormGroup.controls.num_of_strings.value,this.theMean.allow_id_replacement=this.formatFormGroup.controls.allow_id_replacement.value?1:0,this.theMean.auttyp=this.formatFormGroup.controls.auttyp.value,this.theMean.driver_id_type_required=this.twoStageFormGroup.controls.driver_id_type_required.value,this.theMean.disable_viu_two_stage=this.twoStageFormGroup.controls.disable_viu_two_stage.value?0:1,this.theMean.created_by_user=this.tokenStorageService.getUser().user_id,this.theMean.status=this.generalFormGroup.controls.status.value,this.theMean.ieps_report=this.generalFormGroup.controls.ieps_report.value,this.theMean.id>0?this.updateMean():this.createMean()}createMean(){this.meansService.create(this.theMean).subscribe(t=>{this.theMean.id=t.id,this.snackbar.open(t.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.theMean)},t=>{this.snackbar.open(t.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}updateMean(){this.meansService.update(this.theMean).subscribe(t=>{this.snackbar.open(t.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.theMean)},t=>{this.snackbar.open(t.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}setAvailableAuttypes(){var t=this.generalFormGroup.controls.typesOfPortability.value,o=this.generalFormGroup.controls.typesOfOwner.value;1===t&&(this.availableAuttypes=[{id:1,type:"Fuelopass",disabled:!0},{id:2,type:"VIU 3",disabled:!0},{id:3,type:"VIU 4",disabled:!0},{id:4,type:"VIU 45",disabled:!0},{id:9,type:"VIU 35",disabled:!0},{id:10,type:"TRU",disabled:!0},{id:22,type:"VIU35 E",disabled:!0},{id:23,type:"VIU35 NT",disabled:!0},{id:25,type:"FP HS  ",disabled:!0},{id:26,type:"Solo DP",disabled:!0},{id:30,type:"FP + DP",disabled:!0},{id:40,type:"FP HS + DP",disabled:!0},{id:41,type:"URD",disabled:!0},{id:42,type:"URD + DP",disabled:!0}]),2===t&&2===o&&(this.availableAuttypes=[{id:1,type:"Fuelopass",disabled:!0},{id:5,type:"Electronic Key",disabled:!0},{id:6,type:"Tag",disabled:!0},{id:14,type:"Fuel Card",disabled:!0},{id:20,type:"Gasboy Key",disabled:!0},{id:21,type:"Manual Entry",disabled:!0}]),2===t&&1===o&&(this.availableAuttypes=[{id:1,type:"Fuelopass",disabled:!0},{id:6,type:"Tag",disabled:!0},{id:7,type:"Authorizer",disabled:!0},{id:8,type:"Master Authorizer",disabled:!0}]),2===t&&4===o&&(this.availableAuttypes=[{id:5,type:"Electronic Key",disabled:!0},{id:6,type:"Tag",disabled:!0},{id:14,type:"Fuel Card",disabled:!0},{id:20,type:"Gasboy Key",disabled:!0}]),2===t&&(6===o||5===o)&&(this.availableAuttypes=[{id:1,type:"Fuelopass",disabled:!0},{id:5,type:"Electronic Key",disabled:!0},{id:6,type:"Tag",disabled:!0},{id:14,type:"Fuel Card",disabled:!0},{id:20,type:"Gasboy Key",disabled:!0},{id:21,type:"Manual Entry",disabled:!0}]),2===t&&7===o&&(this.availableAuttypes=[{id:14,type:"Fuel Card",disabled:!0}])}setTypeOfDeviceFields(){let t=this.generalFormGroup.controls.typesOfPortability.value,s=this.informationEmployeeFormGroup.controls.employeeTypes.value;this.theMean.TYPE=1===t?3:this.generalFormGroup.controls.typesOfOwner.value,this.theMean.employee_type=1!==s?s:1,this.theMean.auttyp=this.formatFormGroup.controls.auttyp.value,1===t&&(this.theMean.hardware_type=6),[4,5,6,7].includes(this.theMean.TYPE)&&(this.theMean.hardware_type=1),[1,8].includes(this.theMean.auttyp)&&(this.theMean.hardware_type=6),[5,6,7,14,20,21].includes(this.theMean.auttyp)&&(this.theMean.hardware_type=1)}constructTreeData(t){return t.map(o=>({name:o.name,value:o.id,children:o.children.length?this.constructTreeData(o.children):[]}))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.WI),e.Y36(S.so),e.Y36(D.o),e.Y36(R.ux),e.Y36(J._),e.Y36(_.V),e.Y36(M._),e.Y36(d.c),e.Y36(h.E),e.Y36(x.i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["fury-form-wizard"]],decls:146,vars:30,consts:[[1,"modal-table"],[1,"title"],["fxLayout","column","fxLayoutAlign","start center",2,"width","900px"],[1,"card",2,"overflow","scroll","height","500px","width","890px"],[3,"linear"],["stepper","matVerticalStepper"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"subheading"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["color","accent","fxLayout","column","fxLayoutGap","20px","required","","formControlName","typesOfPortability",3,"change"],["class","radio",3,"value",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutGap","8px",1,"content","indented-right"],["color","accent","fxLayout","column","fxLayoutGap","20px","required","","formControlName","typesOfOwner",3,"change"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-button","","type","button",3,"disabled","click"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled"],[3,"stepControl",4,"ngIf"],["fxLayout","row","fxLayoutGap","5px",1,"content"],["fxLayout","column","fxLayoutGap","5px",1,"validation-block","content"],["formControlName","use_pin_code",1,"checkbox",3,"change"],["color","accent","fxLayout","column","fxLayoutGap","10px","required","","formControlName","auth_pin_from",1,"radio",3,"disabled","change"],[1,"radio",3,"value"],["appearance","outline","fxFlex","auto",1,"input-text"],["formControlName","pin_code","type","number","maxlength","6","matInput",""],["formControlName","nr_pin_retries","type","number","matInput","",3,"keypress"],["formControlName","block_if_pin_retries_fail",1,"checkbox"],["formControlName","opos_prompt_for_engine_hours",1,"checkbox",3,"change"],["formControlName","do_eh_reasonability_check",1,"checkbox",3,"disabled","change"],["formControlName","max_eh_delta_allowed","type","number","matInput","",3,"keypress"],["formControlName","nr_eh_retries","type","number","matInput","",3,"keypress"],["formControlName","reject_if_eh_check_fails",1,"checkbox",3,"disabled"],["formControlName","opos_prompt_for_odometer",1,"checkbox",3,"change"],["formControlName","do_odo_reasonability_check",1,"checkbox",3,"disabled","change"],["formControlName","max_odo_delta_allowed","type","number","matInput","",3,"keypress"],["formControlName","nr_odo_retries","type","number","matInput","",3,"keypress"],["formControlName","reject_if_odm_check_fails",1,"checkbox",3,"disabled"],["fxLayout","column","fxLayoutGap","5px",1,"content"],["formControlName","prompt_for_jobcode",1,"checkbox"],["color","primary","mat-button","","matStepperPrevious","","type","button"],["fxLayout","column","fxLayoutGap","5px",1,"information-block","content"],["appearance","outline","fxFlex","auto"],["formControlName","string","matInput",""],["formControlName","string2","matInput",""],["formControlName","string3","matInput",""],["formControlName","string4","matInput",""],["formControlName","string5","matInput",""],["formControlName","auttyp","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","num_of_strings",3,"selectionChange"],[2,"font-weight","bold"],["formControlName","allow_id_replacement",3,"change"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled",4,"ngIf"],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled","click",4,"ngIf"],["fxLayout","row","fxLayoutGap","8px",1,"content"],["formControlName","fleet_id",3,"selectionChange"],["formControlName","dept_id"],["formControlName","rule"],[1,"label-area"],[1,"tree-selector",3,"options","placeholder","controlName","canSelectParentNode"],["formControlName","NAME","matInput","","required",""],["formControlName","plate","matInput","","required",""],["formControlName","company_id",3,"selectionChange"],["formControlName","model_id",3,"selectionChange"],["formControlName","YEAR","type","number","maxlength","4","matInput","",3,"keypress"],["formControlName","capacity","type","number","matInput","",3,"keypress"],["formControlName","consumption","type","number","matInput","",3,"keypress"],["formControlName","consumption2","type","number","matInput","",3,"keypress"],["formControlName","chassis_number","matInput",""],["formControlName","odometer","type","number","matInput","",3,"keypress"],["formControlName","eh","matInput","","type","number",3,"keypress"],["fxLayout","column","fxLayoutGap","5px",1,"validation-block","content",2,"width","410px"],["color","accent","fxLayout","column","fxLayoutGap","10px","formControlName","expire",3,"change"],["appearance","outline",2,"margin-left","10px","width","120px"],["formControlName","expire_date","matInput","","maxlength","4",3,"keypress"],[2,"margin-top","40px"],["formControlName","notify_expire",3,"change"],["appearance","outline",2,"margin-left","120px","width","120px"],["formControlName","notification_days","matInput","","type","number","maxlength","2",3,"keypress"],["formControlName","pressure_level"],[3,"value"],["formControlName","price_list_id"],["formControlName","cust_id","matInput",""],["color","accent","fxLayout","column","fxLayoutGap","20px","required","","formControlName","employeeTypes",3,"change"],["formControlName","pump"],["formControlName","address","matInput",""],["color","primary","mat-raised-button","","matStepperNext","",3,"disabled","click"],["fxLayout","column","fxLayoutGap","8px",1,"information-block","content"],["color","accent","fxLayout","column","fxLayoutGap","20px","formControlName","driver_id_type_required",3,"change"],["formControlName","disable_viu_two_stage",1,"checkbox"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","5px",1,"actions"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"fury-page",0),e.TgZ(1,"fury-title",1),e.TgZ(2,"mat-icon"),e._uU(3,"group_work"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Asistente para crear dispositivos"),e.qZA(),e.qZA(),e.TgZ(6,"div",2),e.TgZ(7,"div",3),e.TgZ(8,"mat-horizontal-stepper",4,5),e.TgZ(10,"mat-step",6),e.TgZ(11,"form",7),e.YNc(12,ie,1,0,"ng-template",8),e.TgZ(13,"div",9),e._uU(14,"Definir tipo de dispositivo:"),e.qZA(),e.TgZ(15,"div",10),e.TgZ(16,"mat-radio-group",11),e.NdJ("change",function(c){return o.changeTypeOfPortability(c)}),e.YNc(17,se,2,2,"mat-radio-button",12),e.qZA(),e.qZA(),e.TgZ(18,"div",13),e.TgZ(19,"mat-radio-group",14),e.NdJ("change",function(c){return o.changeTypeOfOwner(c)}),e.YNc(20,le,2,2,"mat-radio-button",12),e.qZA(),e.qZA(),e.TgZ(21,"div",15),e.TgZ(22,"button",16),e.NdJ("click",function(){return e.CHM(s),e.MAs(9).reset()}),e._uU(23,"LIMPIAR"),e.qZA(),e.TgZ(24,"button",17),e._uU(25,"SIGUIENTE"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(26,he,129,19,"mat-step",18),e.YNc(27,be,32,6,"mat-step",18),e.TgZ(28,"mat-step",6),e.TgZ(29,"form",7),e.YNc(30,Me,1,0,"ng-template",8),e.TgZ(31,"div",9),e._uU(32,"Activar campos de validaci\xf3n para solicitar al usuario desde POS"),e.qZA(),e.TgZ(33,"div",19),e.TgZ(34,"div",20),e.TgZ(35,"mat-checkbox",21),e.NdJ("change",function(c){return o.onCheckPin(c)}),e._uU(36,"Solicitar c\xf3digo PIN"),e.qZA(),e.TgZ(37,"mat-radio-group",22),e.NdJ("change",function(c){return o.changePinOrig(c)}),e.TgZ(38,"mat-radio-button",23),e._uU(39,"Usar PIN del dispositivo autorizador"),e.qZA(),e.TgZ(40,"mat-radio-button",23),e._uU(41,"Usar el siguiente c\xf3digo PIN:"),e.qZA(),e.qZA(),e.TgZ(42,"mat-form-field",24),e.TgZ(43,"mat-label"),e._uU(44,"C\xf3digo PIN"),e.qZA(),e._UZ(45,"input",25),e.qZA(),e.TgZ(46,"mat-form-field",24),e.TgZ(47,"mat-label"),e._uU(48,"N\xfamero de reintentos"),e.qZA(),e.TgZ(49,"input",26),e.NdJ("keypress",function(c){return o.oneDigitOnly(c)}),e.qZA(),e.qZA(),e.TgZ(50,"mat-checkbox",27),e._uU(51,"Bloquear si los intentos fallan"),e.qZA(),e.qZA(),e.TgZ(52,"div",20),e.TgZ(53,"mat-checkbox",28),e.NdJ("change",function(c){return o.onCheckEngineHours(c)}),e._uU(54,"Solicitar horas motor"),e.qZA(),e.TgZ(55,"mat-checkbox",29),e.NdJ("change",function(c){return o.onCheckReasonabilityEh(c)}),e._uU(56,"Verificar diferencia razonable"),e.qZA(),e.TgZ(57,"mat-form-field",24),e.TgZ(58,"mat-label"),e._uU(59,"Diferencia m\xe1xima tolerada"),e.qZA(),e.TgZ(60,"input",30),e.NdJ("keypress",function(c){return o.numericOnly(c)}),e.qZA(),e.qZA(),e.TgZ(61,"mat-form-field",24),e.TgZ(62,"mat-label"),e._uU(63,"N\xfamero de reintentos"),e.qZA(),e.TgZ(64,"input",31),e.NdJ("keypress",function(c){return o.oneDigitOnly(c)}),e.qZA(),e.qZA(),e.TgZ(65,"mat-checkbox",32),e._uU(66,"Rechazar carga si los intentos fallan"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(67,"div",19),e.TgZ(68,"div",20),e.TgZ(69,"mat-checkbox",33),e.NdJ("change",function(c){return o.onCheckOdometer(c)}),e._uU(70,"Solicitar od\xf3metro"),e.qZA(),e.TgZ(71,"mat-checkbox",34),e.NdJ("change",function(c){return o.onCheckReasonabilityOdo(c)}),e._uU(72,"Verificar diferencia razonable"),e.qZA(),e.TgZ(73,"mat-form-field",24),e.TgZ(74,"mat-label"),e._uU(75,"Diferencia m\xe1xima tolerada"),e.qZA(),e.TgZ(76,"input",35),e.NdJ("keypress",function(c){return o.numericOnly(c)}),e.qZA(),e.qZA(),e.TgZ(77,"mat-form-field",24),e.TgZ(78,"mat-label"),e._uU(79,"N\xfamero de reintentos"),e.qZA(),e.TgZ(80,"input",36),e.NdJ("keypress",function(c){return o.oneDigitOnly(c)}),e.qZA(),e.qZA(),e.TgZ(81,"mat-checkbox",37),e._uU(82,"Rechazar carga si los intentos fallan"),e.qZA(),e.qZA(),e.TgZ(83,"div",20),e.TgZ(84,"div",9),e._uU(85,"No implementado"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(86,"div",38),e.TgZ(87,"mat-checkbox",39),e._uU(88,"Solicitar c\xf3digo de trabajo o tarea:"),e.qZA(),e.qZA(),e.TgZ(89,"div",15),e.TgZ(90,"button",40),e._uU(91,"ANTERIOR"),e.qZA(),e.TgZ(92,"button",17),e._uU(93,"SIGUIENTE"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(94,"mat-step",6),e.TgZ(95,"form",7),e.YNc(96,ye,1,0,"ng-template",8),e.TgZ(97,"div",41),e.TgZ(98,"div",19),e.TgZ(99,"mat-form-field",42),e.TgZ(100,"mat-label"),e._uU(101,"N\xfamero de tarjeta"),e.qZA(),e._UZ(102,"input",43),e.qZA(),e.TgZ(103,"mat-form-field",42),e.TgZ(104,"mat-label"),e._uU(105,"N\xfamero de tarjeta 2"),e.qZA(),e._UZ(106,"input",44),e.qZA(),e.qZA(),e.TgZ(107,"div",19),e.TgZ(108,"mat-form-field",42),e.TgZ(109,"mat-label"),e._uU(110,"N\xfamero de tarjeta 3"),e.qZA(),e._UZ(111,"input",45),e.qZA(),e.TgZ(112,"mat-form-field",42),e.TgZ(113,"mat-label"),e._uU(114,"N\xfamero de tarjeta 4"),e.qZA(),e._UZ(115,"input",46),e.qZA(),e.qZA(),e.TgZ(116,"div",19),e.TgZ(117,"mat-form-field",42),e.TgZ(118,"mat-label"),e._uU(119,"N\xfamero de tarjeta 5"),e.qZA(),e._UZ(120,"input",47),e.qZA(),e.TgZ(121,"mat-form-field",42),e.TgZ(122,"mat-label"),e._uU(123,"Tipo de hardware:"),e.qZA(),e.TgZ(124,"mat-select",48),e.NdJ("selectionChange",function(c){return o.onChangeAuttyp(c)}),e.YNc(125,Te,2,2,"mat-option",49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(126,"div",41),e.TgZ(127,"div",9),e._uU(128,"Cantidad de n\xfameros de tarjeta:"),e.qZA(),e.TgZ(129,"mat-form-field",42),e.TgZ(130,"mat-label"),e._uU(131,"N\xfameros de tarjeta:"),e.qZA(),e.TgZ(132,"mat-select",50),e.NdJ("selectionChange",function(c){return o.onChangeAuttyp(c)}),e.YNc(133,Ze,2,2,"mat-option",49),e.qZA(),e.qZA(),e.TgZ(134,"div",9),e._uU(135,"N\xfameros de tarjeta identificados: "),e.TgZ(136,"mat-label",51),e._uU(137),e.qZA(),e.qZA(),e.TgZ(138,"mat-slide-toggle",52),e.NdJ("change",function(c){return o.changeAllowReplacement(c)}),e._uU(139,"Permitir reemplazo"),e.qZA(),e.qZA(),e.TgZ(140,"div",15),e.TgZ(141,"button",40),e._uU(142,"ANTERIOR"),e.qZA(),e.YNc(143,xe,2,1,"button",53),e.YNc(144,Ae,2,1,"button",54),e.qZA(),e.qZA(),e.qZA(),e.YNc(145,Ge,15,4,"mat-step",18),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&t&&(e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(2),e.Q6J("@fadeInRight",void 0),e.xp6(3),e.Q6J("@fadeInUp",void 0),e.xp6(1),e.Q6J("linear",!0),e.xp6(2),e.Q6J("stepControl",o.generalFormGroup),e.xp6(1),e.Q6J("formGroup",o.generalFormGroup),e.xp6(6),e.Q6J("ngForOf",o.typesOfPortability),e.xp6(3),e.Q6J("ngForOf",o.typesOfOwner),e.xp6(2),e.Q6J("disabled",o.generalFormGroup.pristine),e.xp6(2),e.Q6J("disabled",o.generalFormGroup.invalid),e.xp6(2),e.Q6J("ngIf",2!=o.generalFormGroup.controls.typesOfPortability.value||1!=o.generalFormGroup.controls.typesOfOwner.value),e.xp6(1),e.Q6J("ngIf",2==o.generalFormGroup.controls.typesOfPortability.value&&1==o.generalFormGroup.controls.typesOfOwner.value),e.xp6(1),e.Q6J("stepControl",o.validationFormGroup),e.xp6(1),e.Q6J("formGroup",o.validationFormGroup),e.xp6(8),e.Q6J("disabled",!o.validationFormGroup.controls.use_pin_code.value),e.xp6(1),e.Q6J("value",2),e.xp6(2),e.Q6J("value",1),e.xp6(15),e.Q6J("disabled",!o.validationFormGroup.controls.opos_prompt_for_engine_hours.value),e.xp6(10),e.Q6J("disabled",!o.eh_block),e.xp6(6),e.Q6J("disabled",!o.validationFormGroup.controls.opos_prompt_for_odometer.value),e.xp6(10),e.Q6J("disabled",!o.odo_block),e.xp6(11),e.Q6J("disabled",o.validationFormGroup.invalid),e.xp6(2),e.Q6J("stepControl",o.formatFormGroup),e.xp6(1),e.Q6J("formGroup",o.formatFormGroup),e.xp6(30),e.Q6J("ngForOf",o.availableAuttypes),e.xp6(8),e.Q6J("ngForOf",o.numbersOfStrings),e.xp6(4),e.Oqu(o.formatFormGroup.controls.num_of_strings_identified.value),e.xp6(6),e.Q6J("ngIf",2===o.generalFormGroup.controls.typesOfOwner.value),e.xp6(1),e.Q6J("ngIf",2!==o.generalFormGroup.controls.typesOfOwner.value),e.xp6(1),e.Q6J("ngIf",2===o.generalFormGroup.controls.typesOfOwner.value))},directives:[Y.i,ee.M,j.Hw,O.xw,O.Wh,I.Vq,I.C0,n._Y,n.JL,n.sg,I.VY,O.SQ,H.VQ,n.Q7,n.JJ,n.u,a.sg,$.lW,I.Ic,a.O5,te.oG,H.U0,L.KE,O.yH,L.hX,n.Fj,n.wV,oe.Nt,n.nD,I.fd,ne.gD,ae.Rr,K.bl,L.bx,re.ey],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;padding:5px;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .information-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:100%}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:410px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;width:245px}.card[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;width:245px}.card[_ngcontent-%COMP%]   .indented-right[_ngcontent-%COMP%]{margin-left:40px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}.modal-table[_ngcontent-%COMP%]{width:900px}.mat-option-text[_ngcontent-%COMP%], .mat-form-field-wrapper[_ngcontent-%COMP%]{width:795px}.label-area[_ngcontent-%COMP%]{position:relative;font-size:11px;font-family:Roboto;font-weight:400;top:12px;color:#0009;background:white;z-index:1;width:30px;margin:-16px 10px 0!important}"],data:{animation:[q.X,w.M,U.K]}}),r})();var Ne=i(94327),Se=i(92573),Oe=i(24801),Ie=i(97187),Ee=i(60198),Pe=i(39762),we=i(53580),qe=i(38932),Ue=i(19165),ke=i(94927),V=i(92181);function De(r,p){if(1&r&&(e.TgZ(0,"th",21),e._uU(1),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Je(r,p){if(1&r&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&r){const t=p.$implicit,o=e.oxw(2).$implicit,s=e.oxw();e.xp6(1),e.hij(" ",s.getLabel(o.name,t[o.property])," ")}}function Re(r,p){if(1&r&&(e.ynx(0,18),e.YNc(1,De,2,1,"th",19),e.YNc(2,Je,2,1,"td",20),e.BQk()),2&r){const t=e.oxw().$implicit;e.Q6J("matColumnDef",t.property)}}function Le(r,p){if(1&r&&(e.ynx(0),e.YNc(1,Re,3,1,"ng-container",17),e.BQk()),2&r){const t=p.$implicit;e.xp6(1),e.Q6J("ngIf",t.isModelProperty)}}function ze(r,p){1&r&&e._UZ(0,"th",23)}function Ve(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().changeStatusOfMean(s)}),e.TgZ(1,"span"),e._uU(2,"Activar"),e.qZA(),e.qZA()}}function We(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().changeStatusOfMean(s)}),e.TgZ(1,"span"),e._uU(2,"Bloquear"),e.qZA(),e.qZA()}}function Qe(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().deleteMean(s)}),e.TgZ(1,"span"),e._uU(2,"Eliminar"),e.qZA(),e.qZA()}}function Be(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"td",24),e.TgZ(1,"button",25),e.NdJ("click",function(s){return s.stopPropagation()}),e.TgZ(2,"mat-icon"),e._uU(3,"more_horiz"),e.qZA(),e.qZA(),e.TgZ(4,"mat-menu",26,27),e.TgZ(6,"button",28),e.NdJ("click",function(){const u=e.CHM(t).$implicit;return e.oxw().updateMean(u)}),e.TgZ(7,"span"),e._uU(8,"Editar"),e.qZA(),e.qZA(),e.YNc(9,Ve,3,0,"button",29),e.YNc(10,We,3,0,"button",29),e.YNc(11,Qe,3,0,"button",29),e.qZA(),e.qZA()}if(2&r){const t=e.MAs(5),o=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(8),e.Q6J("ngIf",!o.bloqueable&&!o.isdefaultmean),e.xp6(1),e.Q6J("ngIf",o.bloqueable&&!o.isdefaultmean),e.xp6(1),e.Q6J("ngIf",!o.isdefaultmean)}}function Ye(r,p){1&r&&e._UZ(0,"tr",30)}function je(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"tr",31),e.NdJ("click",function(){const u=e.CHM(t).$implicit;return e.oxw().updateMean(u)}),e.qZA()}}const He=function(){return["Tables"]},$e=[{path:"",component:(()=>{class r{constructor(t,o,s,u,c,E,P,F,W,Q){this.dialog=t,this.fileUploaderDialog=o,this.meansService=s,this.groupRulesService=u,this._fleetsService=c,this._departmentsService=E,this._jobsService=P,this._dbUtilitiesService=F,this._filesUploaderService=W,this.snackbar=Q,this.subject$=new G.t(1),this.data$=this.subject$.asObservable(),this.bloqueable=!0,this.isdefaultmean=!1,this.departments=[],this.fleets=[],this.groupRules=[],this.columns=[{name:"Id Dispositivo",property:"id",visible:!1,isModelProperty:!0},{name:"Estatus",property:"status",visible:!0,isModelProperty:!0},{name:"Flota",property:"fleet_id",visible:!0,isModelProperty:!0},{name:"Area",property:"area_path",visible:!0,isModelProperty:!0},{name:"Nombre",property:"NAME",visible:!0,isModelProperty:!0},{name:"N\xfamero vehicular",property:"plate",visible:!0,isModelProperty:!0},{name:"Id tarjeta 1",property:"string",visible:!0,isModelProperty:!0},{name:"Id tarjeta 2",property:"string2",visible:!1,isModelProperty:!0},{name:"Id tarjeta 3",property:"string3",visible:!1,isModelProperty:!0},{name:"Id tarjeta 4",property:"string4",visible:!1,isModelProperty:!0},{name:"Id tarjeta 5",property:"string5",visible:!1,isModelProperty:!0},{name:"Tipo dispositivo",property:"TYPE",visible:!0,isModelProperty:!0},{name:"Tipo hardware",property:"hardware_type",visible:!0,isModelProperty:!0},{name:"Regla",property:"rule",visible:!0,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getLabel(t,o){if(null!=t){if("Regla"==t){for(var s=0;s<this.groupRules.length;s++)if(o==this.groupRules[s].id)return this.groupRules[s].NAME;return"Regla no definida"}if("C\xf3digo"==t)return this.isdefaultmean=99999==o,o;if("Flota"==t)try{return this.fleets.find(u=>u.id===o).NAME}catch(u){return"Desconocido"}else{if("Departamento"!=t)return"Estatus"==t?(this.bloqueable=2==o&&!this.isdefaultmean,2==o?"Activo":"Desactivado"):o;try{return this.departments.find(u=>u.id===o).NAME}catch(u){return"Desconocido"}}}}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}getData(){this.meansService.getAll().subscribe(t=>{this.means=t,this.dataSource=new f.by(t),this.dataSource=new f.by(this.means),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},t=>{console.log(t)})}getGroupRules(){this.groupRulesService.getAll().subscribe(t=>{this.groupRules=t},t=>{console.log(t)})}ngOnInit(){return(0,l.mG)(this,void 0,void 0,function*(){this.dataSource=new f.by,this.fleets=yield this.getFleets(),this.departments=yield this.getDepartments(),this.getGroupRules(),this.getData(),this.data$.pipe((0,N.h)(t=>!!t)).subscribe(t=>{this.means=this.means,this.dataSource.data=this.means})})}getDepartments(){return(0,l.mG)(this,void 0,void 0,function*(){return yield this._departmentsService.getAllDepts().toPromise()})}getFleets(){return(0,l.mG)(this,void 0,void 0,function*(){return yield this._fleetsService.getAll().toPromise()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createMean(){this.dialog.open(z).afterClosed().subscribe(t=>{t&&(this.subject$.next(this.means),this.getGroupRules(),this.getData(),this.data$.pipe((0,N.h)(o=>!!o)).subscribe(o=>{this.means=o,this.dataSource.data=o}),this._jobsService.push({type:"means",object:t}).subscribe(o=>{this.snackbar.open(o.message,null,{duration:5e3,panelClass:["green-snackbar"]})},o=>{this.snackbar.open(o.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}))})}updateMean(t){this.dialog.open(z,{data:t}).afterClosed().subscribe(o=>{o&&(this.subject$.next(this.means),this.getGroupRules(),this.getData(),this.data$.pipe((0,N.h)(s=>!!s)).subscribe(s=>{this.means=s,this.dataSource.data=s}),this._jobsService.push({type:"means",object:o}).subscribe(s=>{this.snackbar.open(s.message,null,{duration:5e3,panelClass:["green-snackbar"]})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}))})}changeStatusOfMean(t){t.status=2==t.status?1:2,this.updateTheMean(t)}deleteMean(t){t.status=0,this.updateTheMean(t)}updateTheMean(t){console.log("updateTheMean",t),this.meansService.update(t).subscribe(o=>{this.snackbar.open(o.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.subject$.next(this.means),this.getGroupRules(),this.getData(),this.data$.pipe((0,N.h)(s=>!!s)).subscribe(s=>{this.means=s,this.dataSource.data=s}),this._jobsService.push({type:"means",object:t}).subscribe(s=>{this.snackbar.open(s.message,null,{duration:5e3,panelClass:["green-snackbar"]})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})},o=>{this.snackbar.open(o.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}onFilterChange(t){!this.dataSource||(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}ngOnDestroy(){}exportMeans(){this._dbUtilitiesService.getRecordsByModel("means").subscribe(t=>{this._filesUploaderService.getFile(t.filename).subscribe(o=>{let s=o.file;console.log(s);const u=atob(s),c=new Array(u.length);for(let F=0;F<u.length;F++)c[F]=u.charCodeAt(F);const E=new Uint8Array(c),P=new Blob([E],{type:"application/gzip"});(0,Ne.saveAs)(P,t.filename)})},t=>{console.log(t.message)})}importMeans(){this.fileUploaderDialog.open(Se.G).afterClosed().subscribe(t=>{console.log("importing",t),this._dbUtilitiesService.uploadBackup(t).subscribe(o=>{this.snackbar.open(o.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.subject$.next(this.means),this.getGroupRules(),this.getData(),this.data$.pipe((0,N.h)(s=>!!s)).subscribe(s=>{this.means=s,this.dataSource.data=s})},o=>{this.snackbar.open(o.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(S.uw),e.Y36(S.uw),e.Y36(J._),e.Y36(D.o),e.Y36(_.V),e.Y36(M._),e.Y36(Oe.e),e.Y36(Ie.y),e.Y36(Ee.a),e.Y36(R.ux))},r.\u0275cmp=e.Xpm({type:r,selectors:[["means-table"]],viewQuery:function(t,o){if(1&t&&(e.Gf(m.NW,7),e.Gf(b.YE,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first),e.iGM(s=e.CRH())&&(o.sort=s.first)}},inputs:{columns:"columns"},decls:21,vars:12,consts:[["mode","card"],["current","Dispositivos",3,"crumbs"],["name","Dispositivos",3,"columns","filterChange"],["fxLayoutGap","8px",1,"actions"],["type","button","mat-mini-fab","","color","primary","alt","Add new",1,"create",3,"click"],["type","button","mat-mini-fab","","color","primary","alt","Export means",1,"create",3,"click"],["svgIcon","export"],["type","button","mat-mini-fab","","color","primary","alt","Import means",1,"create",3,"click"],["svgIcon","import"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"fury-page-layout",0),e.TgZ(1,"fury-page-layout-header"),e._UZ(2,"fury-breadcrumbs",1),e.qZA(),e.TgZ(3,"fury-page-layout-content"),e.TgZ(4,"fury-list",2),e.NdJ("filterChange",function(u){return o.onFilterChange(u)}),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.createMean()}),e.TgZ(7,"mat-icon"),e._uU(8,"add"),e.qZA(),e.qZA(),e.TgZ(9,"button",5),e.NdJ("click",function(){return o.exportMeans()}),e._UZ(10,"mat-icon",6),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return o.importMeans()}),e._UZ(12,"mat-icon",8),e.qZA(),e.qZA(),e.TgZ(13,"table",9),e.YNc(14,Le,2,1,"ng-container",10),e.ynx(15,11),e.YNc(16,ze,1,0,"th",12),e.YNc(17,Be,12,4,"td",13),e.BQk(),e.YNc(18,Ye,1,0,"tr",14),e.YNc(19,je,1,0,"tr",15),e.qZA(),e._UZ(20,"mat-paginator",16),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("@fadeInRight",void 0)("crumbs",e.DdM(11,He)),e.xp6(1),e.Q6J("@fadeInUp",void 0),e.xp6(1),e.Q6J("columns",o.columns),e.xp6(6),e.Q6J("@scaleIn",void 0),e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(1),e.Q6J("dataSource",o.dataSource),e.xp6(1),e.Q6J("ngForOf",o.columns),e.xp6(4),e.Q6J("matHeaderRowDef",o.visibleColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.visibleColumns),e.xp6(1),e.Q6J("pageSize",o.pageSize))},directives:[Pe.N,we.U,qe.n,Ue.d,ke.n,O.SQ,$.lW,j.Hw,f.BZ,b.YE,a.sg,f.w1,f.fO,f.Dz,f.as,f.nj,m.NW,a.O5,f.ge,b.nU,f.ev,V.p6,V.VK,V.OP,f.XQ,f.Gk],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[w.M,q.X,U.K]}}),r})()}];let Ke=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[A.Bz.forChild($e)],A.Bz]}),r})();const Xe=[{path:"",component:z}];let X=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[A.Bz.forChild(Xe)],A.Bz]}),r})(),et=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[a.ez,n.UX,Z.q,v.Z,K.rU,X]]}),r})(),tt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[a.ez,n.u5,n.UX,g.J,y.p,Z.q,v.Z,Ke,et,X]]}),r})()},15702:(C,T,i)=>{i.d(T,{_:()=>Z});var a=i(40520),n=i(98545),g=i(5e3),y=i(33344);let Z=(()=>{class v{constructor(l,m){this.http=l,this.tokenStorage=m}getHeaders(){var l=new a.WM,m=this.tokenStorage.getToken();return l.set("token",m||"{}")}getFromId(l){var m=this.getHeaders();return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MEANS+"/"+l,{headers:m})}getFiltered(l){var m=this.getHeaders();const b=(new a.LE).appendAll(l);return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MEANS,{params:b,headers:m})}getAll(){var l=this.getHeaders();return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MEANS,{headers:l})}getEfficiencies(l){var m=this.getHeaders();const b=(new a.LE).appendAll(l);return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MEANS_EFFICIENCIES,{params:b,headers:m})}getEfficienciesFromId(l,m){var b=this.getHeaders();const f=(new a.LE).appendAll(m);return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MEANS_EFFICIENCIES+"/"+l,{params:f,headers:b})}create(l){var m=this.getHeaders();return this.http.post(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MEANS,l,{headers:m})}update(l){var m=this.getHeaders();return this.http.put(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MEANS+"/"+l.id,l,{headers:m})}}return v.\u0275fac=function(l){return new(l||v)(g.LFG(a.eN),g.LFG(y.i))},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},17846:(C,T,i)=>{i.d(T,{c:()=>Z});var a=i(40520),n=i(98545),g=i(5e3),y=i(33344);let Z=(()=>{class v{constructor(l,m){this.http=l,this.tokenStorage=m}getHeaders(){var l=new a.WM,m=this.tokenStorage.getToken();return l.set("token",m||"{}")}getAllModels(){var l=this.getHeaders();return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MODELS,{headers:l})}getAllModelsByCompanyId(l){var m=this.getHeaders();const b=(new a.LE).appendAll({company_id:l});return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MODELS,{params:b,headers:m})}getAllModelsByAreas(l){var m=this.getHeaders();const b=(new a.LE).appendAll(l);return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MODELS,{params:b,headers:m})}getModel(l){var m=this.getHeaders();return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MODELS+"/"+l,{headers:m})}createModel(l){var m=this.getHeaders();return this.http.post(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MODELS,l,{headers:m})}updateModel(l){var m=this.getHeaders();return this.http.put(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.MODELS+"/"+l.id,l,{headers:m})}getAllCompanies(){var l=this.getHeaders();return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.COMPANIES,{headers:l})}createCompany(l){var m=this.getHeaders();return this.http.post(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.COMPANIES,l,{headers:m})}updateCompany(l){var m=this.getHeaders();return this.http.put(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.COMPANIES+"/"+l.id,l,{headers:m})}getAllEquipmentClasses(){var l=this.getHeaders();return this.http.get(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.EQUIPMENT_CLASSES,{headers:l})}createEquipmentClass(l){var m=this.getHeaders();return this.http.post(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.EQUIPMENT_CLASSES,l,{headers:m})}updateEquipmentClass(l){var m=this.getHeaders();return this.http.put(n._.settings.apiServer.API_URL_BASE+n._.settings.apiServer.EQUIPMENT_CLASSES+"/"+l.id,l,{headers:m})}}return v.\u0275fac=function(l){return new(l||v)(g.LFG(a.eN),g.LFG(y.i))},v.\u0275prov=g.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},79207:(C,T,i)=>{i.d(T,{bl:()=>D,rU:()=>J});var a=i(5e3),n=i(28258),g=i(93075),y=i(90149),Z=i(21086),v=i(67322),A=i(74107),l=i(90508),m=i(47423),b=i(25245),f=i(69808),G=i(77531);function N(_,M){if(1&_&&(a.TgZ(0,"mat-tree-node",5),a.TgZ(1,"mat-option",6),a.TgZ(2,"p",7),a._uU(3),a.qZA(),a.qZA(),a.qZA()),2&_){const d=M.$implicit;a.xp6(1),a.Q6J("title",d.name)("value",d),a.xp6(2),a.hij(" ",d.name," ")}}function w(_,M){if(1&_&&(a.TgZ(0,"p",14),a._uU(1),a.qZA()),2&_){const d=a.oxw().$implicit,h=a.oxw();a.xp6(1),a.hij(" ",h.heading+" "+d.name,"")}}function q(_,M){if(1&_&&(a.TgZ(0,"mat-nested-tree-node"),a.TgZ(1,"div",8),a.TgZ(2,"button",9),a.TgZ(3,"mat-icon",10),a._uU(4),a.qZA(),a.qZA(),a.TgZ(5,"mat-option",11),a._uU(6),a.qZA(),a.qZA(),a.TgZ(7,"ul"),a.YNc(8,w,2,1,"p",12),a.GkF(9,13),a.qZA(),a.qZA()),2&_){const d=M.$implicit,h=a.oxw();a.xp6(2),a.uIk("aria-label","toggle "+d.name),a.xp6(2),a.hij(" ",h.nestedTreeControl.isExpanded(d)?"expand_more":"chevron_right"," "),a.xp6(1),a.Q6J("title",d.name)("disabled",!h.canSelectParentNode)("value",d),a.xp6(1),a.hij(" ",d.name," "),a.xp6(1),a.ekj("example-tree-invisible",!h.nestedTreeControl.isExpanded(d)),a.xp6(1),a.Q6J("ngIf",""!==h.heading)}}const U=["*"];let D=(()=>{class _{constructor(){this.controlName={},this.options=[],this.placeholder="",this.multiple=!1,this.heading="",this.canSelectParentNode=!0,this._getChildren=d=>(0,Z.of)(d.children),this.hasNestedChild=(d,h)=>{var x;return(null===(x=h.children)||void 0===x?void 0:x.length)>0},this.nestedTreeControl=new n.VY(this._getChildren),this.nestedDataSource=new y.WX}ngOnInit(){this.nestedDataSource.data=this.options}ngOnChanges(d){var h,x;(null===(h=d.options)||void 0===h?void 0:h.currentValue)!==(null===(x=d.options)||void 0===x?void 0:x.previousValue)&&(this.nestedDataSource.data=this.options)}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275cmp=a.Xpm({type:_,selectors:[["ngx-mat-tree-select-input"]],inputs:{controlName:"controlName",options:"options",placeholder:"placeholder",multiple:"multiple",heading:"heading",canSelectParentNode:"canSelectParentNode"},features:[a._Bn([],[{provide:g.gN,useExisting:g.sg}]),a.TTD],ngContentSelectors:U,decls:6,vars:7,consts:[["appearance","outline"],[3,"id","placeholder","multiple","formControlName"],[1,"example-tree","mat-tree-position",3,"dataSource","treeControl"],["class","mat-tree-node",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"mat-tree-node"],[3,"title","value"],[1,"tree_text",2,"margin-left","35px"],[2,"display","flex"],["mat-icon-button","","matTreeNodeToggle","",1,"tree-toggle"],[1,"mat-icon-rtl-mirror"],[1,"mat-tree-node",2,"display","flex",3,"title","disabled","value"],["class","title",4,"ngIf"],["matTreeNodeOutlet",""],[1,"title"]],template:function(d,h){1&d&&(a.F$t(),a.TgZ(0,"mat-form-field",0),a.TgZ(1,"mat-select",1),a.Hsn(2),a.TgZ(3,"mat-tree",2),a.YNc(4,N,4,3,"mat-tree-node",3),a.YNc(5,q,10,9,"mat-nested-tree-node",4),a.qZA(),a.qZA(),a.qZA()),2&d&&(a.xp6(1),a.Q6J("id",h.controlName)("placeholder",h.placeholder)("multiple",h.multiple)("formControlName",h.controlName),a.xp6(2),a.Q6J("dataSource",h.nestedDataSource)("treeControl",h.nestedTreeControl),a.xp6(2),a.Q6J("matTreeNodeDefWhen",h.hasNestedChild))},directives:[v.KE,A.gD,g.JJ,g.u,y.gi,y.fQ,y.uo,l.ey,y.GZ,m.lW,y.eu,b.Hw,f.O5,y.Ar],styles:[".example-tree-invisible[_ngcontent-%COMP%] {\n    display: none;\n}\n.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    margin-top: 0;\n    margin-bottom: 0;\n    list-style-type: none;\n}\n.mat-tree[_ngcontent-%COMP%] {\n    width: 100%;\n    margin-top: 15px;\n    box-sizing: border-box;\n}\n.mat-tree[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n    height: 33px;\n    width: 33px;\n    line-height: 33px;\n    color: #777;\n    margin-left: 0px;\n    margin-right: 0px;\n}\n.mattreenodetoggle[_ngcontent-%COMP%] {\n    color: #777;\n}\n.mat-tree-node[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    min-height: 0;\n    position: relative;\n}\n[_nghost-%COMP%]     .mat-option-text {\n    display: flex !important;\n    align-items: center;\n    font-size: 12px;\n    min-height: 0;\n    position: relative;\n}\n.actions[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    margin-left: 30px;\n}\n.tree-toggle[_ngcontent-%COMP%] {\n    position: relative;\n}\n.title[_ngcontent-%COMP%] {\n    margin-right: auto;\n    margin-bottom: 0;\n    font-weight: 500;\n    color: #777;\n    align-self: flex-end;\n    font-size: 12px;\n    margin-left: 20px;\n    padding-top: 10px;\n}\n.tree_text[_ngcontent-%COMP%] {\n    margin-bottom: 0;\n    width: 100px;\n    line-height: normal;\n}\nul[_ngcontent-%COMP%] {\n    padding: 0px;\n    margin-bottom: 10px !important;\n    margin-left: 51px;\n}\nmat-tree-node[_ngcontent-%COMP%] {\n    position: relative;\n}\nmat-tree-node[_ngcontent-%COMP%]::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    height: 1px;\n    width: 40px;\n}"]}),_})(),J=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275mod=a.oAB({type:_}),_.\u0275inj=a.cJS({imports:[[G.c,v.lN,A.LD,y.dp,b.Ps,f.ez,g.UX,g.u5,m.ot]]}),_})()}}]);