"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[3759],{88914:(p,l,r)=>{r.d(l,{M:()=>o});var t=r(41777);const o=(0,t.X$)("fadeInRight",[(0,t.eR)(":enter",[(0,t.oB)({transform:"translateX(-2vw)",opacity:0}),(0,t.jt)("0.4s cubic-bezier(0.35, 0, 0.25, 1)",(0,t.oB)({transform:"translateX(0)",opacity:1}))])])},14499:(p,l,r)=>{r.d(l,{X:()=>o});var t=r(41777);const o=(0,t.X$)("fadeInUp",[(0,t.eR)(":enter",[(0,t.oB)({transform:"translateY(3vh)",opacity:0}),(0,t.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,t.oB)({transform:"translateY(0)",opacity:1}))])])},37425:(p,l,r)=>{r.d(l,{K:()=>o});var t=r(41777);const o=(0,t.X$)("scaleIn",[(0,t.eR)(":enter",[(0,t.oB)({transform:"scale(0)"}),(0,t.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,t.oB)({transform:"scale(1)"}))])])},38932:(p,l,r)=>{r.d(l,{n:()=>A});var t=r(5e3),o=r(30277),u=r(3299),c=r(69808),m=r(25245);function g(d,f){if(1&d&&(t.TgZ(0,"div",7),t.TgZ(1,"mat-icon",5),t._uU(2,"chevron_right"),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.qZA(),t.qZA()),2&d){const e=f.$implicit;t.xp6(4),t.Oqu(e)}}const y=function(){return["/"]};let A=(()=>{class d{constructor(){this.crumbs=[]}ngOnInit(){}}return d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["fury-breadcrumbs"]],inputs:{current:"current",crumbs:"crumbs"},decls:11,vars:5,consts:[[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"crumbs"],[1,"crumb","home",3,"routerLink"],["class","crumb","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb","current"],[1,"chevron"],[1,"link"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb"]],template:function(e,h){1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"a",2),t._uU(4,"Home"),t.qZA(),t.YNc(5,g,5,1,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-icon",5),t._uU(8,"chevron_right"),t.qZA(),t.TgZ(9,"div",6),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Oqu(h.current),t.xp6(2),t.Q6J("routerLink",t.DdM(4,y)),t.xp6(2),t.Q6J("ngForOf",h.crumbs),t.xp6(5),t.Oqu(h.current))},directives:[o.xw,o.Wh,u.yS,c.sg,m.Hw],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font:var(--font-title);font-weight:400}.crumb[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none;transition:color .4s cubic-bezier(.25,.8,.25,1);font:var(--font-body-1)}.link[_ngcontent-%COMP%]{cursor:pointer}.chevron[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;margin-left:6px;margin-right:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}"]}),d})()},53580:(p,l,r)=>{r.d(l,{U:()=>o});var t=r(5e3);let o=(()=>{class u{constructor(){}}return u.\u0275fac=function(m){return new(m||u)},u.\u0275dir=t.lG2({type:u,selectors:[["","furyPageLayoutHeader",""],["fury-page-layout-header"]],hostAttrs:[1,"fury-page-layout-header"]}),u})()},39762:(p,l,r)=>{r.d(l,{N:()=>o});var t=r(5e3);let o=(()=>{class u{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return u.\u0275fac=function(m){return new(m||u)},u.\u0275dir=t.lG2({type:u,selectors:[["","furyPageLayout",""],["fury-page-layout"]],hostAttrs:[1,"fury-page-layout"],hostVars:4,hostBindings:function(m,g){2&m&&t.ekj("fury-page-layout-card",g.isCard)("fury-page-layout-simple",g.isSimple)},inputs:{mode:"mode"}}),u})()},33759:(p,l,r)=>{r.r(l),r.d(l,{AccountModule:()=>R});var t=r(69808),o=r(93075),u=r(7057),c=r(3299),m=r(70655),g=r(88914),y=r(37425),A=r(14499),d=r(84872),e=r(5e3),h=r(57261),U=r(33344),T=r(92660),C=r(24333),x=r(39762),P=r(53580),b=r(38932),Z=r(30277),_=r(67322),O=r(77531),w=r(74107),M=r(47423),I=r(25245),q=r(90508);function F(n,i){if(1&n&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&n){const a=i.$implicit;e.Q6J("value",a.id),e.xp6(1),e.Oqu(a.name)}}function E(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Oqu(a.generalFormGroup.get("previous_password").errors.weakPassword)}}function L(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Oqu(a.generalFormGroup.get("pass").errors.weakPassword)}}function D(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const a=e.oxw();e.xp6(1),e.Oqu(a.generalFormGroup.get("confirm_password").errors.differentPasswords)}}const N=function(){return["Tables"]},G=[{path:"",component:(()=>{class n{constructor(a,s,v,Q,k){this.router=a,this.snackbar=s,this._tokenStorageService=v,this._profilesService=Q,this._usersService=k,this.hide=!0,this.hide1=!0,this.hide2=!0,this.theUser=new d.n,this.profiles=[],this.generalFormGroup=new o.cw({user_id:new o.NI,user:new o.NI("",[o.kI.required,o.kI.pattern("^[a-zA-Zd_.@-]{8,}$")]),name:new o.NI("",[o.kI.required]),email:new o.NI("",[o.kI.required,o.kI.email]),phone:new o.NI(""),previous_password:new o.NI(""),pass:new o.NI(""),confirm_password:new o.NI(""),profile_id:new o.NI("1",[o.kI.required]),employee_id:new o.NI,require_change_password:new o.NI(!0),status:new o.NI(!0)},function f(){return n=>{const i=n.controls.pass,a=n.controls.confirm_password;!new RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/).test(i.value)&&i.value.length>0?i.setErrors({weakPassword:"Al menos 8 caracteres y al menos: 1 n\xfamero, 1 may\xfascula, 1 min\xfascula y un caracter especial"}):i.setErrors(null),a.setErrors(i.value===a.value||""===a.value&&""===i.value?null:{differentPasswords:"Los passwords no coincideen"})}}())}ngOnInit(){return(0,m.mG)(this,void 0,void 0,function*(){this.profiles=yield this.getProfiles(),this.theUser=this._tokenStorageService.getUser(),this.generalFormGroup.patchValue({user_id:this.theUser.user_id,user:this.theUser.user,name:this.theUser.name,email:this.theUser.email,previous_password:"",pass:"",confirm_password:"",phone:this.theUser.phone,profile_id:+this.theUser.profile_id,employee_id:this.theUser.employee_id,require_change_password:1===this.theUser.require_change_password}),this.generalFormGroup.get("user").disable(),this.generalFormGroup.get("profile_id").disable()})}getProfiles(){return(0,m.mG)(this,void 0,void 0,function*(){return yield this._profilesService.getAll().toPromise()})}submit(){this.theUser.user=this.generalFormGroup.controls.user.value,this.theUser.name=this.generalFormGroup.controls.name.value,this.theUser.email=this.generalFormGroup.controls.email.value,this.theUser.phone=this.generalFormGroup.controls.phone.value,this.theUser.previous_password=this.generalFormGroup.controls.previous_password.value,this.theUser.password=this.generalFormGroup.controls.pass.value,this.theUser.profile_id=this.generalFormGroup.controls.profile_id.value,this.theUser.employee_id=this.generalFormGroup.controls.employee_id.value,this.theUser.require_change_password=this.generalFormGroup.controls.require_change_password.value?1:0,this.theUser.user_id>0&&this.updateUser()}updateUser(){this._usersService.updateUser(this.theUser).subscribe(a=>{this.snackbar.open(a.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.router.navigate(["/logout"])},a=>{this.snackbar.open(a.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}}return n.\u0275fac=function(a){return new(a||n)(e.Y36(c.F0),e.Y36(h.ux),e.Y36(U.i),e.Y36(T.L),e.Y36(C.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fury-page-layout-card"]],decls:68,vars:22,consts:[["mode","card"],["current","Mi cuenta",3,"crumbs"],[1,"card",2,"overflow","scroll","padding","30px"],[1,"heading"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","8px",1,"content"],["appearance","outline","fxFlex","auto"],["formControlName","name","matInput","","required",""],["formControlName","user","matInput","","required",""],["formControlName","phone","matInput","","required",""],["formControlName","email","matInput","","required",""],["formControlName","profile_id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","employee_id","matInput",""],["matInput","","formControlName","previous_password","matInput","","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["matInput","","formControlName","pass","matInput","",3,"type"],["matInput","","formControlName","confirm_password","matInput","",3,"type"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","",3,"disabled","click"],[3,"value"]],template:function(a,s){1&a&&(e.TgZ(0,"fury-page-layout",0),e.TgZ(1,"fury-page-layout-header"),e._UZ(2,"fury-breadcrumbs",1),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e._uU(5,"Datos de mi cuenta:"),e.qZA(),e.TgZ(6,"form",4),e.TgZ(7,"div",5),e.TgZ(8,"mat-form-field",6),e.TgZ(9,"mat-label"),e._uU(10,"Nombre:"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"Usuario:"),e.qZA(),e._UZ(15,"input",8),e.TgZ(16,"mat-hint"),e._uU(17,"Debe contener al menos 8 caracteres."),e.qZA(),e.qZA(),e.TgZ(18,"mat-form-field",6),e.TgZ(19,"mat-label"),e._uU(20,"Tel\xe9fono:"),e.qZA(),e._UZ(21,"input",9),e.qZA(),e.qZA(),e.TgZ(22,"div",5),e.TgZ(23,"mat-form-field",6),e.TgZ(24,"mat-label"),e._uU(25,"Correo electr\xf3nico:"),e.qZA(),e._UZ(26,"input",10),e.qZA(),e.TgZ(27,"mat-form-field",6),e.TgZ(28,"mat-label"),e._uU(29,"Perfil:"),e.qZA(),e.TgZ(30,"mat-select",11),e.YNc(31,F,2,2,"mat-option",12),e.qZA(),e.qZA(),e.TgZ(32,"mat-form-field",6),e.TgZ(33,"mat-label"),e._uU(34,"N\xfamero de empleado:"),e.qZA(),e._UZ(35,"input",13),e.qZA(),e.qZA(),e.TgZ(36,"div",5),e.TgZ(37,"mat-form-field",6),e.TgZ(38,"mat-label"),e._uU(39,"Password actual:"),e.qZA(),e._UZ(40,"input",14),e.TgZ(41,"button",15),e.NdJ("click",function(){return s.hide=!s.hide}),e.TgZ(42,"mat-icon"),e._uU(43),e.qZA(),e.qZA(),e.YNc(44,E,2,1,"mat-error",16),e.qZA(),e.TgZ(45,"mat-form-field",6),e.TgZ(46,"mat-label"),e._uU(47,"Password:"),e.qZA(),e._UZ(48,"input",17),e.TgZ(49,"button",15),e.NdJ("click",function(){return s.hide1=!s.hide1}),e.TgZ(50,"mat-icon"),e._uU(51),e.qZA(),e.qZA(),e.TgZ(52,"mat-hint"),e._uU(53,"Deje en blanco la contrase\xf1a si desea mantener la actual"),e.qZA(),e.YNc(54,L,2,1,"mat-error",16),e.qZA(),e.TgZ(55,"mat-form-field",6),e.TgZ(56,"mat-label"),e._uU(57,"Confirmar password:"),e.qZA(),e._UZ(58,"input",18),e.TgZ(59,"button",15),e.NdJ("click",function(){return s.hide2=!s.hide2}),e.TgZ(60,"mat-icon"),e._uU(61),e.qZA(),e.qZA(),e.TgZ(62,"mat-hint"),e._uU(63,"Deje en blanco la contrase\xf1a si desea mantener la actual"),e.qZA(),e.YNc(64,D,2,1,"mat-error",16),e.qZA(),e.qZA(),e.TgZ(65,"div",19),e.TgZ(66,"button",20),e.NdJ("click",function(){return s.submit()}),e._uU(67,"GUARDAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Q6J("@fadeInRight",void 0)("crumbs",e.DdM(21,N)),e.xp6(1),e.Q6J("@fadeInUp",void 0),e.xp6(3),e.Q6J("formGroup",s.generalFormGroup),e.xp6(25),e.Q6J("ngForOf",s.profiles),e.xp6(9),e.Q6J("type",s.hide?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",s.hide),e.xp6(2),e.Oqu(s.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",s.generalFormGroup.get("previous_password").errors),e.xp6(4),e.Q6J("type",s.hide1?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",s.hide1),e.xp6(2),e.Oqu(s.hide1?"visibility_off":"visibility"),e.xp6(3),e.Q6J("ngIf",s.generalFormGroup.get("pass").errors),e.xp6(4),e.Q6J("type",s.hide2?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",s.hide2),e.xp6(2),e.Oqu(s.hide2?"visibility_off":"visibility"),e.xp6(3),e.Q6J("ngIf",s.generalFormGroup.get("confirm_password").errors),e.xp6(2),e.Q6J("disabled",s.generalFormGroup.invalid))},directives:[x.N,P.U,b.n,o._Y,o.JL,o.sg,Z.xw,Z.SQ,_.KE,Z.yH,_.hX,o.Fj,O.Nt,o.JJ,o.u,o.Q7,_.bx,w.gD,t.sg,M.lW,_.R9,I.Hw,t.O5,Z.Wh,q.ey,_.TO],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px;width:50%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .slide-toggle[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}"],data:{animation:[A.X,g.M,y.K]}}),n})()}];let B=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.Bz.forChild(G)],c.Bz]}),n})();var J=r(72467);let R=(()=>{class n{}return n.\u0275fac=function(a){return new(a||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[t.ez,B,J.Z,o.UX,u.q]]}),n})()}}]);