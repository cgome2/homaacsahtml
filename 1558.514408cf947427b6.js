"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[1558],{61558:(j,P,c)=>{c.r(P),c.d(P,{ReceptionDataModule:()=>He});var p=c(69808),r=c(93075),x=c(7057),C=c(3299),u=c(70655),b=c(18444),N=c(88914),m=c(37425),d=c(14499),_=c(71936),t=c(5e3),h=c(48966),U=c(57261),k=c(92824),V=c(9360),X=c(52190),S=c(95288),K=c(39762),tt=c(53580),et=c(38932),g=c(30277),v=c(67322),G=c(74107),J=c(77531),D=c(86856),F=c(25245),E=c(90508),O=c(47423),A=c(86087),Z=c(84847),l=c(32075),ot=c(20449),H=c(96831),R=c(92198);class nt{constructor(n){this.document_id=n&&n.document_id||null,this.numero_comprobante_recepcion=n&&n.numero_comprobante_recepcion||null,this.numero_comprobante_recepcion2=n&&n.numero_comprobante_recepcion2||null,this.fecha_comprobante=n&&n.fecha_comprobante||null,this.id_um_volumen=n&&n.id_um_volumen||null,this.id_um_temperatura=n&&n.id_um_temperatura||null,this.id_moneda=n&&n.id_moneda||null,this.tipo_de_cambio=n&&n.tipo_de_cambio||null,this.volumen_comprobante=n&&n.volumen_comprobante||null,this.volumen_comprobante_litros=n&&n.volumen_comprobante_litros||null,this.temperatura_comprobante=n&&n.temperatura_comprobante||null,this.temperatura_comprobante_celsius=n&&n.temperatura_comprobante_celsius||null,this.ppv_comprobante=n&&n.ppv_comprobante||null,this.ppv_comprobante_pesos=n&&n.ppv_comprobante_pesos||null,this.precio_total_comprobante=n&&n.precio_total_comprobante||null,this.precio_total_pesos_comprobante=n&&n.precio_total_pesos_comprobante||null,this.sello1=n&&n.sello1||null,this.sello2=n&&n.sello2||null,this.sello3=n&&n.sello3||null,this.sello4=n&&n.sello4||null,this.numero_vehiculo=n&&n.numero_vehiculo||null,this.placa_vehiculo=n&&n.placa_vehiculo||null,this.cantidad_ejes_vehiculo=n&&n.cantidad_ejes_vehiculo||null,this.nice=n&&n.nice||null,this.numero_tanque_vehiculo=n&&n.numero_tanque_vehiculo||null,this.user_id=n&&n.user_id||null,this.cre_permission_id=n&&n.cre_permission_id||null,this.cfdi=n&&n.cfdi||null,this.tipo_cfdi=n&&n.tipo_cfdi||null,this.fecha_cfdi=n&&n.fecha_cfdi||null,this.ppv_cfdi=n&&n.ppv_cfdi||null,this.volumen_cfdi=n&&n.volumen_cfdi||null,this.subtotal_cfdi=n&&n.subtotal_cfdi||null,this.iva_cfdi=n&&n.iva_cfdi||null,this.ieps_cfdi=n&&n.ieps_cfdi||null,this.total_cfdi=n&&n.total_cfdi||null,this.product_id=n&&n.product_id||null,this.tarifa_de_almac=n&&n.tarifa_de_almac||null,this.cargo_por_capacidad_almac=n&&n.cargo_por_capacidad_almac||null,this.cargo_por_uso_almac=n&&n.cargo_por_uso_almac||null,this.tarifa_de_transporte=n&&n.tarifa_de_transporte||null,this.cargo_por_capacidad_trans=n&&n.cargo_por_capacidad_trans||null,this.cargo_por_uso_trans=n&&n.cargo_por_uso_trans||null,this.cargo_volumetrico_trans=n&&n.cargo_volumetrico_trans||null,this.tarifa_de_suministro=n&&n.tarifa_de_suministro||null,this.status=n&&n.status||null,this.reception_id=n&&n.reception_id||null,this.folio_cfdi=n&&n.folio_cfdi||null,this.serie_cfdi=n&&n.serie_cfdi||null,this.site_code=n&&n.site_code||null,this.lecturas_tls=n&&n.lecturas_tls||[],this.pesajes=n&&n.pesajes||[],this.analisis_quimicos=n&&n.analisis_quimicos||[]}}var it=c(19383),B=c(7732),T=c(92181);function at(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Id lectura"),t.qZA())}function rt(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.tank_delivery_reading_id)}}function ct(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Estaci\xf3n"),t.qZA())}function st(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.station_name)}}function lt(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Producto"),t.qZA())}function mt(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.product_name)}}function pt(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"N\xfamero de tanque"),t.qZA())}function ut(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.tank_number)}}function dt(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Tanque"),t.qZA())}function _t(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.tank_name)}}function ft(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Fecha y hora"),t.qZA())}function ht(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.end_delivery_timestamp)}}function gt(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Cantidad"),t.qZA())}function bt(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.volume,"1.2"))}}function vt(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Volumen inicial"),t.qZA())}function Zt(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.start_volume,"1.2"))}}function Tt(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Volumen final"),t.qZA())}function xt(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.end_volume,"1.2"))}}function Ct(o,n){1&o&&(t.TgZ(0,"mat-header-cell",28),t._uU(1,"Origen registro"),t.qZA())}function Dt(o,n){if(1&o&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.register_origin)}}function Mt(o,n){1&o&&t._UZ(0,"mat-header-cell")}function yt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-cell"),t.TgZ(1,"button",29),t.NdJ("click",function(a){return a.stopPropagation()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",30,31),t.TgZ(6,"button",32),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().asignarLecturaTanque(s)}),t.TgZ(7,"mat-icon"),t._uU(8,"attachment"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Asociar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(5);t.xp6(1),t.Q6J("matMenuTriggerFor",e)}}function At(o,n){1&o&&t._UZ(0,"mat-header-row")}function Rt(o,n){1&o&&t._UZ(0,"mat-row")}function qt(o,n){1&o&&(t.TgZ(0,"div",33),t._uU(1,"No hay lecturas"),t.qZA())}let $=(()=>{class o{constructor(e,i,a,s){this.data=e,this._tankDeliveryReadingsService=i,this.dialogRef=a,this.snackbar=s,this.cols=["tank_delivery_reading_id","station_name","product_name","tank_number","tank_name","end_delivery_timestamp","volume","register_origin","start_volume","end_volume","actions"],this.pageSize=5,this.dialogRef.disableClose=!0}ngOnInit(){this.receptionDocument=this.data.receptionDocument,this.getRecords()}getRecords(){this._tankDeliveryReadingsService.getAvailable(this.receptionDocument).subscribe(e=>{this.records=e,this.dataSource=new l.by(this.records),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},e=>{console.log(e)})}applyFilter(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}asignarLecturaTanque(e){this._tankDeliveryReadingsService.assign({action:"asociar",document_id:this.receptionDocument.document_id,id_recepcion:this.receptionDocument.reception_id,tank_delivery_reading_id:e.tank_delivery_reading_id,reception_id:this.receptionDocument.reception_id,status:1}).subscribe(a=>{this.snackbar.open(a.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close()},a=>{this.snackbar.open(a.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}close(){this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.WI),t.Y36(B.a),t.Y36(h.so),t.Y36(U.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["lecturas-tanques-table"]],viewQuery:function(e,i){if(1&e&&(t.Gf(A.NW,5),t.Gf(Z.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},decls:50,vars:5,consts:[[1,"crud"],[1,"header-row"],["svgIcon","fuel_truck",2,"height","40px","width","40px"],[1,"mat-title"],["appearance","standard",2,"padding-left","500px"],["matInput","","placeholder","Buscar",3,"keyup"],["matPrefix",""],["matSort","",1,"crud-table",3,"dataSource"],["matColumnDef","tank_delivery_reading_id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","station_name"],["matColumnDef","product_name"],["matColumnDef","tank_number"],["matColumnDef","tank_name"],["matColumnDef","end_delivery_timestamp"],["matColumnDef","volume"],["matColumnDef","start_volume"],["matColumnDef","end_volume"],["matColumnDef","register_origin"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize"],["style","text-align: center; margin: 16px","class","mat-body",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"content","actions"],["color","primary","mat-raised-button","",3,"click"],["mat-sort-header",""],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"mat-body",2,"text-align","center","margin","16px"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"mat-icon",2),t.TgZ(3,"h2",3),t._uU(4,"Lecturas de tanques "),t.TgZ(5,"mat-form-field",4),t.TgZ(6,"input",5),t.NdJ("keyup",function(s){return i.applyFilter(s.target.value)}),t.qZA(),t.TgZ(7,"mat-icon",6),t._uU(8,"search"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"mat-table",7),t.ynx(10,8),t.YNc(11,at,2,0,"mat-header-cell",9),t.YNc(12,rt,2,1,"mat-cell",10),t.BQk(),t.ynx(13,11),t.YNc(14,ct,2,0,"mat-header-cell",9),t.YNc(15,st,2,1,"mat-cell",10),t.BQk(),t.ynx(16,12),t.YNc(17,lt,2,0,"mat-header-cell",9),t.YNc(18,mt,2,1,"mat-cell",10),t.BQk(),t.ynx(19,13),t.YNc(20,pt,2,0,"mat-header-cell",9),t.YNc(21,ut,2,1,"mat-cell",10),t.BQk(),t.ynx(22,14),t.YNc(23,dt,2,0,"mat-header-cell",9),t.YNc(24,_t,2,1,"mat-cell",10),t.BQk(),t.ynx(25,15),t.YNc(26,ft,2,0,"mat-header-cell",9),t.YNc(27,ht,2,1,"mat-cell",10),t.BQk(),t.ynx(28,16),t.YNc(29,gt,2,0,"mat-header-cell",9),t.YNc(30,bt,3,4,"mat-cell",10),t.BQk(),t.ynx(31,17),t.YNc(32,vt,2,0,"mat-header-cell",9),t.YNc(33,Zt,3,4,"mat-cell",10),t.BQk(),t.ynx(34,18),t.YNc(35,Tt,2,0,"mat-header-cell",9),t.YNc(36,xt,3,4,"mat-cell",10),t.BQk(),t.ynx(37,19),t.YNc(38,Ct,2,0,"mat-header-cell",9),t.YNc(39,Dt,2,1,"mat-cell",10),t.BQk(),t.ynx(40,20),t.YNc(41,Mt,1,0,"mat-header-cell",21),t.YNc(42,yt,11,1,"mat-cell",10),t.BQk(),t.YNc(43,At,1,0,"mat-header-row",22),t.YNc(44,Rt,1,0,"mat-row",23),t.qZA(),t._UZ(45,"mat-paginator",24),t.YNc(46,qt,2,0,"div",25),t.TgZ(47,"div",26),t.TgZ(48,"button",27),t.NdJ("click",function(){return i.close()}),t._uU(49,"CANCELAR"),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("dataSource",i.dataSource),t.xp6(34),t.Q6J("matHeaderRowDef",i.cols),t.xp6(1),t.Q6J("matRowDefColumns",i.cols),t.xp6(1),t.Q6J("pageSize",i.pageSize),t.xp6(1),t.Q6J("ngIf",i.records&&!i.records.length))},directives:[F.Hw,v.KE,J.Nt,v.qo,l.BZ,Z.YE,l.w1,l.fO,l.Dz,l.as,l.nj,A.NW,p.O5,g.xw,g.Wh,g.SQ,O.lW,l.ge,Z.nU,l.ev,T.p6,T.VK,T.OP,l.XQ,l.Gk],pipes:[p.JJ],styles:[".mat-title[_ngcontent-%COMP%]{font-size:x-large;width:100%;height:80px;margin-top:-30px}.mat-dialog-content[_ngcontent-%COMP%]{max-width:700px;max-height:500px;overflow:scroll}.mat-form-field[_ngcontent-%COMP%]{padding:10px;width:20%}.toggle[_ngcontent-%COMP%]{padding:10px;min-width:30%}.white-icon[_ngcontent-%COMP%]{color:#fff}.crud[_ngcontent-%COMP%]{margin:10px;padding:10px;background-color:#fff;width:60vw;height:40vw;overflow:scroll}.clickable[_ngcontent-%COMP%]{cursor:pointer}.header-row[_ngcontent-%COMP%]{margin-top:-20px}.crud-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}.mat-table[_ngcontent-%COMP%]{overflow:scroll;max-width:100%}.labeltimesecondspicker[_ngcontent-%COMP%]{font-size:12px;font-family:Roboto;font-weight:400;color:#8d8d8d;width:70px;margin-bottom:-27px!important;padding-left:10px;margin-top:12px}.four_fields[_ngcontent-%COMP%]{width:100%;font-size:small}.timebox[_ngcontent-%COMP%]{margin-top:-2px;max-width:30%}.time_separator[_ngcontent-%COMP%]{font-size:20px;margin-top:27px}.filler[_ngcontent-%COMP%]{margin-left:400px}"],data:{animation:[m.K]}}),o})();var W=c(53251),wt=c(4834);const Pt=["receptionDocumentForm"];function Nt(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ut(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ft(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function Ot(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function It(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab",9),t.TgZ(1,"div",10),t.TgZ(2,"form",11),t.TgZ(3,"div",12),t.TgZ(4,"mat-form-field",13),t.TgZ(5,"mat-label"),t._uU(6,"CFDi:"),t.qZA(),t._UZ(7,"input",14),t.qZA(),t.TgZ(8,"mat-form-field",13),t.TgZ(9,"mat-label"),t._uU(10,"Tipo de CFDi:"),t.qZA(),t.TgZ(11,"mat-select",15),t.YNc(12,Nt,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(13,"mat-form-field",13),t.TgZ(14,"mat-label"),t._uU(15,"Serie CFDi:"),t.qZA(),t._UZ(16,"input",17),t.qZA(),t.qZA(),t.TgZ(17,"div",18),t.TgZ(18,"mat-form-field",13),t.TgZ(19,"mat-label"),t._uU(20,"Folio CFDi:"),t.qZA(),t._UZ(21,"input",19),t.qZA(),t.TgZ(22,"mat-form-field",13),t.TgZ(23,"mat-label"),t._uU(24,"Fecha CFDi:"),t.qZA(),t._UZ(25,"input",20),t._UZ(26,"mat-datepicker-toggle",21),t._UZ(27,"mat-datepicker",null,22),t.qZA(),t.TgZ(29,"div",23),t.TgZ(30,"label",24),t._uU(31,"Hora CFDi:*"),t.qZA(),t.TgZ(32,"div",25),t.TgZ(33,"mat-form-field",26),t.TgZ(34,"mat-select",27),t.YNc(35,Ut,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(36,"mat-label",28),t._uU(37,":"),t.qZA(),t.TgZ(38,"mat-form-field",26),t.TgZ(39,"mat-select",29),t.YNc(40,Ft,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(41,"mat-label",28),t._uU(42,":"),t.qZA(),t.TgZ(43,"mat-form-field",26),t.TgZ(44,"mat-select",30),t.YNc(45,Ot,2,2,"mat-option",16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(46,"mat-divider",31),t.TgZ(47,"div",12),t.TgZ(48,"mat-form-field",13),t.TgZ(49,"mat-label"),t._uU(50,"Volumen factura:"),t.qZA(),t._UZ(51,"input",32),t.qZA(),t.TgZ(52,"mat-form-field",13),t.TgZ(53,"mat-label"),t._uU(54,"Precio compra factura:"),t.qZA(),t._UZ(55,"input",33),t.qZA(),t.TgZ(56,"mat-form-field",13),t.TgZ(57,"mat-label"),t._uU(58,"Precio total factura:"),t.qZA(),t._UZ(59,"input",34),t.qZA(),t.qZA(),t.TgZ(60,"div",12),t.TgZ(61,"mat-form-field",13),t.TgZ(62,"mat-label"),t._uU(63,"IVA:"),t.qZA(),t._UZ(64,"input",35),t.qZA(),t.TgZ(65,"mat-form-field",13),t.TgZ(66,"mat-label"),t._uU(67,"IEPS:"),t.qZA(),t._UZ(68,"input",36),t.qZA(),t.qZA(),t.TgZ(69,"div",37),t.TgZ(70,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().close()}),t._uU(71,"CANCELAR"),t.qZA(),t.TgZ(72,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().second()}),t._uU(73,"SIGUIENTE"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(28),i=t.oxw();t.xp6(2),t.Q6J("formGroup",i.cfdiModalForm),t.xp6(10),t.Q6J("ngForOf",i.tipos_cfdi),t.xp6(13),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(9),t.Q6J("ngForOf",i.hours),t.xp6(5),t.Q6J("ngForOf",i.sixties),t.xp6(5),t.Q6J("ngForOf",i.sixties),t.xp6(27),t.Q6J("disabled",i.cfdiModalForm.invalid)}}function kt(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.unit_of_measure)}}function St(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.unit_of_measure)}}function Jt(o,n){if(1&o&&(t.TgZ(0,"mat-option",40),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.currency)}}function Qt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).third()}),t._uU(1,"LECTURAS"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",e.cfdiModalForm.invalid)}}function Lt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).submit()}),t._uU(1,"GUARDAR"),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("disabled",e.cfdiModalForm.invalid)}}function Yt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab",41),t.TgZ(1,"div",42),t.TgZ(2,"form",11),t.TgZ(3,"div",43),t.TgZ(4,"mat-form-field",44),t.TgZ(5,"mat-label"),t._uU(6,"N\xfamero comprobante:"),t.qZA(),t._UZ(7,"input",45),t.qZA(),t.TgZ(8,"mat-form-field",44),t.TgZ(9,"mat-label"),t._uU(10,"N\xfamero comprobante 2:"),t.qZA(),t._UZ(11,"input",46),t.qZA(),t.TgZ(12,"mat-form-field",44),t.TgZ(13,"mat-label"),t._uU(14,"Fecha comprobante:"),t.qZA(),t._UZ(15,"input",47),t._UZ(16,"mat-datepicker-toggle",21),t._UZ(17,"mat-datepicker",null,48),t.qZA(),t.TgZ(19,"mat-form-field",44),t.TgZ(20,"mat-label"),t._uU(21,"Unidad volumen:"),t.qZA(),t.TgZ(22,"mat-select",49),t.YNc(23,kt,2,2,"mat-option",16),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",50),t.TgZ(25,"mat-form-field",44),t.TgZ(26,"mat-label"),t._uU(27,"Unidad temperatura:"),t.qZA(),t.TgZ(28,"mat-select",51),t.YNc(29,St,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(30,"mat-form-field",44),t.TgZ(31,"mat-label"),t._uU(32,"Moneda:"),t.qZA(),t.TgZ(33,"mat-select",52),t.YNc(34,Jt,2,2,"mat-option",16),t.qZA(),t.qZA(),t.TgZ(35,"mat-form-field",44),t.TgZ(36,"mat-label"),t._uU(37,"Tipo cambio:"),t.qZA(),t._UZ(38,"input",53),t.qZA(),t.TgZ(39,"mat-form-field",44),t.TgZ(40,"mat-label"),t._uU(41,"Volumen comprobante:"),t.qZA(),t._UZ(42,"input",54),t.qZA(),t.qZA(),t.TgZ(43,"div",43),t.TgZ(44,"mat-form-field",44),t.TgZ(45,"mat-label"),t._uU(46,"Volumen litros:"),t.qZA(),t._UZ(47,"input",55),t.qZA(),t.TgZ(48,"mat-form-field",44),t.TgZ(49,"mat-label"),t._uU(50,"Temperatura comprobante:"),t.qZA(),t._UZ(51,"input",56),t.qZA(),t.TgZ(52,"mat-form-field",44),t.TgZ(53,"mat-label"),t._uU(54,"Temperatura celsius:"),t.qZA(),t._UZ(55,"input",57),t.qZA(),t.TgZ(56,"mat-form-field",44),t.TgZ(57,"mat-label"),t._uU(58,"Precio unitario:"),t.qZA(),t._UZ(59,"input",58),t.qZA(),t.qZA(),t.TgZ(60,"div",43),t.TgZ(61,"mat-form-field",44),t.TgZ(62,"mat-label"),t._uU(63,"Precio unitario pesos:"),t.qZA(),t._UZ(64,"input",59),t.qZA(),t.TgZ(65,"mat-form-field",44),t.TgZ(66,"mat-label"),t._uU(67,"Precio total comprobante:"),t.qZA(),t._UZ(68,"input",60),t.qZA(),t.TgZ(69,"mat-form-field",44),t.TgZ(70,"mat-label"),t._uU(71,"Precio total comprobante pesos"),t.qZA(),t._UZ(72,"input",61),t.qZA(),t.TgZ(73,"mat-form-field",44),t.TgZ(74,"mat-label"),t._uU(75,"Sello 1:"),t.qZA(),t._UZ(76,"input",62),t.qZA(),t.qZA(),t.TgZ(77,"div",43),t.TgZ(78,"mat-form-field",44),t.TgZ(79,"mat-label"),t._uU(80,"Sello 2:"),t.qZA(),t._UZ(81,"input",63),t.qZA(),t.TgZ(82,"mat-form-field",44),t.TgZ(83,"mat-label"),t._uU(84,"Sello 3:"),t.qZA(),t._UZ(85,"input",64),t.qZA(),t.TgZ(86,"mat-form-field",44),t.TgZ(87,"mat-label"),t._uU(88,"Sello 4:"),t.qZA(),t._UZ(89,"input",65),t.qZA(),t.TgZ(90,"mat-form-field",44),t.TgZ(91,"mat-label"),t._uU(92,"N\xfamero veh\xedculo:"),t.qZA(),t._UZ(93,"input",66),t.qZA(),t.qZA(),t.TgZ(94,"div",43),t.TgZ(95,"mat-form-field",44),t.TgZ(96,"mat-label"),t._uU(97,"Placa veh\xedculo:"),t.qZA(),t._UZ(98,"input",67),t.qZA(),t.TgZ(99,"mat-form-field",44),t.TgZ(100,"mat-label"),t._uU(101,"Cantidad ejes:"),t.qZA(),t._UZ(102,"input",68),t.qZA(),t.TgZ(103,"mat-form-field",44),t.TgZ(104,"mat-label"),t._uU(105,"NICE:"),t.qZA(),t._UZ(106,"input",69),t.qZA(),t.TgZ(107,"mat-form-field",44),t.TgZ(108,"mat-label"),t._uU(109,"N\xfamero tanque veh\xedculo:"),t.qZA(),t._UZ(110,"input",70),t.qZA(),t.qZA(),t.TgZ(111,"div",43),t.TgZ(112,"mat-form-field",44),t.TgZ(113,"mat-label"),t._uU(114,"Tarifa de almacenamiento:"),t.qZA(),t._UZ(115,"input",71),t.qZA(),t.TgZ(116,"mat-form-field",44),t.TgZ(117,"mat-label"),t._uU(118,"Tarifa de transporte:"),t.qZA(),t._UZ(119,"input",72),t.qZA(),t.qZA(),t.TgZ(120,"div",73),t.TgZ(121,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().close()}),t._uU(122,"CANCELAR"),t.qZA(),t.TgZ(123,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().first()}),t._uU(124,"ANTERIOR"),t.qZA(),t.YNc(125,Qt,2,1,"button",74),t.YNc(126,Lt,2,1,"button",74),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.MAs(18),i=t.oxw();t.xp6(2),t.Q6J("formGroup",i.comprobanteModalForm),t.xp6(13),t.Q6J("matDatepicker",e),t.xp6(1),t.Q6J("for",e),t.xp6(7),t.Q6J("ngForOf",i.unidades_medida_volumen),t.xp6(6),t.Q6J("ngForOf",i.unidades_medida_temperatura),t.xp6(5),t.Q6J("ngForOf",i.monedas),t.xp6(89),t.Q6J("disabled",i.cfdiModalForm.invalid),t.xp6(2),t.Q6J("ngIf",null!==i.receptionDocument.document_id),t.xp6(1),t.Q6J("ngIf",0!=i.reception_status)}}function Gt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",91),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).asignarTDR()}),t.TgZ(1,"mat-icon",92),t._uU(2,"add"),t.qZA(),t.qZA()}}function Et(o,n){if(1&o&&(t.TgZ(0,"th",97),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function Ht(o,n){if(1&o&&(t.TgZ(0,"td",98),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(2).$implicit,a=t.oxw(2);t.xp6(1),t.Oqu(a.getLabel(i.name,e[i.property]))}}function Bt(o,n){if(1&o&&(t.ynx(0,94),t.YNc(1,Et,2,1,"th",95),t.YNc(2,Ht,2,1,"td",96),t.BQk()),2&o){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.property)}}function $t(o,n){if(1&o&&(t.ynx(0),t.YNc(1,Bt,3,1,"ng-container",93),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.isModelProperty)}}function Wt(o,n){1&o&&t._UZ(0,"th",99)}function zt(o,n){if(1&o&&(t.TgZ(0,"button",105),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(1,"mat-icon"),t._uU(2,"more_horiz"),t.qZA(),t.qZA()),2&o){t.oxw();const e=t.MAs(3);t.Q6J("matMenuTriggerFor",e)}}function jt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",100),t.YNc(1,zt,3,1,"button",101),t.TgZ(2,"mat-menu",102,103),t.TgZ(4,"button",104),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).relegarTDR(s)}),t.TgZ(5,"mat-icon"),t._uU(6,"remove"),t.qZA(),t.TgZ(7,"span"),t._uU(8,"Desasociar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",2==+e.reception_status)}}function Vt(o,n){1&o&&t._UZ(0,"tr",106)}function Xt(o,n){1&o&&t._UZ(0,"tr",107)}function Kt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-tab",75),t.TgZ(1,"div",76),t.TgZ(2,"form"),t.TgZ(3,"div",77),t.TgZ(4,"div",78),t.TgZ(5,"fury-card-header",79),t.TgZ(6,"fury-card-header-heading",80),t._uU(7,"Aumentos TLS/Bomba:"),t.qZA(),t.TgZ(8,"fury-card-header-actions"),t.YNc(9,Gt,3,0,"button",81),t.qZA(),t.qZA(),t.TgZ(10,"fury-card-content",82),t.TgZ(11,"table",83),t.YNc(12,$t,2,1,"ng-container",84),t.ynx(13,85),t.YNc(14,Wt,1,0,"th",86),t.YNc(15,jt,9,1,"td",87),t.BQk(),t.YNc(16,Vt,1,0,"tr",88),t.YNc(17,Xt,1,0,"tr",89),t.qZA(),t._UZ(18,"mat-paginator",90),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",73),t.TgZ(20,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw().close()}),t._uU(21,"CERRAR"),t.qZA(),t.TgZ(22,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw().second()}),t._uU(23,"ANTERIOR"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("@fadeInUp",void 0),t.xp6(8),t.Q6J("ngIf",2==e.data.reception.status),t.xp6(2),t.Q6J("dataSource",e.TDRDataSource),t.xp6(1),t.Q6J("ngForOf",e.columnsTDR),t.xp6(4),t.Q6J("matHeaderRowDef",e.visibleColumnsTDR),t.xp6(1),t.Q6J("matRowDefColumns",e.visibleColumnsTDR),t.xp6(1),t.Q6J("pageSize",e.pageSize),t.xp6(4),t.Q6J("disabled",e.cfdiModalForm.invalid)}}let Q=(()=>{class o{constructor(e,i,a,s,f,M,y){this.data=e,this.dialog=i,this.snackbar=a,this._receptionsService=s,this._crePermissionsService=f,this._tankDeliveryReadingsService=M,this.dialogRef=y,this.subject$=new H.t(1),this.data$=this.subject$.asObservable(),this.decimalPipe=new p.JJ("en-US"),this.columnsTDR=[{name:"Id recepci\xf3n",property:"reception_id",visible:!1,isModelProperty:!0},{name:"Id registro",property:"tank_delivery_reading_id",visible:!0,isModelProperty:!0},{name:"Volumen inicial",property:"start_volume",visible:!1,isModelProperty:!0},{name:"Volumen final",property:"end_volume",visible:!1,isModelProperty:!0},{name:"Id estaci\xf3n",property:"site_code",visible:!1,isModelProperty:!0},{name:"Estaci\xf3n",property:"station_name",visible:!0,isModelProperty:!0},{name:"Id tanque",property:"tank_id",visible:!1,isModelProperty:!0},{name:"Origen registro",property:"register_origin",visible:!0,isModelProperty:!0},{name:"Tanque",property:"tank_name",visible:!0,isModelProperty:!0},{name:"No tanque",property:"tank_number",visible:!1,isModelProperty:!0},{name:"Volumen",property:"volume",visible:!0,isModelProperty:!0},{name:"Fecha descarga",property:"end_delivery_timestamp",visible:!0,isModelProperty:!0},{name:"Id producto",property:"ho_product_id",visible:!1,isModelProperty:!0},{name:"Producto",property:"product_name",visible:!0,isModelProperty:!0},{name:"Color",property:"color",visible:!1,isModelProperty:!0},{name:"Estatus",property:"status",visible:!0,isModelProperty:!0},{name:"Acciones",property:"actions",visible:!0}],this.pageSize=5,this.receptionDocument=new nt,this.unidades_medida_volumen=[],this.unidades_medida_temperatura=[],this.monedas=[],this.cre_permission=new it._,this.tipos_cfdi=["Ingreso","Egreso","Traslado"],this.hours=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],this.sixties=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],this.tabindex=0,this.minDate=new Date(2022,0,1),this.maxDate=new Date,this.cfdiModalForm=new r.cw({reception_id:new r.NI,cfdi:new r.NI("",[r.kI.required,r.kI.pattern("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$")]),folio_cfdi:new r.NI("",[r.kI.required]),serie_cfdi:new r.NI("",[r.kI.required]),tipo_cfdi:new r.NI("Ingreso",[r.kI.required]),fecha_cfdi:new r.NI(new Date,[r.kI.required]),hour_cfdi:new r.NI("",[r.kI.required]),minute_cfdi:new r.NI("",[r.kI.required]),second_cfdi:new r.NI("",[r.kI.required]),ppv_cfdi:new r.NI("",[r.kI.required]),volumen_cfdi:new r.NI("",[r.kI.required]),iva_cfdi:new r.NI(""),ieps_cfdi:new r.NI(""),total_cfdi:new r.NI("",[r.kI.required])}),this.comprobanteModalForm=new r.cw({numero_comprobante_recepcion:new r.NI(""),numero_comprobante_recepcion2:new r.NI(""),fecha_comprobante:new r.NI(new Date),id_um_volumen:new r.NI(1,[r.kI.required]),id_um_temperatura:new r.NI(11,[r.kI.required]),id_moneda:new r.NI(1,[r.kI.required]),tipo_de_cambio:new r.NI(1),volumen_comprobante:new r.NI(0),volumen_comprobante_litros:new r.NI(0),temperatura_comprobante:new r.NI(0),temperatura_comprobante_celsius:new r.NI(0),ppv_comprobante:new r.NI(0),ppv_comprobante_pesos:new r.NI(0),precio_total_comprobante:new r.NI(0),precio_total_pesos_comprobante:new r.NI(0),sello1:new r.NI(""),sello2:new r.NI(""),sello3:new r.NI(""),sello4:new r.NI(""),numero_vehiculo:new r.NI("",[r.kI.required]),placa_vehiculo:new r.NI(""),cantidad_ejes_vehiculo:new r.NI(""),nice:new r.NI(""),numero_tanque_vehiculo:new r.NI(""),tarifa_de_almac:new r.NI(""),tarifa_de_transporte:new r.NI("")})}getLabel(e,i){if(null!=e)return"Volumen"===e?this.decimalPipe.transform(i,"1.2"):i}get visibleColumnsTDR(){return this.columnsTDR.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){if(this.TDRDataSource=new l.by,this.unidades_medida_volumen=yield this.getUnidadesMedida("volume"),this.unidades_medida_temperatura=yield this.getUnidadesMedida("temperature"),this.monedas=yield this.getMonedas(),this.cre_permission=yield this.getCrePermission(this.data.reception.cre_permission_provider_id),this.data.document){this.receptionDocument=this.data.document,this.reception_status=this.data.reception.status,this.records=this.data.document.lecturas_tls,this.TDRDataSource=new l.by(this.records),this.TDRDataSource.paginator=this.paginatorTDR,this.TDRDataSource.sort=this.sortTDR,this.data$.pipe((0,R.h)(I=>!!I)).subscribe(I=>{this.records=I,this.TDRDataSource.data=I});let e=+this.receptionDocument.fecha_cfdi.substring(0,4),i=+this.receptionDocument.fecha_cfdi.substring(5,7)-1,a=+this.receptionDocument.fecha_cfdi.substring(8,10),s=+this.receptionDocument.fecha_cfdi.substring(11,13),f=this.receptionDocument.fecha_cfdi.substring(14,16),M=this.receptionDocument.fecha_cfdi.substring(17,19);this.cfdiModalForm.setValue({reception_id:this.receptionDocument.reception_id,cfdi:this.receptionDocument.cfdi,folio_cfdi:this.receptionDocument.folio_cfdi,serie_cfdi:this.receptionDocument.serie_cfdi,tipo_cfdi:this.receptionDocument.tipo_cfdi,fecha_cfdi:new Date(e,i,a),hour_cfdi:s,minute_cfdi:f,second_cfdi:M,ppv_cfdi:this.receptionDocument.ppv_cfdi,volumen_cfdi:this.receptionDocument.volumen_cfdi,iva_cfdi:this.receptionDocument.iva_cfdi,ieps_cfdi:this.receptionDocument.ieps_cfdi,total_cfdi:this.receptionDocument.total_cfdi}),0==+this.reception_status&&this.cfdiModalForm.disable();let y=+this.receptionDocument.fecha_comprobante.substring(0,4),Y=+this.receptionDocument.fecha_comprobante.substring(5,7)-1,Be=+this.receptionDocument.fecha_comprobante.substring(8,10);this.comprobanteModalForm.setValue({numero_comprobante_recepcion:this.receptionDocument.numero_comprobante_recepcion,numero_comprobante_recepcion2:this.receptionDocument.numero_comprobante_recepcion2,fecha_comprobante:new Date(y,Y,Be),id_um_volumen:this.cre_permission.default_volume_unit_of_measure,id_um_temperatura:11,id_moneda:this.cre_permission.default_currency,tipo_de_cambio:this.receptionDocument.tipo_de_cambio,volumen_comprobante:this.receptionDocument.volumen_comprobante,volumen_comprobante_litros:this.receptionDocument.volumen_comprobante_litros,temperatura_comprobante:this.receptionDocument.temperatura_comprobante,temperatura_comprobante_celsius:this.receptionDocument.temperatura_comprobante_celsius,ppv_comprobante:this.receptionDocument.ppv_comprobante,ppv_comprobante_pesos:this.receptionDocument.ppv_comprobante_pesos,precio_total_comprobante:this.receptionDocument.precio_total_comprobante,precio_total_pesos_comprobante:this.receptionDocument.precio_total_pesos_comprobante,sello1:this.receptionDocument.sello1,sello2:this.receptionDocument.sello2,sello3:this.receptionDocument.sello3,sello4:this.receptionDocument.sello4,numero_vehiculo:this.receptionDocument.numero_vehiculo,placa_vehiculo:this.receptionDocument.placa_vehiculo,cantidad_ejes_vehiculo:this.receptionDocument.cantidad_ejes_vehiculo,nice:this.receptionDocument.nice,numero_tanque_vehiculo:this.receptionDocument.numero_tanque_vehiculo,tarifa_de_almac:this.receptionDocument.tarifa_de_almac,tarifa_de_transporte:this.receptionDocument.tarifa_de_transporte}),0==+this.reception_status&&this.comprobanteModalForm.disable()}else this.cfdiModalForm.setValue({reception_id:this.data.reception.reception_id,cfdi:"",folio_cfdi:"",serie_cfdi:"",tipo_cfdi:"Ingreso",fecha_cfdi:new Date,hour_cfdi:"00",minute_cfdi:"00",second_cfdi:"00",ppv_cfdi:0,volumen_cfdi:0,iva_cfdi:0,ieps_cfdi:0,total_cfdi:0})})}ngAfterViewInit(){this.TDRDataSource.paginator=this.paginatorTDR,this.TDRDataSource.sort=this.sortTDR}onFilterChange(e){!this.TDRDataSource||(e=(e=e.trim()).toLowerCase(),this.TDRDataSource.filter=e)}getUnidadesMedida(e){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getUnitsOfMeasure(e).toPromise()})}getMonedas(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getCurrencies().toPromise()})}getCrePermission(e){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getCrePermission(e).toPromise()})}submit(){this.receptionDocument.reception_id=this.data.reception.reception_id,this.receptionDocument.cfdi=this.cfdiModalForm.controls.cfdi.value,this.receptionDocument.folio_cfdi=this.cfdiModalForm.controls.folio_cfdi.value,this.receptionDocument.serie_cfdi=this.cfdiModalForm.controls.serie_cfdi.value,this.receptionDocument.tipo_cfdi=this.cfdiModalForm.controls.tipo_cfdi.value,this.receptionDocument.fecha_cfdi=this.getMysqlDate(new Date(this.cfdiModalForm.controls.fecha_cfdi.value))+" "+this.cfdiModalForm.controls.hour_cfdi.value+":"+this.cfdiModalForm.controls.minute_cfdi.value+":"+this.cfdiModalForm.controls.second_cfdi.value,this.receptionDocument.ppv_cfdi=this.cfdiModalForm.controls.ppv_cfdi.value,this.receptionDocument.volumen_cfdi=this.cfdiModalForm.controls.volumen_cfdi.value,this.receptionDocument.iva_cfdi=this.cfdiModalForm.controls.iva_cfdi.value,this.receptionDocument.ieps_cfdi=this.cfdiModalForm.controls.ieps_cfdi.value,this.receptionDocument.total_cfdi=this.cfdiModalForm.controls.total_cfdi.value,this.receptionDocument.numero_comprobante_recepcion=this.comprobanteModalForm.controls.numero_comprobante_recepcion.value,this.receptionDocument.numero_comprobante_recepcion2=this.comprobanteModalForm.controls.numero_comprobante_recepcion2.value,this.receptionDocument.fecha_comprobante=this.getMysqlDate(new Date(this.comprobanteModalForm.controls.fecha_comprobante.value)),this.receptionDocument.id_um_volumen=this.comprobanteModalForm.controls.id_um_volumen.value,this.receptionDocument.id_um_temperatura=this.comprobanteModalForm.controls.id_um_temperatura.value,this.receptionDocument.id_moneda=this.comprobanteModalForm.controls.id_moneda.value,this.receptionDocument.tipo_de_cambio=this.comprobanteModalForm.controls.tipo_de_cambio.value,this.receptionDocument.volumen_comprobante=this.comprobanteModalForm.controls.volumen_comprobante.value,this.receptionDocument.volumen_comprobante_litros=this.comprobanteModalForm.controls.volumen_comprobante_litros.value,this.receptionDocument.temperatura_comprobante=this.comprobanteModalForm.controls.temperatura_comprobante.value,this.receptionDocument.temperatura_comprobante_celsius=this.comprobanteModalForm.controls.temperatura_comprobante_celsius.value,this.receptionDocument.ppv_comprobante=this.comprobanteModalForm.controls.ppv_comprobante.value,this.receptionDocument.ppv_comprobante_pesos=this.comprobanteModalForm.controls.ppv_comprobante_pesos.value,this.receptionDocument.precio_total_comprobante=this.comprobanteModalForm.controls.precio_total_comprobante.value,this.receptionDocument.precio_total_pesos_comprobante=this.comprobanteModalForm.controls.precio_total_pesos_comprobante.value,this.receptionDocument.sello1=this.comprobanteModalForm.controls.sello1.value,this.receptionDocument.sello2=this.comprobanteModalForm.controls.sello2.value,this.receptionDocument.sello3=this.comprobanteModalForm.controls.sello3.value,this.receptionDocument.sello4=this.comprobanteModalForm.controls.sello4.value,this.receptionDocument.numero_vehiculo=this.comprobanteModalForm.controls.numero_vehiculo.value,this.receptionDocument.placa_vehiculo=this.comprobanteModalForm.controls.placa_vehiculo.value,this.receptionDocument.cantidad_ejes_vehiculo=this.comprobanteModalForm.controls.cantidad_ejes_vehiculo.value,this.receptionDocument.nice=this.comprobanteModalForm.controls.nice.value,this.receptionDocument.numero_tanque_vehiculo=this.comprobanteModalForm.controls.numero_tanque_vehiculo.value,this.receptionDocument.tarifa_de_almac=this.comprobanteModalForm.controls.tarifa_de_almac.value,this.receptionDocument.tarifa_de_transporte=this.comprobanteModalForm.controls.tarifa_de_transporte.value,this.receptionDocument.product_id=this.data.reception.product_id,this.receptionDocument.site_code=this.data.reception.site_code,this.receptionDocument.cre_permission_id=this.cre_permission.permission_id,null===this.receptionDocument.document_id?this.create():this.update()}create(){this._receptionsService.createReceptionDocument(this.receptionDocument).subscribe(e=>{this.receptionDocument.document_id=e.id,this.snackbar.open(e.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close({reception_document:this.receptionDocument})},e=>{this.snackbar.open(e.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}update(){this._receptionsService.updateReceptionDocument(this.receptionDocument).subscribe(e=>{this.snackbar.open(e.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close({action:"update"})},e=>{this.snackbar.open(e.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}getMysqlDate(e){return null!==e?e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2):""}relegarTDR(e){this._tankDeliveryReadingsService.assign({action:"desasociar",document_id:this.receptionDocument.document_id,id_recepcion:this.receptionDocument.reception_id,tank_delivery_reading_id:e.tank_delivery_reading_id,reception_id:this.receptionDocument.reception_id,status:e.status}).subscribe(a=>{this.snackbar.open(a.message,null,{duration:3e3,panelClass:["green-snackbar"]}),this._receptionsService.getReceptionDocument(this.receptionDocument).subscribe(s=>{this.data.document=s,this.ngOnInit()},s=>{console.log(s)})},a=>{this.snackbar.open(a.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}asignarTDR(){this.dialog.open($,{data:{receptionDocument:this.receptionDocument}}).afterClosed().subscribe(()=>{this._receptionsService.getReceptionDocument(this.receptionDocument).subscribe(e=>{this.data.document=e,this.ngOnInit()},e=>{console.log(e)})},e=>{this.snackbar.open(e.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}delete(e){}close(){this.dialogRef.close(this.receptionDocument)}first(){this.tabindex=0}second(){this.tabindex=1}third(){this.tabindex=2}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.WI),t.Y36(h.uw),t.Y36(U.ux),t.Y36(k.J),t.Y36(S.w),t.Y36(B.a),t.Y36(h.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["reception-document-modal"]],viewQuery:function(e,i){if(1&e&&(t.Gf(A.NW,5),t.Gf(Z.YE,5),t.Gf(Pt,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.paginatorTDR=a.first),t.iGM(a=t.CRH())&&(i.sortTDR=a.first),t.iGM(a=t.CRH())&&(i._focusMe=a.first)}},inputs:{columnsTDR:"columnsTDR"},decls:10,vars:5,consts:[[1,"crud"],[1,"header-row"],[3,"fontIcon"],[1,"mat-title"],[1,"filler"],["animationDuration","1000ms",3,"selectedIndex"],["label","CFDi",4,"ngIf"],["label","Comprobante ingreso",4,"ngIf"],["label","Aumentos TLS / Bomba",4,"ngIf"],["label","CFDi"],[2,"padding-left","18px"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","8px",1,"content"],["appearance","outline",2,"width","30%"],["type","text","formControlName","cfdi","required","","matInput",""],["formControlName","tipo_cfdi","required",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","serie_cfdi","required","","matInput",""],["fxLayout","row","fxLayoutGap","8px",1,"content",2,"height","74px"],["type","text","formControlName","folio_cfdi","required","","matInput",""],["matInput","","formControlName","fecha_cfdi",3,"matDatepicker"],["matSuffix","",3,"for"],["fechaCfdi",""],["fxLayout","column","fxLayoutGap","8px",1,"content","timebox"],[1,"labeltimesecondspicker"],["fxLayout","row","fxLayoutGap","8px",1,"content",2,"padding-right","8px"],["appearance","outline",2,"min-width","24% !important"],["formControlName","hour_cfdi","required",""],[1,"time_separator"],["formControlName","minute_cfdi","required",""],["formControlName","second_cfdi","required",""],[2,"margin-top","20px","margin-bottom","20px"],["type","number","formControlName","volumen_cfdi","required","","matInput",""],["type","number","formControlName","ppv_cfdi","required","","matInput",""],["type","number","formControlName","total_cfdi","required","","matInput",""],["type","number","formControlName","iva_cfdi","matInput",""],["type","number","formControlName","ieps_cfdi","matInput",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"content","actions",2,"padding-right","40px","padding-top","40px"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"],[3,"value"],["label","Comprobante ingreso"],[2,"padding-left","10px"],["fxLayout","row","fxLayoutGap","8px",1,"content","four_fields"],["appearance","outline"],["type","text","formControlName","numero_comprobante_recepcion","matInput",""],["type","text","formControlName","numero_comprobante_recepcion2","matInput",""],["matInput","","formControlName","fecha_comprobante",3,"matDatepicker"],["fechaComprobante",""],["formControlName","id_um_volumen"],["fxLayout","row","fxLayoutGap","8px",1,"content","four_fields",2,"height","74px"],["formControlName","id_um_temperatura"],["formControlName","id_moneda"],["type","number","formControlName","tipo_de_cambio","matInput",""],["type","number","formControlName","volumen_comprobante","matInput",""],["type","number","formControlName","volumen_comprobante_litros","matInput",""],["type","number","formControlName","temperatura_comprobante","matInput",""],["type","number","formControlName","temperatura_comprobante_celsius","matInput",""],["type","number","formControlName","ppv_comprobante","matInput",""],["type","number","formControlName","ppv_comprobante_pesos","matInput",""],["type","number","formControlName","precio_total_comprobante","matInput",""],["type","number","formControlName","precio_total_pesos_comprobante","matInput",""],["type","text","formControlName","sello1","matInput",""],["type","text","formControlName","sello2","matInput",""],["type","text","formControlName","sello3","matInput",""],["type","text","formControlName","sello4","matInput",""],["type","text","formControlName","numero_vehiculo","matInput",""],["type","text","formControlName","placa_vehiculo","matInput",""],["type","text","formControlName","cantidad_ejes_vehiculo","matInput",""],["type","text","formControlName","nice","matInput",""],["type","text","formControlName","numero_tanque_vehiculo","matInput",""],["type","text","formControlName","tarifa_de_almac","matInput",""],["type","text","formControlName","tarifa_de_transporte","matInput",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"content","actions",2,"padding-right","40px"],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],["label","Aumentos TLS / Bomba"],[1,"card"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","grow",1,"route-animations-elements"],[1,"jeder"],[1,"header-subtables"],["mat-icon-button","","type","button",3,"click",4,"ngIf"],[1,"card-content"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],["mat-icon-button","","type","button",3,"click"],[1,"add-icon"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["style","text-align: center;","mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"text-align","center"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click",4,"ngIf"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"mat-icon",2),t.TgZ(3,"h2",3),t._uU(4,"Detalle documento de recepci\xf3n"),t.qZA(),t._UZ(5,"span",4),t.qZA(),t.TgZ(6,"mat-tab-group",5),t.YNc(7,It,74,8,"mat-tab",6),t.YNc(8,Yt,127,9,"mat-tab",7),t.YNc(9,Kt,24,8,"mat-tab",8),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Q6J("fontIcon","mdi-text-subject"),t.xp6(4),t.Q6J("selectedIndex",i.tabindex),t.xp6(1),t.Q6J("ngIf",i.cfdiModalForm),t.xp6(1),t.Q6J("ngIf",i.comprobanteModalForm),t.xp6(1),t.Q6J("ngIf",null!==i.receptionDocument.document_id))},directives:[F.Hw,W.SP,p.O5,W.uX,r._Y,r.JL,r.sg,g.xw,g.SQ,v.KE,v.hX,r.Fj,J.Nt,r.JJ,r.u,r.Q7,G.gD,p.sg,D.hl,D.nW,v.R9,D.Mq,wt.d,r.wV,g.Wh,O.lW,E.ey,r.F,g.yH,l.BZ,Z.YE,l.w1,l.fO,l.Dz,l.as,l.nj,A.NW,l.ge,Z.nU,l.ev,T.VK,T.OP,T.p6,l.XQ,l.Gk],styles:[".cdk-overlay-pane[_ngcontent-%COMP%]{max-height:80%!important}.mat-title[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:20px}.content[_ngcontent-%COMP%]{margin:10px;width:100%;height:70px}.content[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-bottom:40px}.mat-dialog-content[_ngcontent-%COMP%]{max-width:700px;max-height:500px;overflow:scroll}.mat-form-field[_ngcontent-%COMP%]{padding:10px;width:20.5%}.toggle[_ngcontent-%COMP%]{padding:10px;min-width:30%}.white-icon[_ngcontent-%COMP%]{color:#fff}.crud[_ngcontent-%COMP%]{margin-top:-40px;padding:10px;background-color:#fff;width:60vw;height:40vw}.clickable[_ngcontent-%COMP%]{cursor:pointer}.header-row[_ngcontent-%COMP%]{margin-top:-10px}.crud-table[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}.mat-table[_ngcontent-%COMP%]{overflow:scroll;width:100%}.labeltimesecondspicker[_ngcontent-%COMP%]{font-size:12px;font-family:Roboto;font-weight:400;color:#8d8d8d;width:70px;margin-bottom:-27px!important;padding-left:20px;margin-top:12px}.four_fields[_ngcontent-%COMP%]{width:100%;font-size:small}.timebox[_ngcontent-%COMP%]{margin-top:-15px;margin-left:-10px;max-width:30%}.time_separator[_ngcontent-%COMP%]{font-size:20px;margin-top:27px}.title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:scroll;padding:30px;height:400px;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{max-width:32.5%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wide-field[_ngcontent-%COMP%]{max-width:98.5%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.card-content[_ngcontent-%COMP%]{padding:0;overflow:scroll}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{padding:0 24px 24px}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--font-body-1);text-transform:uppercase}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font:var(--font-display-1)}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:3px;font-size:32px;height:32px;width:32px}.card-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:170px;max-width:100%;display:flex;flex:1;position:relative}.header-subtables[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;width:98.5%;font-size:larger;font-weight:500}.gain[_ngcontent-%COMP%]{margin-left:8px;font:var(--font-caption)}.gain[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.jeder[_ngcontent-%COMP%]{padding:24px;display:flex;justify-content:flex-start;align-items:flex-start;align-content:flex-start;white-space:nowrap;overflow:hidden}.add-icon[_ngcontent-%COMP%]{border-radius:50%;padding:5px;background:#1976d2;color:#fff}"],data:{animation:[d.X]}}),o})();var w=c(97199),te=c(75972);function ee(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().createReceptionDocument()}),t.TgZ(1,"mat-icon",12),t._uU(2,"add"),t.qZA(),t.qZA()}}function oe(o,n){if(1&o&&(t.TgZ(0,"th",17),t._uU(1),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function ne(o,n){if(1&o&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&o){const e=n.$implicit,i=t.oxw(2).$implicit,a=t.oxw();t.xp6(1),t.Oqu(a.getLabel(i.name,e[i.property]))}}function ie(o,n){if(1&o&&(t.ynx(0,14),t.YNc(1,oe,2,1,"th",15),t.YNc(2,ne,2,1,"td",16),t.BQk()),2&o){const e=t.oxw().$implicit;t.Q6J("matColumnDef",e.property)}}function ae(o,n){if(1&o&&(t.ynx(0),t.YNc(1,ie,3,1,"ng-container",13),t.BQk()),2&o){const e=n.$implicit;t.xp6(1),t.Q6J("ngIf",e.isModelProperty)}}function re(o,n){1&o&&t._UZ(0,"th",19)}function ce(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().viewReceptionDocument(a)}),t.TgZ(1,"span"),t._uU(2,"Ver"),t.qZA(),t.qZA()}}function se(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().updateReceptionDocument(a)}),t.TgZ(1,"span"),t._uU(2,"Editar"),t.qZA(),t.qZA()}}function le(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw().deleteReceptionDocument(a)}),t.TgZ(1,"span"),t._uU(2,"Eliminar"),t.qZA(),t.qZA()}}function me(o,n){if(1&o&&(t.TgZ(0,"td",20),t.TgZ(1,"button",21),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(2,"mat-icon"),t._uU(3,"more_horiz"),t.qZA(),t.qZA(),t.TgZ(4,"mat-menu",22,23),t.YNc(6,ce,3,0,"button",24),t.YNc(7,se,3,0,"button",24),t.YNc(8,le,3,0,"button",24),t.qZA(),t.qZA()),2&o){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(5),t.Q6J("ngIf",0==i.theReception.status),t.xp6(1),t.Q6J("ngIf",2==i.theReception.status),t.xp6(1),t.Q6J("ngIf",2==i.theReception.status)}}function pe(o,n){1&o&&t._UZ(0,"tr",26)}function ue(o,n){1&o&&t._UZ(0,"tr",27)}let de=(()=>{class o{constructor(e,i,a,s,f,M,y){this.dialogRef=e,this.dialog=i,this.confirmationDialog=a,this.snackbar=s,this._receptionsService=f,this._crePermissionsService=M,this.router=y,this.decimalPipe=new p.JJ("en-us"),this.subject$=new H.t(1),this.data$=this.subject$.asObservable(),this.selection=new ot.Ov(!0,[]),this.receptionDocuments=[],this.vmus=[],this.tmus=[],this.currencies=[],this.providers=[],this.recep=new t.vpe,this.columns=[{name:"Id recepcion",property:"reception_id",visible:!0,isModelProperty:!0},{name:"Id documento",property:"document_id",visible:!0,isModelProperty:!0},{name:"CFDi",property:"cfdi",visible:!0,isModelProperty:!0},{name:"Fecha CFDi",property:"fecha_cfdi",visible:!0,isModelProperty:!0},{name:"Serie",property:"serie_cfdi",visible:!0,isModelProperty:!0},{name:"Folio",property:"folio_cfdi",visible:!0,isModelProperty:!0},{name:"Total CFDi",property:"total_cfdi",visible:!0,isModelProperty:!0},{name:"Volumen CFDi",property:"volumen_cfdi",visible:!0,isModelProperty:!0},{name:"Placa veh\xedculo",property:"placa_vehiculo",visible:!0,isModelProperty:!0},{name:"Volumen TLS/Bomba",property:"lecturas_tls",visible:!0,isModelProperty:!0},{name:"Proveedor",property:"cre_permission_id",visible:!0,isModelProperty:!0},{name:"Estatus",property:"status",visible:!1,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10,this.dataSource=new l.by,this.data=history.state.data,this.data||this.router.navigateByUrl("/receptions")}getLabel(e,i){if(null!=e){if("Estatus"!=e){if("Proveedor"==e){let a=this.providers.find(s=>+s.permission_id==+i);return a?a.provider_name:i}return"Volumen TLS/Bomba"==e?this.decimalPipe.transform(this.getTlsVolume(i),"1.2"):"Volumen CFDi"==e||"Total CFDi"==e?this.decimalPipe.transform(i,"1.2"):i}switch(+i){case 2:return"Activa";case 1:return"Archivada";default:return"No disponible"}}}get visibleColumns(){return this.columns.filter(e=>e.visible).map(e=>e.property)}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){this.providers=yield this.getProviders(),this.data?(this.theReception=new _.T(this.data),this.receptionDocuments=this.theReception.ReceptionDocuments,this.dataSource=new l.by(this.receptionDocuments),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.data$.pipe((0,R.h)(e=>!!e)).subscribe(e=>{this.receptionDocuments=e,this.dataSource.data=e})):this.router.navigateByUrl("/receptions")})}getProviders(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAll().toPromise()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createReceptionDocument(){this.dialog.open(Q,{data:{reception:this.theReception}}).afterClosed().subscribe(e=>{this._receptionsService.getReception(this.theReception.reception_id).subscribe(i=>{this.theReception=new _.T(i),this.receptionDocuments=this.theReception.ReceptionDocuments,this.dataSource=new l.by(this.receptionDocuments),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.data$.pipe((0,R.h)(a=>!!a)).subscribe(a=>{this.receptionDocuments=a,this.dataSource.data=a}),this.recep.emit(this.theReception)},i=>{console.log(i)})})}updateReceptionDocument(e){this.dialog.open(Q,{data:{reception:this.theReception,document:e}}).afterClosed().subscribe(i=>{this._receptionsService.getReception(this.theReception.reception_id).subscribe(a=>{this.theReception=new _.T(a),this.receptionDocuments=this.theReception.ReceptionDocuments,this.dataSource=new l.by(this.receptionDocuments),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.data$.pipe((0,R.h)(s=>!!s)).subscribe(s=>{this.receptionDocuments=s,this.dataSource.data=s}),this.recep.emit(this.theReception)},a=>{console.log(a)})})}viewReceptionDocument(e){this.dialog.open(Q,{data:{reception:this.theReception,document:e}}).afterClosed().subscribe(i=>{this._receptionsService.getReception(this.theReception.reception_id).subscribe(a=>{this.theReception=new _.T(a),this.receptionDocuments=this.theReception.ReceptionDocuments,this.dataSource=new l.by(this.receptionDocuments),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.data$.pipe((0,R.h)(s=>!!s)).subscribe(s=>{this.receptionDocuments=s,this.dataSource.data=s}),this.recep.emit(this.theReception)},a=>{console.log(a)})})}deleteReceptionDocument(e){this.confirmationDialog.open(b.z,{data:{title:"Confirmaci\xf3n",message:"\xbfDesea eliminar del sistema el registro?"}}).afterClosed().subscribe(i=>{i&&this._receptionsService.deleteReceptionDocument(e).subscribe(a=>{this._receptionsService.getReception(this.theReception.reception_id).subscribe(s=>{this.theReception=new _.T(s),this.receptionDocuments=this.theReception.ReceptionDocuments,this.dataSource=new l.by(this.receptionDocuments),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.data$.pipe((0,R.h)(f=>!!f)).subscribe(f=>{this.receptionDocuments=f,this.dataSource.data=f}),this.recep.emit(this.theReception)},s=>{console.log(s)}),this.snackbar.open(a.message,null,{duration:5e3,panelClass:["green-snackbar"]})},a=>{this.snackbar.open(a.message,null,{duration:5e3,panelClass:["red-snackbar"]})})})}getTlsVolume(e){if(0==e.length)return 0;{let i=0;return e.forEach(function(a){i+=a.volume}),i}}onFilterChange(e){!this.dataSource||(e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e)}reload(){this.isLoading=!0,this.ngOnInit(),this.isLoading=!1}close(){this.dialogRef.close(this.theReception)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.so),t.Y36(h.uw),t.Y36(h.uw),t.Y36(U.ux),t.Y36(k.J),t.Y36(S.w),t.Y36(C.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["reception-document-widget"]],viewQuery:function(e,i){if(1&e&&(t.Gf(A.NW,7),t.Gf(Z.YE,7)),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first),t.iGM(a=t.CRH())&&(i.sort=a.first)}},inputs:{theReception:"theReception",columns:"columns"},outputs:{recep:"recep"},decls:16,vars:7,consts:[["mat-icon-button","","type","button",3,"click",4,"ngIf"],[1,"card-content"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"isLoading"],["mat-icon-button","","type","button",3,"click"],[1,"add-icon"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","","style","padding-left: 10px;",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",2,"padding-left","10px"],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"fury-card"),t.TgZ(1,"fury-card-header"),t.TgZ(2,"fury-card-header-heading"),t._uU(3," Documentos "),t.qZA(),t.TgZ(4,"fury-card-header-actions"),t.YNc(5,ee,3,0,"button",0),t.qZA(),t.qZA(),t.TgZ(6,"fury-card-content",1),t.TgZ(7,"table",2),t.YNc(8,ae,2,1,"ng-container",3),t.ynx(9,4),t.YNc(10,re,1,0,"th",5),t.YNc(11,me,9,4,"td",6),t.BQk(),t.YNc(12,pe,1,0,"tr",7),t.YNc(13,ue,1,0,"tr",8),t.qZA(),t._UZ(14,"mat-paginator",9),t.qZA(),t._UZ(15,"fury-loading-overlay",10),t.qZA()),2&e&&(t.xp6(5),t.Q6J("ngIf",2==i.theReception.status),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(1),t.Q6J("ngForOf",i.columns),t.xp6(4),t.Q6J("matHeaderRowDef",i.visibleColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.visibleColumns),t.xp6(1),t.Q6J("pageSize",i.pageSize),t.xp6(1),t.Q6J("isLoading",i.isLoading))},directives:[w.i0,w.$X,w.eP,w.OA,p.O5,w.z8,l.BZ,Z.YE,p.sg,l.w1,l.fO,l.Dz,l.as,l.nj,A.NW,te.d,O.lW,F.Hw,l.ge,Z.nU,l.ev,T.p6,T.VK,T.OP,l.XQ,l.Gk],styles:[".fury-card[_ngcontent-%COMP%]{width:98.5%}.fury-card[_ngcontent-%COMP%]   .fury-card-header-heading[_ngcontent-%COMP%]{font-size:large;font-weight:500}.gain[_ngcontent-%COMP%]{margin-left:8px;font:var(--font-caption)}.gain[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;line-height:18px}.card-content[_ngcontent-%COMP%]{padding:0;overflow:scroll}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{padding:0 24px 24px}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font:var(--font-body-1);text-transform:uppercase}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font:var(--font-display-1)}.card-content[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .indicator[_ngcontent-%COMP%]{margin-left:3px;font-size:32px;height:32px;width:32px}.card-content[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:170px;max-width:100%;display:flex;flex:1;position:relative}.add-icon[_ngcontent-%COMP%]{border-radius:50%;padding:5px;background:#1976d2;color:#fff}"],data:{animation:[N.M,d.X,m.K]}}),o})();function _e(o,n){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.site_code),t.xp6(1),t.Oqu(e.station_name)}}function fe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",18),t.TgZ(1,"mat-label"),t._uU(2,"Estaci\xf3n donde se deposit\xf3 el combustible:"),t.qZA(),t.TgZ(3,"mat-select",19),t.NdJ("selectionChange",function(a){return t.CHM(e),t.oxw().onChangeStation(a.value)}),t.YNc(4,_e,2,2,"mat-option",9),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.stations)}}function he(o,n){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ge(o,n){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.permission_id),t.xp6(1),t.Oqu(e.provider_name+" - "+e.permission)}}function be(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",18),t.TgZ(1,"mat-label"),t._uU(2,"Proveedor:"),t.qZA(),t.TgZ(3,"mat-select",21),t.NdJ("selectionChange",function(a){return t.CHM(e),t.oxw().onChangeProvider(a.value)}),t.YNc(4,ge,2,2,"mat-option",9),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.cpsc)}}function ve(o,n){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.permission_id),t.xp6(1),t.Oqu(e.provider_name+" - "+e.permission)}}function Ze(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",18),t.TgZ(1,"mat-label"),t._uU(2,"Almac\xe9n:"),t.qZA(),t.TgZ(3,"mat-select",22),t.NdJ("selectionChange",function(a){return t.CHM(e),t.oxw().onChangeStorage(a.value)}),t.YNc(4,ve,2,2,"mat-option",9),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.cpss)}}function Te(o,n){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.permission_id),t.xp6(1),t.Oqu(e.provider_name+" - "+e.permission)}}function xe(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mat-form-field",18),t.TgZ(1,"mat-label"),t._uU(2,"Transporte:"),t.qZA(),t.TgZ(3,"mat-select",23),t.NdJ("selectionChange",function(a){return t.CHM(e),t.oxw().onChangeTransport(a.value)}),t.YNc(4,Te,2,2,"mat-option",9),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.cpst)}}function Ce(o,n){1&o&&(t.TgZ(0,"mat-form-field",25),t.TgZ(1,"mat-label"),t._uU(2,"Aclaraci\xf3n:"),t.qZA(),t._UZ(3,"textarea",26),t.TgZ(4,"mat-hint"),t._uU(5,"Utilice este espacio si desea agregar alguna aclaraci\xf3n para ser enviada al SAT respecto a esta recepci\xf3n."),t.qZA(),t.qZA())}function De(o,n){if(1&o&&(t.TgZ(0,"div",5),t.YNc(1,Ce,6,0,"mat-form-field",24),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.headerFormGroup)}}function Me(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().tableRecepciones()}),t._uU(2,"RECEPCIONES"),t.qZA(),t.TgZ(3,"button",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().cancel()}),t._uU(4,"CANCELAR"),t.qZA(),t.TgZ(5,"button",30),t.NdJ("click",function(){return t.CHM(e),t.oxw().submit()}),t._uU(6,"GUARDAR"),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Q6J("disabled",e.headerFormGroup.invalid)}}function ye(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",31),t.TgZ(1,"div",32),t.TgZ(2,"reception-document-widget",33),t.NdJ("recep",function(a){return t.CHM(e),t.oxw().onUpdateReception(a)}),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("theReception",e.theReception)}}function Ae(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"button",34),t.NdJ("click",function(){return t.CHM(e),t.oxw().toFile()}),t._uU(2,"ARCHIVAR"),t.qZA(),t.TgZ(3,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().tableRecepciones()}),t._uU(4,"RECEPCIONES"),t.qZA(),t.qZA()}}function Re(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",27),t.TgZ(1,"button",28),t.NdJ("click",function(){return t.CHM(e),t.oxw().tableRecepciones()}),t._uU(2,"RECEPCIONES"),t.qZA(),t.qZA()}}const qe=function(){return["Tables/receptions/data"]},we=[{path:"",component:(()=>{class o{constructor(e,i,a,s,f,M,y,Y){this.router=e,this.dialog=i,this.confirmationDialog=a,this.snackbar=s,this._receptionsService=f,this._productsService=M,this._stationsService=y,this._crePermissionsService=Y,this.cpsc=[],this.cpss=[],this.cpst=[],this.stations=[],this.products=[],this.filter={fleets:"",areas:"",models:"",means:"",products:"",stations:"",fleets_names:"",products_names:"",areas_names:"",models_names:"",means_names:"",stations_names:"",from_date:"",to_date:""},this.theReception=new _.T,this.headerFormGroup=new r.cw({reception_id:new r.NI(0),site_code:new r.NI("",[r.kI.required]),product_id:new r.NI("",[r.kI.required]),reception_date:new r.NI(new Date,[r.kI.required]),cre_permission_provider_id:new r.NI("",[r.kI.required]),cre_permission_storage_id:new r.NI("",[r.kI.required]),cre_permission_transport_id:new r.NI("",[r.kI.required]),timestamp:new r.NI,status:new r.NI(""),aclaracion:new r.NI("")}),this.theReception=new _.T(history.state.data)}ngOnInit(){return(0,u.mG)(this,void 0,void 0,function*(){if(console.log(this.theReception.status),this.theReception)if(this.cpsc=yield this.getCrePermissionsComertialization(),this.cpss=yield this.getCrePermissionsStorage(),this.cpst=yield this.getCrePermissionsTransporter(),this.stations=yield this.getStations(),this.products=yield this.getProducts(),0!=this.theReception.reception_id){let e=+this.theReception.reception_date.substring(0,4),i=+this.theReception.reception_date.substring(5,7)-1,a=+this.theReception.reception_date.substring(8,10);this.headerFormGroup.controls.reception_id.setValue(this.theReception.reception_id),this.headerFormGroup.controls.site_code.setValue(this.theReception.site_code),this.headerFormGroup.controls.product_id.setValue(""+this.theReception.product_id),this.headerFormGroup.controls.reception_date.setValue(new Date(e,i,a)),this.headerFormGroup.controls.cre_permission_provider_id.setValue(this.theReception.cre_permission_provider_id),this.headerFormGroup.controls.cre_permission_storage_id.setValue(this.theReception.cre_permission_storage_id),this.headerFormGroup.controls.cre_permission_transport_id.setValue(this.theReception.cre_permission_transport_id),this.headerFormGroup.controls.timestamp.setValue(this.theReception.timestamp),this.headerFormGroup.controls.status.setValue(this.theReception.status),this.headerFormGroup.controls.aclaracion.setValue(this.theReception.aclaracion),this.headerFormGroup.controls.site_code.disable(),this.headerFormGroup.controls.product_id.disable(),this.headerFormGroup.controls.reception_date.disable(),this.headerFormGroup.controls.cre_permission_provider_id.disable(),this.headerFormGroup.controls.cre_permission_storage_id.disable(),this.headerFormGroup.controls.cre_permission_transport_id.disable(),2!=this.theReception.status&&this.headerFormGroup.controls.aclaracion.disable()}else this.theReception.reception_id=0,this.theReception.status=2;else this.router.navigateByUrl("/receptions")})}getFullReception(e){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._receptionsService.getReception(e).toPromise()})}getCrePermissionsStorage(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAllByType(1).toPromise()})}getCrePermissionsDistribution(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAllByType(2).toPromise()})}getCrePermissionsComertialization(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAllByType(3).toPromise()})}getCrePermissionsTransporter(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAllByType(4).toPromise()})}getStations(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._stationsService.getAll(1).toPromise()})}getProducts(){return(0,u.mG)(this,void 0,void 0,function*(){return yield this._productsService.getAll(this.filter).toPromise()})}createReception(){this._receptionsService.create(this.theReception).subscribe(e=>{this.theReception=new _.T(this.getFullReception(e.id)),this.snackbar.open(e.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.router.navigateByUrl("/tables/receptions")},e=>{this.snackbar.open(e.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}integerOnly(e){return/^[1-9][0-9]*?$/.test(e.key)}numericOnly(e){let i=e.target.value+e.key;return!!new RegExp(/^([1-9][0-9]{0,7}||[0]||[0][.][0-9]{0,2}||[1-9][0-9]{0,7}[.][0-9]{0,2})$/).test(i)}onChangeProvider(e){}onChangeStorage(e){}onChangeTransport(e){}onChangeStation(e){return(0,u.mG)(this,void 0,void 0,function*(){this.filter.stations=e,this.products=[],this.products=yield this.getProducts()})}loadModalWidget(e){}submit(){this.theReception.site_code=this.headerFormGroup.controls.site_code.value,this.theReception.product_id=this.headerFormGroup.controls.product_id.value,this.theReception.reception_date=this.getMysqlDate(this.headerFormGroup.controls.reception_date.value),this.theReception.cre_permission_provider_id=this.headerFormGroup.controls.cre_permission_provider_id.value,this.theReception.cre_permission_storage_id=this.headerFormGroup.controls.cre_permission_storage_id.value,this.theReception.cre_permission_transport_id=this.headerFormGroup.controls.cre_permission_transport_id.value,this.theReception.aclaracion=this.headerFormGroup.controls.aclaracion.value,this.theReception.reception_id>0?this.updateReception():this.createReception()}cancel(){this.router.navigateByUrl("/tables/receptions")}toFile(){var e;null===this.headerFormGroup.controls.aclaracion.value||this.headerFormGroup.controls.aclaracion.value.length<=0?(e="\xbfDesea archivar la recepci\xf3n sin ninguna aclaraci\xf3n?",this.theReception.aclaracion=""):(e="\xbfDesea archivar la recepci\xf3n con la aclaraci\xf3n especificada?",this.theReception.aclaracion=this.headerFormGroup.controls.aclaracion.value),this.confirmationDialog.open(b.z,{data:{title:"Confirmaci\xf3n",message:e}}).afterClosed().subscribe(i=>{i&&this._receptionsService.file(this.theReception).subscribe(a=>{this.snackbar.open(a.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.router.navigateByUrl("/tables/receptions")},a=>{this.snackbar.open(a.message,null,{duration:5e3,panelClass:["red-snackbar"]})})})}updateReception(){}tableRecepciones(){this.router.navigateByUrl("/tables/receptions")}onUpdateReception(e){var i=new _.T(e);this.theReception=i,this.ngOnInit()}getMysqlDate(e){return null!==e?e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2):""}alldocswithtls(){if(this.theReception.ReceptionDocuments.length>0){for(const e of this.theReception.ReceptionDocuments)if(e.lecturas_tls.length<=0)return!1;return!0}return!1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.F0),t.Y36(h.uw),t.Y36(h.uw),t.Y36(U.ux),t.Y36(k.J),t.Y36(V.s),t.Y36(X.w),t.Y36(S.w))},o.\u0275cmp=t.Xpm({type:o,selectors:[["fury-form-wizard"]],decls:32,vars:17,consts:[["mode","card"],["current","Detalle recepci\xf3n",3,"crumbs"],[1,"card",2,"overflow","scroll","padding","30px"],[1,"heading"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","8px",1,"content"],["class","field","fxFlex","auto","appearance","outline",4,"ngIf"],["appearance","outline","fxFlex","auto",1,"field"],["formControlName","product_id"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","reception_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["color","primary"],["receptionDate",""],["class","content","fxLayout","row","fxLayoutGap","8px",4,"ngIf"],["class","actions","fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",4,"ngIf"],["class","content","fxLayout","column","fxLayoutGap","8px",4,"ngIf"],["fxFlex","auto","appearance","outline",1,"field"],["formControlName","site_code",3,"selectionChange"],[3,"value"],["formControlName","cre_permission_provider_id",3,"selectionChange"],["formControlName","cre_permission_storage_id",3,"selectionChange"],["formControlName","cre_permission_transport_id",3,"selectionChange"],["class","wide-field","fxFlex","auto","appearance","outline",4,"ngIf"],["fxFlex","auto","appearance","outline",1,"wide-field"],["matInput","","formControlName","aclaracion"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","","color","primary","mat-button","","type","button",3,"click"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxFlex","grow",1,"route-animations-elements"],[1,"fullheight",3,"theReception","recep"],["color","primary","mat-raised-button","","mat-button","","type","button",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"fury-page-layout",0),t.TgZ(1,"fury-page-layout-header"),t._UZ(2,"fury-breadcrumbs",1),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"div",3),t._uU(5,"Detalle de recepci\xf3n de combustible:"),t.qZA(),t.TgZ(6,"form",4),t.TgZ(7,"div",5),t.YNc(8,fe,5,1,"mat-form-field",6),t.TgZ(9,"mat-form-field",7),t.TgZ(10,"mat-label"),t._uU(11,"Producto:"),t.qZA(),t.TgZ(12,"mat-select",8),t.YNc(13,he,2,2,"mat-option",9),t.qZA(),t.qZA(),t.TgZ(14,"mat-form-field",7),t.TgZ(15,"mat-label"),t._uU(16,"Fecha de la recepci\xf3n:"),t.qZA(),t._UZ(17,"input",10),t.TgZ(18,"mat-datepicker-toggle",11),t.TgZ(19,"mat-icon",12),t._uU(20,"date_range"),t.qZA(),t.qZA(),t._UZ(21,"mat-datepicker",13,14),t.qZA(),t.qZA(),t.TgZ(23,"div",5),t.YNc(24,be,5,1,"mat-form-field",6),t.YNc(25,Ze,5,1,"mat-form-field",6),t.YNc(26,xe,5,1,"mat-form-field",6),t.qZA(),t.YNc(27,De,2,1,"div",15),t.YNc(28,Me,7,1,"div",16),t.YNc(29,ye,3,1,"div",17),t.YNc(30,Ae,5,0,"div",16),t.YNc(31,Re,3,0,"div",16),t.qZA(),t.qZA(),t.qZA()),2&e){const a=t.MAs(22);t.xp6(2),t.Q6J("@fadeInRight",void 0)("crumbs",t.DdM(16,qe)),t.xp6(1),t.Q6J("@fadeInUp",void 0),t.xp6(3),t.Q6J("formGroup",i.headerFormGroup),t.xp6(2),t.Q6J("ngIf",i.headerFormGroup),t.xp6(5),t.Q6J("ngForOf",i.products),t.xp6(4),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a),t.xp6(6),t.Q6J("ngIf",i.headerFormGroup),t.xp6(1),t.Q6J("ngIf",i.headerFormGroup),t.xp6(1),t.Q6J("ngIf",i.headerFormGroup),t.xp6(1),t.Q6J("ngIf",0!=+i.theReception.reception_id&&2==+i.theReception.status&&i.alldocswithtls()||2!=+i.theReception.status),t.xp6(1),t.Q6J("ngIf",0==i.theReception.reception_id),t.xp6(1),t.Q6J("ngIf",0!=i.theReception.reception_id),t.xp6(1),t.Q6J("ngIf",0!=i.theReception.reception_id&&2==i.theReception.status&&i.alldocswithtls()),t.xp6(1),t.Q6J("ngIf",0!=i.theReception.reception_id&&2!=i.theReception.status&&i.alldocswithtls())}},directives:[K.N,tt.U,et.n,r._Y,r.JL,r.sg,g.xw,g.SQ,p.O5,v.KE,g.yH,v.hX,G.gD,r.JJ,r.u,p.sg,J.Nt,r.Fj,D.hl,r.Q7,D.nW,v.R9,F.Hw,D.Q0,D.Mq,E.ey,v.bx,g.Wh,O.lW,de],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{max-width:32.5%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .wide-field[_ngcontent-%COMP%]{max-width:98.5%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}"],data:{animation:[d.X,N.M,m.K]}}),o})()}];let Pe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[C.Bz.forChild(we)],C.Bz]}),o})();var L=c(72467),q=c(70024),Ne=c(74519),Ue=c(59159),Fe=c(53185),z=c(61620);let Oe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,r.u5,r.UX,x.q,z.o9,L.Z,q.EC,q.Yy,q.K]]}),o})();const Ie=[{path:"",component:$}];let ke=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[C.Bz.forChild(Ie)],C.Bz]}),o})(),Se=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,r.u5,z.o9,L.Z,ke,x.q]]}),o})(),Je=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,x.q,Oe,Se,Ue.V,Ne.O,Fe.m9]]}),o})();var Qe=c(10156),Le=c(22733),Ye=c(28548),Ge=c(81491),Ee=c(69230);let He=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[{provide:h.WI,useValue:{}},{provide:h.so,useValue:{}}],imports:[[p.ez,h.Is,r.u5,r.UX,x.q,Pe,L.Z,q.EC,q.Yy,q.K,Je,Le.Z,Ye.M,Ge.U,Ee.T,Qe.U]]}),o})()},9360:(j,P,c)=>{c.d(P,{s:()=>u});var p=c(40520),r=c(98545),x=c(5e3),C=c(33344);let u=(()=>{class b{constructor(m,d){this.http=m,this.tokenStorage=d}getHeaders(){var m=new p.WM,d=this.tokenStorage.getToken();return m.set("token",d||"{}")}getAll(m){var d=this.getHeaders();if(null!=m){const t=(new p.LE).appendAll(m);var _=this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS,{params:t,headers:d})}else _=this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS,{headers:d});return _}getProduct(m){var d=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS+"/"+m,{headers:d})}createProduct(m){var d=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS,m,{headers:d})}updateProduct(m){var d=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS+"/"+m.id,m,{headers:d})}}return b.\u0275fac=function(m){return new(m||b)(x.LFG(p.eN),x.LFG(C.i))},b.\u0275prov=x.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()}}]);