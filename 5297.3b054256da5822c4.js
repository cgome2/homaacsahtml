"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[5297],{85297:(Xr,pt,y)=>{y.r(pt),y.d(pt,{CalendarAppModule:()=>Ur,momentAdapterFactory:()=>rn});var g=y(69808),U=y(93075),n=y(5e3),ln=function(){function t(){}return t.prototype.getAllStyles=function(a){return window.getComputedStyle(a)},t.prototype.getStyle=function(a,e){return this.getAllStyles(a)[e]},t.prototype.isStaticPositioned=function(a){return"static"===(this.getStyle(a,"position")||"static")},t.prototype.offsetParent=function(a){for(var e=a.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(a,e){void 0===e&&(e=!0);var i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(a,"position"))i={top:(i=a.getBoundingClientRect()).top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var o=this.offsetParent(a);i=this.offset(a,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},t.prototype.offset=function(a,e){void 0===e&&(e=!0);var i=a.getBoundingClientRect(),r_top=window.pageYOffset-document.documentElement.clientTop,r_left=window.pageXOffset-document.documentElement.clientLeft,o={height:i.height||a.offsetHeight,width:i.width||a.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(a,e,i,r){var o=i.split("-"),l=o[0],s=void 0===l?"top":l,c=o[1],d=void 0===c?"center":c,u=r?this.offset(a,!1):this.position(a,!1),h=this.getAllStyles(e),C=parseFloat(h.marginTop),p=parseFloat(h.marginBottom),w=parseFloat(h.marginLeft),k=parseFloat(h.marginRight),D=0,T=0;switch(s){case"top":D=u.top-(e.offsetHeight+C+p);break;case"bottom":D=u.top+u.height;break;case"left":T=u.left-(e.offsetWidth+w+k);break;case"right":T=u.left+u.width}switch(d){case"top":D=u.top;break;case"bottom":D=u.top+u.height-e.offsetHeight;break;case"left":T=u.left;break;case"right":T=u.left+u.width-e.offsetWidth;break;case"center":"top"===s||"bottom"===s?T=u.left+u.width/2-e.offsetWidth/2:D=u.top+u.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(T)+"px, "+Math.round(D)+"px)";var b=e.getBoundingClientRect(),_=document.documentElement,x=window.innerHeight||_.clientHeight,S=window.innerWidth||_.clientWidth;return b.left>=0&&b.top>=0&&b.right<=S&&b.bottom<=x},t}(),sn=/\s+/,mt=new ln,L=y(8929),cn=y(21086),un=y(98723),le=y(32916),pn=y(591),mn=y(61715),Q=y(7625),Ae=y(87545),ht=y(1059),z=y(24850),F=function(){return F=Object.assign||function(t){for(var a,e=1,i=arguments.length;e<i;e++)for(var r in a=arguments[e])Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);return t},F.apply(this,arguments)},vt=function(){for(var t=0,a=0,e=arguments.length;a<e;a++)t+=arguments[a].length;var i=Array(t),r=0;for(a=0;a<e;a++)for(var o=arguments[a],l=0,s=o.length;l<s;l++,r++)i[r]=o[l];return i},se=(()=>{return(t=se||(se={}))[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",se;var t})(),vn=[se.SUNDAY,se.SATURDAY],X=86400;function ft(t,a){var e=a.startDate,r=a.excluded,o=a.precision;if(r.length<1)return 0;for(var s=t.getDay,c=t.addDays,d=(0,t.addSeconds)(e,a.seconds-1),u=s(e),h=s(d),C=0,p=e,w=function(){var k=s(p);r.some(function(D){return D===k})&&(C+=function fn(t,a){var i=a.day,o=a.dayEnd,l=a.startDate,s=a.endDate,c=t.differenceInSeconds,u=t.startOfDay;if("minutes"===a.precision){if(i===a.dayStart)return c((0,t.endOfDay)(l),l)+1;if(i===o)return c(s,u(s))+1}return X}(t,{dayStart:u,dayEnd:h,day:k,precision:o,startDate:e,endDate:d})),p=c(p,1)};p<d;)w();return C}function de(t,a){var i=a.periodStart,r=a.periodEnd;return a.events.filter(function(o){return function yn(t,a){var e=a.event,i=a.periodStart,r=a.periodEnd,o=t.isSameSecond,l=e.start,s=e.end||e.start;return!!(l>i&&l<r||s>i&&s<r||l<i&&s>r||o(l,i)||o(l,r)||o(s,i)||o(s,r))}(t,{event:o,periodStart:i,periodEnd:r})})}function gt(t,a){var e=a.date,i=a.weekendDays,r=void 0===i?vn:i,l=t.isSameDay,s=t.getDay,c=(0,t.startOfDay)(new Date),d=s(e);return{date:e,day:d,isPast:e<c,isToday:l(e,c),isFuture:e>c,isWeekend:r.indexOf(d)>-1}}function ze(t,a){for(var r=a.excluded,o=void 0===r?[]:r,l=a.weekendDays,s=a.viewStart,c=void 0===s?t.startOfWeek(a.viewDate,{weekStartsOn:a.weekStartsOn}):s,d=a.viewEnd,u=void 0===d?t.addDays(c,7):d,h=t.addDays,C=t.getDay,p=[],w=c;w<u;)o.some(function(k){return C(w)===k})||p.push(gt(t,{date:w,weekendDays:l})),w=h(w,1);return p}function Dn(t,a){var e=a.events,i=void 0===e?[]:e,r=a.excluded,o=void 0===r?[]:r,l=a.precision,s=void 0===l?"days":l,c=a.absolutePositionedEvents,d=void 0!==c&&c,u=a.viewStart,h=a.viewEnd;u=t.startOfDay(u),h=t.endOfDay(h);var C=t.differenceInSeconds,p=t.differenceInDays,w=function Cn(t,a){for(var i=a.date2,r=a.excluded,o=a.date1,l=0;o<i;)-1===r.indexOf(t.getDay(o))&&l++,o=t.addDays(o,1);return l}(t,{date1:u,date2:h,excluded:o}),k=p(h,u)+1,D=i.filter(function(_){return _.allDay}).map(function(_){var x=function wn(t,a){var e=a.event,i=a.startOfWeek,r=a.excluded,o=a.precision,l=t.differenceInDays,s=t.startOfDay,c=t.differenceInSeconds;if(e.start<i)return 0;var d=0;switch(o){case"days":d=l(s(e.start),i)*X;break;case"minutes":d=c(e.start,i)}return d-=ft(t,{startDate:i,seconds:d,excluded:r,precision:o}),Math.abs(d/X)}(t,{event:_,startOfWeek:u,excluded:o,precision:s}),S=function gn(t,a){var e=a.event,i=a.offset,o=a.excluded,l=a.precision,s=a.totalDaysInView,d=t.differenceInSeconds,u=t.addDays,h=t.endOfDay,C=t.differenceInDays,p=X,w=(0,t.max)([e.start,a.startOfWeekDate]);e.end&&(p="minutes"===l?d(e.end,w):C(u(h(e.end),1),w)*X);var k=i*X,T=s*X;return k+p>T&&(p=T-k),(p-=ft(t,{startDate:w,seconds:p,excluded:o,precision:l}))/X}(t,{event:_,offset:x,startOfWeekDate:u,excluded:o,precision:s,totalDaysInView:k});return{event:_,offset:x,span:S}}).filter(function(_){return _.offset<w}).filter(function(_){return _.span>0}).map(function(_){return{event:_.event,offset:_.offset,span:_.span,startsBeforeWeek:_.event.start<u,endsAfterWeek:(_.event.end||_.event.start)>h}}).sort(function(_,x){var S=C(_.event.start,x.event.start);return 0===S?C(x.event.end||x.event.start,_.event.end||_.event.start):S}),T=[],b=[];return D.forEach(function(_,x){if(-1===b.indexOf(_)){b.push(_);var S=_.span+_.offset,H=D.slice(x+1).filter(function(E){if(E.offset>=S&&S+E.span<=k&&-1===b.indexOf(E)){var m=E.offset-S;return d||(E.offset=m),S+=E.span+m,b.push(E),!0}}),W=vt([_],H),M=W.filter(function(E){return E.event.id}).map(function(E){return E.event.id}).join("-");T.push(F({row:W},M?{id:M}:{}))}}),T}function _n(t,a){var e=a.events,i=a.viewDate,r=a.hourSegments,o=a.hourDuration,l=a.dayStart,s=a.dayEnd,c=a.weekStartsOn,d=a.excluded,u=a.weekendDays,h=a.segmentHeight,C=a.viewStart,p=a.viewEnd,w=a.minimumEventHeight,k=function xn(t,a){var e=a.viewDate,i=a.hourSegments,r=a.hourDuration,o=a.dayStart,l=a.dayEnd,s=t.setMinutes,c=t.setHours,d=t.startOfDay,u=t.startOfMinute,h=t.endOfDay,C=t.addMinutes,w=t.addDays,k=[],D=s(c(d(e),ye(o.hour)),Ce(o.minute)),T=s(c(u(h(e)),ye(l.hour)),Ce(l.minute)),b=(r||60)/i,_=d(e),x=h(e),S=function(v){return v};t.getTimezoneOffset(_)!==t.getTimezoneOffset(x)&&(_=w(_,1),D=w(D,1),T=w(T,1),S=function(v){return w(v,-1)});for(var H=r?1440/r:60,W=0;W<H;W++){for(var M=[],E=0;E<i;E++){var m=C(C(D,W*(r||60)),E*b);m>=D&&m<T&&M.push({date:S(m),displayDate:m,isStart:0===E})}M.length>0&&k.push({segments:M})}return k}(t,{viewDate:i,hourSegments:r,hourDuration:o,dayStart:l,dayEnd:s}),D=ze(t,{viewDate:i,weekStartsOn:c,excluded:d,weekendDays:u,viewStart:C,viewEnd:p}),T=t.setHours,b=t.setMinutes,_=t.getHours,x=t.getMinutes;return D.map(function(S){var H=function bn(t,a){var e=a.events,i=a.viewDate,r=a.hourSegments,o=a.dayStart,l=a.dayEnd,s=a.eventWidth,c=a.segmentHeight,d=a.hourDuration,u=a.minimumEventHeight,h=t.setMinutes,C=t.setHours,p=t.startOfDay,w=t.startOfMinute,k=t.endOfDay,D=t.differenceInMinutes,T=h(C(p(i),ye(o.hour)),Ce(o.minute)),b=h(C(w(k(i)),ye(l.hour)),Ce(l.minute));b.setSeconds(59,999);var _=[],x=de(t,{events:e.filter(function(M){return!M.allDay}),periodStart:T,periodEnd:b}),S=x.sort(function(M,E){return M.start.valueOf()-E.start.valueOf()}).map(function(M){var E=M.start,m=M.end||E,v=E<T,f=m>b,A=r*c/(d||60),O=0;if(E>T){var Me=t.getTimezoneOffset(E),st=t.getTimezoneOffset(T)-Me;O+=D(E,T)+st}O*=A,O=Math.floor(O);var fe=v?T:E,dt=f?b:m,R=t.getTimezoneOffset(fe)-t.getTimezoneOffset(dt),V=D(dt,fe)+R;M.end?V*=A:V=c,u&&V<u&&(V=u),V=Math.floor(V);for(var ct=we(_,O,O+V),ut=0;ct.some(function(Qr){return Qr.left===ut});)ut+=s;var on={event:M,height:V,width:s,top:O,left:ut,startsBeforeDay:v,endsAfterDay:f};return _.push(on),on}),H=Math.max.apply(Math,S.map(function(M){return M.left+M.width})),W=de(t,{events:e.filter(function(M){return M.allDay}),periodStart:p(T),periodEnd:k(b)});return{events:S,width:H,allDayEvents:W,period:{events:x,start:T,end:b}}}(t,{events:e,viewDate:S.date,hourSegments:r,dayStart:l,dayEnd:s,segmentHeight:h,eventWidth:1,hourDuration:o,minimumEventHeight:w}),W=k.map(function(m){var v=m.segments.map(function(f){var A=b(T(S.date,_(f.date)),x(f.date));return F(F({},f),{date:A})});return F(F({},m),{segments:v})});function M(m,v){var f=Math.max.apply(Math,v.map(function(O){return O.left+1})),A=m.filter(function(O){return O.left>=f}).filter(function(O){return we(v,O.top,O.top+O.height).length>0});return A.length>0?M(m,A):f}var E=H.events.map(function(m){var f=100/M(H.events,we(H.events,m.top,m.top+m.height));return F(F({},m),{left:m.left*f,width:f})});return{hours:W,date:S.date,events:E.map(function(m){var v=we(E.filter(function(f){return f.left>m.left}),m.top,m.top+m.height);return v.length>0?F(F({},m),{width:Math.min.apply(Math,v.map(function(f){return f.left}))-m.left}):m})}})}function we(t,a,e){return t.filter(function(i){var r=i.top,o=i.top+i.height;return a<o&&o<e||a<r&&r<e||r<=a&&e<=o})}function ye(t){return Math.max(Math.min(23,t),0)}function Ce(t){return Math.max(Math.min(59,t),0)}var j=(()=>{return(t=j||(j={})).NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",j;var t})(),Sn=y(96831),P=y(36787),Mn=y(23426),Re=y(23753),B=y(92198),Le=y(61709),N=y(12474),ce=y(72986),On=y(92821),wt=y(43489);class Hn{constructor(a,e){this.predicate=a,this.source=e}call(a,e){return e.subscribe(new Wn(a,this.predicate,this.source))}}class Wn extends wt.L{constructor(a,e,i){super(a),this.predicate=e,this.source=i,this.count=0,this.index=0}_next(a){this.predicate?this._tryPredicate(a):this.count++}_tryPredicate(a){let e;try{e=this.predicate(a,this.index++,this.source)}catch(i){return void this.destination.error(i)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Ve(){return t=>t.lift(new zn)}class zn{call(a,e){return e.subscribe(new Rn(a))}}class Rn extends wt.L{constructor(a){super(a),this.hasPrev=!1}_next(a){let e;this.hasPrev?e=[this.prev,a]:this.hasPrev=!0,this.prev=a,e&&this.destination.next(e)}}var Ln=y(75778);function Fe(t,a){return t=function Vn(t,a){return void 0===t?void 0===a?t:a:t}(t,a),"function"==typeof t?function(){for(var i=arguments,r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=i[l];return!!t.apply(this,o)}:t?function(){return!0}:function(){return!1}}var Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},yt=function(t){return null!=t&&"object"===(void 0===t?"undefined":Be(t))&&1===t.nodeType&&"object"===Be(t.style)&&"object"===Be(t.ownerDocument)};function Ct(t,a){if(a=Ye(a,!0),!yt(a))return-1;for(var e=0;e<t.length;e++)if(t[e]===a)return e;return-1}function Ie(t,a){return-1!==Ct(t,a)}function Fn(t,a){for(var e=0;e<a.length;e++)Ie(t,a[e])||t.push(a[e]);return a}function Bn(t){for(var a=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=a[i+1];return Fn(t,e=e.map(Ye))}function In(t){for(var a=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=a[i+1];return e.map(Ye).reduce(function(r,o){var l=Ct(t,o);return-1!==l?r.concat(t.splice(l,1)):r},[])}function Ye(t,a){if("string"==typeof t)try{return document.querySelector(t)}catch(e){throw e}if(!yt(t)&&!a)throw new TypeError(t+" is not a DOM element.");return t}function Dt(t){if(t===window)return function Zn(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var a={};return Object.defineProperties(a,t),a}();try{var a=t.getBoundingClientRect();return void 0===a.x&&(a.x=a.left,a.y=a.top),a}catch(e){throw new TypeError("Can't call getBoundingClientRect on "+t)}}var a,Ze=void 0;"function"!=typeof Object.create?(a=function(){},Ze=function(e,i){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");a.prototype=e||{};var r=new a;return a.prototype=null,void 0!==i&&Object.defineProperties(r,i),null===e&&(r.__proto__=null),r}):Ze=Object.create;var Nn=Ze,G=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Pe(t,a){a=a||{};for(var e=Nn(t),i=0;i<G.length;i++)void 0!==a[G[i]]&&(e[G[i]]=a[G[i]]);return e}function Ne(t,a){console.log("data ",a),t.data=a||{},t.dispatched="mousemove"}var ue=["webkit","moz","ms","o"],pe=function(){if("undefined"==typeof window)return function(){};for(var t=0,a=ue.length;t<a&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[ue[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var r=(new Date).getTime(),o=Math.max(0,16-r-e),l=window.setTimeout(function(){return i(r+o)},o);return e=r+o,l}}return window.requestAnimationFrame.bind(window)}(),ae=function(){if("undefined"==typeof window)return function(){};for(var t=0,a=ue.length;t<a&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[ue[t]+"CancelAnimationFrame"]||window[ue[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function $n(t,a){void 0===a&&(a={});var e=this,i=4,r=!1;if("object"!=typeof a.margin){var o=a.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=a.margin;this.scrollWhenOutside=a.scrollWhenOutside||!1;var l={},s=function Yn(t,a){var e=Fe((a=a||{}).allowUpdate,!0);return function(r){if(r=r||window.event,t.target=r.target||r.srcElement||r.originalTarget,t.element=this,t.type=r.type,e(r)){if(r.targetTouches)t.x=r.targetTouches[0].clientX,t.y=r.targetTouches[0].clientY,t.pageX=r.targetTouches[0].pageX,t.pageY=r.targetTouches[0].pageY,t.screenX=r.targetTouches[0].screenX,t.screenY=r.targetTouches[0].screenY;else{if(null===r.pageX&&null!==r.clientX){var o=r.target&&r.target.ownerDocument||document,l=o.documentElement,s=o.body;t.pageX=r.clientX+(l&&l.scrollLeft||s&&s.scrollLeft||0)-(l&&l.clientLeft||s&&s.clientLeft||0),t.pageY=r.clientY+(l&&l.scrollTop||s&&s.scrollTop||0)-(l&&l.clientTop||s&&s.clientTop||0)}else t.pageX=r.pageX,t.pageY=r.pageY;t.x=r.clientX,t.y=r.clientY,t.screenX=r.screenX,t.screenY=r.screenY}t.clientX=t.x,t.clientY=t.y}}}(l),c=function Jn(t){var a={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(o){for(var l=0;l<G.length;l++)a[G[l]]=o[G[l]]}return void 0!==t&&t.addEventListener("mousemove",e),{destroy:function r(){t&&t.removeEventListener("mousemove",e,!1),a=null},dispatch:MouseEvent?function(l,s,c){var d=new MouseEvent("mousemove",Pe(a,s));return Ne(d,c),l.dispatchEvent(d)}:"function"==typeof document.createEvent?function(l,s,c){var d=Pe(a,s),u=document.createEvent("MouseEvents");return u.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),Ne(u,c),l.dispatchEvent(u)}:"function"==typeof document.createEventObject?function(l,s,c){var d=document.createEventObject(),u=Pe(a,s);for(var h in u)d[h]=u[h];return Ne(d,c),l.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(a.maxSpeed)||(i=a.maxSpeed),"object"!=typeof i&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=Fe(a.autoScroll),this.syncMove=Fe(a.syncMove,!1),this.destroy=function(v){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",k,!1),window.removeEventListener("touchstart",k,!1),window.removeEventListener("mouseup",D,!1),window.removeEventListener("touchend",D,!1),window.removeEventListener("pointerup",D,!1),window.removeEventListener("mouseleave",b,!1),window.removeEventListener("mousemove",S,!1),window.removeEventListener("touchmove",S,!1),window.removeEventListener("scroll",w,!0),t=[],v&&T()},this.add=function(){for(var v=[],f=arguments.length;f--;)v[f]=arguments[f];return Bn.apply(void 0,[t].concat(v)),this},this.remove=function(){for(var v=[],f=arguments.length;f--;)v[f]=arguments[f];return In.apply(void 0,[t].concat(v))};var h,v,u=null;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),v=t,t=[],v.forEach(function(f){f===window?u=window:e.add(f)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return i}},point:{get:function(){return l}},scrolling:{get:function(){return r}}});var p,C=null;function w(v){for(var f=0;f<t.length;f++)if(t[f]===v.target){r=!0;break}r&&pe(function(){return r=!1})}function k(){d=!0}function D(){d=!1,T()}function T(){ae(p),ae(h)}function b(){d=!1}function x(){for(var v=null,f=0;f<t.length;f++)_t(l,t[f])&&(v=t[f]);return v}function S(v){if(e.autoScroll()&&!v.dispatched){var f=v.target,A=document.body;C&&!_t(l,C)&&(e.scrollWhenOutside||(C=null)),f&&f.parentNode===A?f=x():(f=function _(v){if(!v)return null;if(C===v||Ie(t,v))return v;for(;v=v.parentNode;)if(Ie(t,v))return v;return null}(f),f||(f=x())),f&&f!==C&&(C=f),u&&(ae(h),h=pe(H)),C&&(ae(p),p=pe(W))}}function H(){M(u),ae(h),h=pe(H)}function W(){!C||(M(C),ae(p),p=pe(W))}function M(v){var A,O,f=Dt(v);A=l.x<f.left+e.margin.left?Math.floor(Math.max(-1,(l.x-f.left)/e.margin.left-1)*e.maxSpeed.left):l.x>f.right-e.margin.right?Math.ceil(Math.min(1,(l.x-f.right)/e.margin.right+1)*e.maxSpeed.right):0,O=l.y<f.top+e.margin.top?Math.floor(Math.max(-1,(l.y-f.top)/e.margin.top-1)*e.maxSpeed.top):l.y>f.bottom-e.margin.bottom?Math.ceil(Math.min(1,(l.y-f.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&c.dispatch(v,{pageX:l.pageX+A,pageY:l.pageY+O,clientX:l.x+A,clientY:l.y+O}),setTimeout(function(){O&&function E(v,f){v===window?window.scrollTo(v.pageXOffset,v.pageYOffset+f):v.scrollTop+=f}(v,O),A&&function m(v,f){v===window?window.scrollTo(v.pageXOffset+f,v.pageYOffset):v.scrollLeft+=f}(v,A)})}window.addEventListener("mousedown",k,!1),window.addEventListener("touchstart",k,!1),window.addEventListener("mouseup",D,!1),window.addEventListener("touchend",D,!1),window.addEventListener("pointerup",D,!1),window.addEventListener("mousemove",S,!1),window.addEventListener("touchmove",S,!1),window.addEventListener("mouseleave",b,!1),window.addEventListener("scroll",w,!0)}function _t(t,a,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:function Pn(t,a){var e=Dt(a);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}(t,a)}let Tt=(()=>{class t{constructor(){this.currentDrag=new L.xQ}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),kt=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlDraggableScrollContainer",""]]}),t})();function Je(t,a,e){e&&e.split(" ").forEach(i=>t.addClass(a.nativeElement,i))}function De(t,a,e){e&&e.split(" ").forEach(i=>t.removeClass(a.nativeElement,i))}let $e=(()=>{class t{constructor(e,i,r,o,l,s,c){this.element=e,this.renderer=i,this.draggableHelper=r,this.zone=o,this.vcr=l,this.scrollContainer=s,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new n.vpe,this.dragStart=new n.vpe,this.ghostElementCreated=new n.vpe,this.dragging=new n.vpe,this.dragEnd=new n.vpe,this.pointerDown$=new L.xQ,this.pointerMove$=new L.xQ,this.pointerUp$=new L.xQ,this.eventListenerSubscriptions={},this.destroy$=new L.xQ,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe((0,B.h)(()=>this.canDrag()),(0,Le.zg)(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();const r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(r)});const o=this.getScrollPosition(),l=new le.y(p=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",k=>p.next(k))).pipe((0,ht.O)(o),(0,z.U)(()=>this.getScrollPosition())),s=new L.xQ,c=new Sn.t;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,P.T)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe((0,N.B)()),u=(0,Mn.aj)([this.pointerMove$,l]).pipe((0,z.U)(([p,w])=>({currentDrag$:s,transformX:p.clientX-i.clientX,transformY:p.clientY-i.clientY,clientX:p.clientX,clientY:p.clientY,scrollLeft:w.left,scrollTop:w.top,target:p.event.target})),(0,z.U)(p=>(this.dragSnapGrid.x&&(p.transformX=Math.round(p.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(p.transformY=Math.round(p.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),p)),(0,z.U)(p=>(this.dragAxis.x||(p.transformX=0),this.dragAxis.y||(p.transformY=0),p)),(0,z.U)(p=>{const w=p.scrollLeft-o.left,k=p.scrollTop-o.top;return Object.assign(Object.assign({},p),{x:p.transformX+w,y:p.transformY+k})}),(0,B.h)(({x:p,y:w,transformX:k,transformY:D})=>!this.validateDrag||this.validateDrag({x:p,y:w,transform:{x:k,y:D}})),(0,Q.R)(d),(0,N.B)()),h=u.pipe((0,ce.q)(1),(0,N.B)()),C=u.pipe((0,On.h)(1),(0,N.B)());return h.subscribe(({clientX:p,clientY:w,x:k,y:D})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function Un(t,a){return new $n(t,a)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),Je(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const T=this.element.nativeElement.getBoundingClientRect(),b=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(b):this.element.nativeElement.parentNode.insertBefore(b,this.element.nativeElement.nextSibling),this.ghostElement=b,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(b,{position:"fixed",top:`${T.top}px`,left:`${T.left}px`,width:`${T.width}px`,height:`${T.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const _=this.vcr.createEmbeddedView(this.ghostElementTemplate);b.innerHTML="",_.rootNodes.filter(x=>x instanceof Node).forEach(x=>{b.appendChild(x)}),C.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(_))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:p-k,clientY:w-D,element:b})}),C.subscribe(()=>{b.parentElement.removeChild(b),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(s)}),C.pipe((0,Le.zg)(p=>{const w=c.pipe(function An(t){return a=>a.lift(new Hn(t,a))}(),(0,ce.q)(1),(0,z.U)(k=>Object.assign(Object.assign({},p),{dragCancelled:k>0})));return c.complete(),w})).subscribe(({x:p,y:w,dragCancelled:k})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:p,y:w,dragCancelled:k})}),De(this.renderer,this.element,this.dragActiveClass),s.complete()}),(0,P.T)(d,C).pipe((0,ce.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),u}),(0,N.B)());(0,P.T)(e.pipe((0,ce.q)(1),(0,z.U)(i=>[,i])),e.pipe(Ve())).pipe((0,B.h)(([i,r])=>!i||i.x!==r.x||i.y!==r.y),(0,z.U)(([i,r])=>r)).subscribe(({x:i,y:r,currentDrag$:o,clientX:l,clientY:s,transformX:c,transformY:d,target:u})=>{this.zone.run(()=>{this.dragging.next({x:i,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){const h=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:h,"-webkit-transform":h,"-ms-transform":h,"-moz-transform":h,"-o-transform":h})}}),o.next({clientX:l,clientY:s,dropData:this.dropData,target:u})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,r,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,o=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const l=(0,Re.R)(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),s=(0,Re.R)(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!r&&o&&(r=this.shouldBeginDrag(e,c,i)),(!this.touchStartLongPress||!o||r)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{l.unsubscribe(),s.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(r=>{this.renderer.setStyle(e,r,i[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,r){const o=this.getScrollPosition(),l_top=Math.abs(o.top-r.top),l_left=Math.abs(o.left-r.left),s=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-l_left,c=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-l_top,u=this.touchStartLongPress;return(s+c>u.delta||l_top>0||l_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=u.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Tt),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(kt,8),n.Y36(g.K0))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlDraggable",""]],inputs:{dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",dragCursor:"dragCursor",autoScroll:"autoScroll",dropData:"dropData",validateDrag:"validateDrag",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[n.TTD]}),t})();function bt(t,a,e){return t>=e.left&&t<=e.right&&a>=e.top&&a<=e.bottom}let Ue=(()=>{class t{constructor(e,i,r,o,l){this.element=e,this.draggableHelper=i,this.zone=r,this.renderer=o,this.scrollContainer=l,this.dragEnter=new n.vpe,this.dragLeave=new n.vpe,this.dragOver=new n.vpe,this.drop=new n.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Je(this.renderer,this.element,this.dragActiveClass);const i={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0});let o;const l=e.pipe((0,z.U)(({clientX:d,clientY:u,dropData:h,target:C})=>{o=h,i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);const p=bt(d,u,i.rect),w=!this.validateDrop||this.validateDrop({clientX:d,clientY:u,target:C});return i.scrollContainerRect?p&&w&&bt(d,u,i.scrollContainerRect):p&&w})),s=l.pipe((0,Ln.x)());let c;s.pipe((0,B.h)(d=>d)).subscribe(()=>{c=!0,Je(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:o})})}),l.pipe((0,B.h)(d=>d)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:o})})}),s.pipe(Ve(),(0,B.h)(([d,u])=>d&&!u)).subscribe(()=>{c=!1,De(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:o})})}),e.subscribe({complete:()=>{r(),De(this.renderer,this.element,this.dragActiveClass),c&&(De(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:o})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(Tt),n.Y36(n.R0b),n.Y36(n.Qsj),n.Y36(kt,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();var Xn=y(22868);const q="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function xt(t,a,e,i){const r=a.querySelectorAll(t);if(r.length){const o=e.querySelectorAll(t);for(let l=0;l<r.length;l++)i(r[l],o[l])}}let Gn=0;function Et(t,a){"file"!==a.type&&(a.value=t.value),"radio"===a.type&&a.name&&(a.name=`mat-clone-${a.name}-${Gn++}`)}function St(t,a){const e=a.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch(i){}}function Mt(t,a,e,i){const r={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return a.top&&(r.top+=i),a.bottom&&(r.bottom+=i),a.left&&(r.left+=e),a.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}const Ot=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function At(t,a){return t.left&&t.top?a.topLeft:t.right&&t.top?a.topRight:t.left&&t.bottom?a.bottomLeft:t.right&&t.bottom?a.bottomRight:t.left||t.right?a.leftOrRight:t.top||t.bottom?a.topOrBottom:""}function Te({edges:t,initialRectangle:a,newRectangle:e}){const i={};return Object.keys(t).forEach(r=>{i[r]=(e[r]||0)-(a[r]||0)}),i}const Ht="resize-active";let Wt=(()=>{class t{constructor(e,i,r,o){this.platformId=e,this.renderer=i,this.elm=r,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Ot,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new n.vpe,this.resizing=new n.vpe,this.resizeEnd=new n.vpe,this.mouseup=new L.xQ,this.mousedown=new L.xQ,this.mousemove=new L.xQ,this.destroy$=new L.xQ,this.pointerEventListeners=re.getInstance(i,o)}ngOnInit(){const e=(0,P.T)(this.pointerEventListeners.pointerDown,this.mousedown),i=(0,P.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,Xn.b)(({event:d})=>{if(o)try{d.preventDefault()}catch(u){}}),(0,N.B)()),r=(0,P.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const l=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},s=()=>Object.assign(Object.assign({},Ot),this.resizeCursors);e.pipe((0,Le.zg)(d=>{function u(p){return{clientX:p.clientX-d.clientX,clientY:p.clientY-d.clientY}}const h=()=>{const p={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?p.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(p.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?p.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(p.y=+this.resizeSnapGrid.bottom)),p};function C(p,w){return{x:Math.ceil(p.clientX/w.x),y:Math.ceil(p.clientY/w.y)}}return(0,P.T)(i.pipe((0,ce.q)(1)).pipe((0,z.U)(p=>[,p])),i.pipe(Ve())).pipe((0,z.U)(([p,w])=>[p&&u(p),u(w)])).pipe((0,B.h)(([p,w])=>{if(!p)return!0;const k=h(),D=C(p,k),T=C(w,k);return D.x!==T.x||D.y!==T.y})).pipe((0,z.U)(([,p])=>{const w=h();return{clientX:Math.round(p.clientX/w.x)*w.x,clientY:Math.round(p.clientY/w.y)*w.y}})).pipe((0,Q.R)((0,P.T)(r,e)))})).pipe((0,B.h)(()=>!!o)).pipe((0,z.U)(({clientX:d,clientY:u})=>Mt(o.startingRect,o.edges,d,u))).pipe((0,B.h)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,B.h)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:Te({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,Q.R)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Te({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),e.pipe((0,z.U)(({edges:d})=>d||{}),(0,B.h)(d=>Object.keys(d).length>0),(0,Q.R)(this.destroy$)).subscribe(d=>{o&&l();const u=function qn(t,a){let e=0,i=0;const r=t.nativeElement.style,l=["transform","-ms-transform","-moz-transform","-o-transform"].map(s=>r[s]).find(s=>!!s);if(l&&l.includes("translate")&&(e=l.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),i=l.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===a)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-i,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-i,left:t.nativeElement.offsetLeft-e,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-e};{const s=t.nativeElement.getBoundingClientRect();return{height:s.height,width:s.width,top:s.top-i,bottom:s.bottom-i,left:s.left-e,right:s.right-e,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:u,currentRect:u};const h=s(),C=At(o.edges,h);this.renderer.setStyle(document.body,"cursor",C),this.setElementClass(this.elm,Ht,!0),this.enableGhostResize&&(o.clonedNode=function jn(t){const a=t.cloneNode(!0),e=a.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();return a.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),"canvas"===i?St(t,a):("input"===i||"select"===i||"textarea"===i)&&Et(t,a),xt("canvas",t,a,St),xt("input, textarea, select",t,a,Et),a}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",At(o.edges,h)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Te({edges:d,initialRectangle:u,newRectangle:u}),rectangle:Mt(u,{},0,0)})})}),r.pipe((0,Q.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,Ht),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Te({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),l(),o=null)})}ngOnDestroy(){(0,g.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,i,r){r?this.renderer.addClass(e.nativeElement,i):this.renderer.removeClass(e.nativeElement,i)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Lbi),n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.R0b))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlResizable",""]],inputs:{enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS",validateResize:"validateResize"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),t})();class re{constructor(a,e){this.pointerDown=new le.y(i=>{let r,o;return e.runOutsideAngular(()=>{r=a.listen("document","mousedown",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),q&&(o=a.listen("document","touchstart",l=>{i.next({clientX:l.touches[0].clientX,clientY:l.touches[0].clientY,event:l})}))}),()=>{r(),q&&o()}}).pipe((0,N.B)()),this.pointerMove=new le.y(i=>{let r,o;return e.runOutsideAngular(()=>{r=a.listen("document","mousemove",l=>{i.next({clientX:l.clientX,clientY:l.clientY,event:l})}),q&&(o=a.listen("document","touchmove",l=>{i.next({clientX:l.targetTouches[0].clientX,clientY:l.targetTouches[0].clientY,event:l})}))}),()=>{r(),q&&o()}}).pipe((0,N.B)()),this.pointerUp=new le.y(i=>{let r,o,l;return e.runOutsideAngular(()=>{r=a.listen("document","mouseup",s=>{i.next({clientX:s.clientX,clientY:s.clientY,event:s})}),q&&(o=a.listen("document","touchend",s=>{i.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}),l=a.listen("document","touchcancel",s=>{i.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}))}),()=>{r(),q&&(o(),l())}}).pipe((0,N.B)())}static getInstance(a,e){return re.instance||(re.instance=new re(a,e)),re.instance}}let ti=(()=>{class t{constructor(e,i,r,o){this.renderer=e,this.element=i,this.zone=r,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new L.xQ}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),q&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,P.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,i,r){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:i,clientY:r,edges:this.resizeEdges})}onMouseup(e,i){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:i,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,i,r){this.resizable.mousemove.next({clientX:i,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return(0,Re.R)(this.element.nativeElement,e).pipe((0,Q.R)(this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(Wt,8))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),t})(),zt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})();var J=y(41777),Qe=y(70655);const ni=function(t){return{action:t}};function ii(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"a",5),n.NdJ("mwlClick",function(r){const l=n.CHM(e).$implicit,s=n.oxw(2).event;return l.onClick({event:s,sourceEvent:r})})("mwlKeydownEnter",function(r){const l=n.CHM(e).$implicit,s=n.oxw(2).event;return l.onClick({event:s,sourceEvent:r})}),n.ALo(1,"calendarA11y"),n.qZA()}if(2&t){const e=a.$implicit;n.Q6J("ngClass",e.cssClass)("innerHtml",e.label,n.oJD),n.uIk("aria-label",n.xi3(1,3,n.VKq(6,ni,e),"actionButtonLabel"))}}function ai(t,a){if(1&t&&(n.TgZ(0,"span",3),n.YNc(1,ii,2,8,"a",4),n.qZA()),2&t){const e=n.oxw(),i=e.event,r=e.trackByActionId;n.xp6(1),n.Q6J("ngForOf",i.actions)("ngForTrackBy",r)}}function ri(t,a){1&t&&n.YNc(0,ai,2,2,"span",2),2&t&&n.Q6J("ngIf",a.event.actions)}function oi(t,a){}const li=function(t,a){return{event:t,trackByActionId:a}},oe=function(){return{}};function si(t,a){if(1&t&&(n._UZ(0,"span",2),n.ALo(1,"calendarEventTitle"),n.ALo(2,"calendarA11y")),2&t){const e=a.event;n.Q6J("innerHTML",n.Dn7(1,2,e.title,a.view,e),n.oJD),n.uIk("aria-hidden",n.xi3(2,6,n.DdM(9,oe),"hideEventTitle"))}}function di(t,a){}const ci=function(t,a){return{event:t,view:a}};function ui(t,a){if(1&t&&(n.TgZ(0,"div",2),n._UZ(1,"div",3),n._UZ(2,"div",4),n.qZA()),2&t){const e=a.contents;n.Q6J("ngClass","cal-tooltip-"+a.placement),n.xp6(2),n.Q6J("innerHtml",e,n.oJD)}}function pi(t,a){}const mi=function(t,a,e){return{contents:t,placement:a,event:e}},Xe=function(t){return{backgroundColor:t}};function hi(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-month-cell",7),n.NdJ("mwlClick",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).dayClicked.emit({day:l,sourceEvent:r})})("mwlKeydownEnter",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).dayClicked.emit({day:l,sourceEvent:r})})("highlightDay",function(r){return n.CHM(e),n.oxw(2).toggleDayHighlight(r.event,!0)})("unhighlightDay",function(r){return n.CHM(e),n.oxw(2).toggleDayHighlight(r.event,!1)})("drop",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).eventDropped(l,r.dropData.event,r.dropData.draggedFrom)})("eventClicked",function(r){return n.CHM(e),n.oxw(2).eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})}),n.ALo(1,"calendarA11y"),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw(2);n.Q6J("ngClass",null==e?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",n.VKq(15,Xe,e.backgroundColor))("clickListenerDisabled",0===i.dayClicked.observers.length),n.uIk("tabindex",n.xi3(1,12,n.DdM(17,oe),"monthCellTabIndex"))}}function vi(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"div",4),n.YNc(2,hi,2,18,"mwl-calendar-month-cell",5),n.ALo(3,"slice"),n.qZA(),n.TgZ(4,"mwl-calendar-open-day-events",6),n.NdJ("eventClicked",function(r){return n.CHM(e),n.oxw().eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent})})("drop",function(r){n.CHM(e);const o=n.oxw();return o.eventDropped(o.openDay,r.dropData.event,r.dropData.draggedFrom)}),n.qZA(),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw();n.xp6(2),n.Q6J("ngForOf",n.Dn7(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),n.xp6(2),n.Q6J("locale",i.locale)("isOpen",i.openRowIndex===e)("events",null==i.openDay?null:i.openDay.events)("date",null==i.openDay?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}function fi(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",4),n.NdJ("click",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).columnHeaderClicked.emit({isoDayNumber:l.day,sourceEvent:r})}),n._uU(1),n.ALo(2,"calendarDate"),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw().locale;n.ekj("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.Q6J("ngClass",e.cssClass),n.xp6(1),n.hij(" ",n.Dn7(2,10,e.date,"monthViewColumnHeader",i)," ")}}function gi(t,a){if(1&t&&(n.TgZ(0,"div",2),n.YNc(1,fi,3,14,"div",3),n.qZA()),2&t){const e=a.days,i=a.trackByWeekDayHeaderDate;n.xp6(1),n.Q6J("ngForOf",e)("ngForTrackBy",i)}}function wi(t,a){}const yi=function(t,a,e){return{days:t,locale:a,trackByWeekDayHeaderDate:e}};function Ci(t,a){if(1&t&&(n.TgZ(0,"span",7),n._uU(1),n.qZA()),2&t){const e=n.oxw().day;n.xp6(1),n.Oqu(e.badgeTotal)}}const Di=function(t,a){return{event:t,draggedFrom:a}},me=function(t,a){return{x:t,y:a}},ke=function(){return{delay:300,delta:30}};function _i(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",10),n.NdJ("mouseenter",function(){const o=n.CHM(e).$implicit;return n.oxw(2).highlightDay.emit({event:o})})("mouseleave",function(){const o=n.CHM(e).$implicit;return n.oxw(2).unhighlightDay.emit({event:o})})("mwlClick",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).eventClicked.emit({event:l,sourceEvent:r})}),n.ALo(1,"calendarEventTitle"),n.ALo(2,"calendarA11y"),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw(2),r=i.tooltipPlacement,o=i.tooltipTemplate,l=i.tooltipAppendToBody,s=i.tooltipDelay,c=i.day,d=i.validateDrag;n.ekj("cal-draggable",e.draggable),n.Q6J("ngStyle",n.VKq(22,Xe,null==e.color?null:e.color.primary))("ngClass",null==e?null:e.cssClass)("mwlCalendarTooltip",n.Dn7(1,15,e.title,"monthTooltip",e))("tooltipPlacement",r)("tooltipEvent",e)("tooltipTemplate",o)("tooltipAppendToBody",l)("tooltipDelay",s)("dropData",n.WLB(24,Di,e,c))("dragAxis",n.WLB(27,me,e.draggable,e.draggable))("validateDrag",d)("touchStartLongPress",n.DdM(30,ke)),n.uIk("aria-hidden",n.xi3(2,19,n.DdM(31,oe),"hideMonthCellEvents"))}}function Ti(t,a){if(1&t&&(n.TgZ(0,"div",8),n.YNc(1,_i,3,32,"div",9),n.qZA()),2&t){const e=n.oxw(),i=e.day,r=e.trackByEventId;n.xp6(1),n.Q6J("ngForOf",i.events)("ngForTrackBy",r)}}const ki=function(t,a){return{day:t,locale:a}};function bi(t,a){if(1&t&&(n.TgZ(0,"div",2),n.ALo(1,"calendarA11y"),n.TgZ(2,"span",3),n.YNc(3,Ci,2,1,"span",4),n.TgZ(4,"span",5),n._uU(5),n.ALo(6,"calendarDate"),n.qZA(),n.qZA(),n.qZA(),n.YNc(7,Ti,2,2,"div",6)),2&t){const e=a.day,i=a.locale;n.uIk("aria-label",n.xi3(1,4,n.WLB(11,ki,e,i),"monthCell")),n.xp6(3),n.Q6J("ngIf",e.badgeTotal>0),n.xp6(2),n.Oqu(n.Dn7(6,7,e.date,"monthViewDayNumber",i)),n.xp6(2),n.Q6J("ngIf",e.events.length>0)}}function xi(t,a){}const Ei=function(t,a,e,i,r,o,l,s,c,d,u,h){return{day:t,openDay:a,locale:e,tooltipPlacement:i,highlightDay:r,unhighlightDay:o,eventClicked:l,tooltipTemplate:s,tooltipAppendToBody:c,tooltipDelay:d,trackByEventId:u,validateDrag:h}},Si=function(t){return{event:t}},Rt=function(t,a){return{event:t,locale:a}};function Mi(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",7),n._UZ(1,"span",8),n._uU(2," "),n.TgZ(3,"mwl-calendar-event-title",9),n.NdJ("mwlClick",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).eventClicked.emit({event:l,sourceEvent:r})})("mwlKeydownEnter",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).eventClicked.emit({event:l,sourceEvent:r})}),n.ALo(4,"calendarA11y"),n.qZA(),n._uU(5," "),n._UZ(6,"mwl-calendar-event-actions",10),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw(2).validateDrag,r=n.oxw();n.ekj("cal-draggable",e.draggable),n.Q6J("ngClass",null==e?null:e.cssClass)("dropData",n.VKq(16,Si,e))("dragAxis",n.WLB(18,me,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",n.DdM(21,ke)),n.xp6(1),n.Q6J("ngStyle",n.VKq(22,Xe,null==e.color?null:e.color.primary)),n.xp6(2),n.Q6J("event",e)("customTemplate",r.eventTitleTemplate),n.uIk("aria-label",n.xi3(4,13,n.WLB(24,Rt,e,r.locale),"eventDescription")),n.xp6(3),n.Q6J("event",e)("customTemplate",r.eventActionsTemplate)}}const Lt=function(t,a){return{date:t,locale:a}};function Oi(t,a){if(1&t&&(n.TgZ(0,"div",3),n._UZ(1,"span",4),n.ALo(2,"calendarA11y"),n._UZ(3,"span",5),n.ALo(4,"calendarA11y"),n.YNc(5,Mi,7,27,"div",6),n.qZA()),2&t){const e=n.oxw(),i=e.events,r=e.trackByEventId,o=n.oxw();n.Q6J("@collapse",void 0),n.xp6(1),n.uIk("aria-label",n.xi3(2,5,n.WLB(11,Lt,o.date,o.locale),"openDayEventsAlert")),n.xp6(2),n.uIk("aria-label",n.xi3(4,8,n.WLB(14,Lt,o.date,o.locale),"openDayEventsLandmark")),n.xp6(2),n.Q6J("ngForOf",i)("ngForTrackBy",r)}}function Ai(t,a){1&t&&n.YNc(0,Oi,6,17,"div",2),2&t&&n.Q6J("ngIf",a.isOpen)}function Hi(t,a){}const Wi=function(t,a,e,i,r){return{events:t,eventClicked:a,isOpen:e,trackByEventId:i,validateDrag:r}};function zi(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",13),n.NdJ("drop",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).eventDropped(r,l.date,!0)})("dragEnter",function(){const o=n.CHM(e).$implicit;return n.oxw(2).dateDragEnter(o.date)}),n.qZA()}}const Ri=function(){return{left:!0}};function Li(t,a){1&t&&n._UZ(0,"div",22),2&t&&n.Q6J("resizeEdges",n.DdM(1,Ri))}const Vi=function(){return{right:!0}};function Fi(t,a){1&t&&n._UZ(0,"div",23),2&t&&n.Q6J("resizeEdges",n.DdM(1,Vi))}const Bi=function(t,a){return{left:t,right:a}},Vt=function(t,a){return{event:t,calendarId:a}},Ii=function(t){return{x:t}};function Yi(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",17,18),n.NdJ("resizeStart",function(r){const l=n.CHM(e).$implicit;n.oxw();const s=n.MAs(1);return n.oxw(2).allDayEventResizeStarted(s,l,r)})("resizing",function(r){const l=n.CHM(e).$implicit,s=n.oxw(3);return s.allDayEventResizing(l,r,s.dayColumnWidth)})("resizeEnd",function(){const o=n.CHM(e).$implicit;return n.oxw(3).allDayEventResizeEnded(o)})("dragStart",function(){const o=n.CHM(e).$implicit,l=n.MAs(1);n.oxw();const s=n.MAs(1);return n.oxw(2).dragStarted(s,l,o,!1)})("dragging",function(){return n.CHM(e),n.oxw(3).allDayEventDragMove()})("dragEnd",function(r){const l=n.CHM(e).$implicit,s=n.oxw(3);return s.dragEnded(l,r,s.dayColumnWidth)}),n.YNc(2,Li,1,2,"div",19),n.TgZ(3,"mwl-calendar-week-view-event",20),n.NdJ("eventClicked",function(r){const l=n.CHM(e).$implicit;return n.oxw(3).eventClicked.emit({event:l.event,sourceEvent:r.sourceEvent})}),n.qZA(),n.YNc(4,Fi,1,2,"div",21),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw(3);n.Udp("width",100/i.days.length*e.span,"%")("margin-left",i.rtl?null:100/i.days.length*e.offset,"%")("margin-right",i.rtl?100/i.days.length*(i.days.length-e.offset)*-1:null,"%"),n.ekj("cal-draggable",e.event.draggable&&0===i.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),n.Q6J("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",n.WLB(32,Bi,i.dayColumnWidth,i.dayColumnWidth))("validateResize",i.validateResize)("dropData",n.WLB(35,Vt,e.event,i.calendarId))("dragAxis",n.WLB(38,me,e.event.draggable&&0===i.allDayEventResizes.size,!i.snapDraggedEvents&&e.event.draggable&&0===i.allDayEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?n.VKq(41,Ii,i.dayColumnWidth):n.DdM(43,oe))("validateDrag",i.validateDrag)("touchStartLongPress",n.DdM(44,ke)),n.xp6(2),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),n.xp6(1),n.Q6J("locale",i.locale)("weekEvent",e)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("daysInWeek",i.daysInWeek),n.xp6(1),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function Zi(t,a){if(1&t&&(n.TgZ(0,"div",14,15),n.YNc(2,Yi,5,45,"div",16),n.qZA()),2&t){const e=a.$implicit,i=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",e.row)("ngForTrackBy",i.trackByWeekAllDayEvent)}}function Pi(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",8,9),n.NdJ("dragEnter",function(){return n.CHM(e),n.oxw().dragEnter("allDay")})("dragLeave",function(){return n.CHM(e),n.oxw().dragLeave("allDay")}),n.TgZ(2,"div",5),n._UZ(3,"div",10),n.YNc(4,zi,1,0,"div",11),n.qZA(),n.YNc(5,Zi,3,2,"div",12),n.qZA()}if(2&t){const e=n.oxw();n.xp6(3),n.Q6J("ngTemplateOutlet",e.allDayEventsLabelTemplate),n.xp6(1),n.Q6J("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),n.xp6(1),n.Q6J("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function Ni(t,a){if(1&t&&n._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&t){const e=a.$implicit,i=n.oxw(3);n.Udp("height",i.hourSegmentHeight,"px"),n.Q6J("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",i.daysInWeek)}}function Ji(t,a){if(1&t&&(n.TgZ(0,"div",26),n.YNc(1,Ni,1,8,"mwl-calendar-week-view-hour-segment",27),n.qZA()),2&t){const e=a.$implicit,i=a.odd,r=n.oxw(2);n.ekj("cal-hour-odd",i),n.xp6(1),n.Q6J("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function $i(t,a){if(1&t&&(n.TgZ(0,"div",24),n.YNc(1,Ji,2,4,"div",25),n.qZA()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const Ui=function(){return{left:!0,top:!0}};function Qi(t,a){1&t&&n._UZ(0,"div",22),2&t&&n.Q6J("resizeEdges",n.DdM(1,Ui))}function Xi(t,a){}function ji(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-week-view-event",36),n.NdJ("eventClicked",function(r){n.CHM(e);const o=n.oxw().$implicit;return n.oxw(2).eventClicked.emit({event:o.event,sourceEvent:r.sourceEvent})}),n.qZA()}if(2&t){const e=n.oxw().$implicit,i=n.oxw().$implicit,r=n.oxw();n.Q6J("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",i)("daysInWeek",r.daysInWeek)}}const Gi=function(){return{right:!0,bottom:!0}};function qi(t,a){1&t&&n._UZ(0,"div",23),2&t&&n.Q6J("resizeEdges",n.DdM(1,Gi))}const Ki=function(t,a,e,i){return{left:t,right:a,top:e,bottom:i}};function ea(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",33,18),n.NdJ("resizeStart",function(r){const l=n.CHM(e).$implicit,s=n.oxw(2),c=n.MAs(6);return s.timeEventResizeStarted(c,l,r)})("resizing",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).timeEventResizing(l,r)})("resizeEnd",function(){const o=n.CHM(e).$implicit;return n.oxw(2).timeEventResizeEnded(o)})("dragStart",function(){const o=n.CHM(e).$implicit,l=n.MAs(1),s=n.oxw(2),c=n.MAs(6);return s.dragStarted(c,l,o,!0)})("dragging",function(r){const l=n.CHM(e).$implicit;return n.oxw(2).dragMove(l,r)})("dragEnd",function(r){const l=n.CHM(e).$implicit,s=n.oxw(2);return s.dragEnded(l,r,s.dayColumnWidth,!0)}),n.YNc(2,Qi,1,2,"div",19),n.YNc(3,Xi,0,0,"ng-template",34),n.YNc(4,ji,1,12,"ng-template",null,35,n.W1O),n.YNc(6,qi,1,2,"div",21),n.qZA()}if(2&t){const e=a.$implicit,i=n.MAs(5),r=n.oxw(2);n.Udp("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),n.ekj("cal-draggable",e.event.draggable&&0===r.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),n.Q6J("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",n.l5B(29,Ki,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",n.WLB(34,Vt,e.event,r.calendarId))("dragAxis",n.WLB(37,me,e.event.draggable&&0===r.timeEventResizes.size,e.event.draggable&&0===r.timeEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?n.WLB(40,me,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):n.DdM(43,oe))("touchStartLongPress",n.DdM(44,ke))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",i)("validateDrag",r.validateDrag),n.xp6(2),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),n.xp6(1),n.Q6J("ngTemplateOutlet",i),n.xp6(3),n.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function ta(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-week-view-hour-segment",38),n.NdJ("mwlClick",function(r){const l=n.CHM(e).$implicit;return n.oxw(3).hourSegmentClicked.emit({date:l.date,sourceEvent:r})})("drop",function(r){const l=n.CHM(e).$implicit;return n.oxw(3).eventDropped(r,l.date,!1)})("dragEnter",function(){const o=n.CHM(e).$implicit;return n.oxw(3).dateDragEnter(o.date)}),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw(3);n.Udp("height",i.hourSegmentHeight,"px"),n.Q6J("segment",e)("segmentHeight",i.hourSegmentHeight)("locale",i.locale)("customTemplate",i.hourSegmentTemplate)("daysInWeek",i.daysInWeek)("clickListenerDisabled",0===i.hourSegmentClicked.observers.length)("dragOverClass",i.dragActive&&i.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===i.daysInWeek)}}function na(t,a){if(1&t&&(n.TgZ(0,"div",26),n.YNc(1,ta,1,10,"mwl-calendar-week-view-hour-segment",37),n.qZA()),2&t){const e=a.$implicit,i=a.odd,r=n.oxw(2);n.ekj("cal-hour-odd",i),n.xp6(1),n.Q6J("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function ia(t,a){if(1&t&&(n.TgZ(0,"div",29),n._UZ(1,"mwl-calendar-week-view-current-time-marker",30),n.TgZ(2,"div",31),n.YNc(3,ea,7,45,"div",32),n.qZA(),n.YNc(4,na,2,4,"div",25),n.qZA()),2&t){const e=a.$implicit,i=n.oxw();n.xp6(1),n.Q6J("columnDate",e.date)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("customTemplate",i.currentTimeMarkerTemplate),n.xp6(2),n.Q6J("ngForOf",e.events)("ngForTrackBy",i.trackByWeekTimeEvent),n.xp6(1),n.Q6J("ngForOf",e.hours)("ngForTrackBy",i.trackByHour)}}function aa(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",4),n.NdJ("mwlClick",function(r){const l=n.CHM(e).$implicit;return n.oxw().dayHeaderClicked.emit({day:l,sourceEvent:r})})("drop",function(r){const l=n.CHM(e).$implicit;return n.oxw().eventDropped.emit({event:r.dropData.event,newStart:l.date})})("dragEnter",function(){const o=n.CHM(e).$implicit;return n.oxw().dragEnter.emit({date:o.date})}),n.TgZ(1,"b"),n._uU(2),n.ALo(3,"calendarDate"),n.qZA(),n._UZ(4,"br"),n.TgZ(5,"span"),n._uU(6),n.ALo(7,"calendarDate"),n.qZA(),n.qZA()}if(2&t){const e=a.$implicit,i=n.oxw().locale;n.ekj("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),n.Q6J("ngClass",e.cssClass),n.xp6(2),n.Oqu(n.Dn7(3,11,e.date,"weekViewColumnHeader",i)),n.xp6(4),n.Oqu(n.Dn7(7,15,e.date,"weekViewColumnSubHeader",i))}}function ra(t,a){if(1&t&&(n.TgZ(0,"div",2),n.YNc(1,aa,8,19,"div",3),n.qZA()),2&t){const e=a.days,i=a.trackByWeekDayHeaderDate;n.xp6(1),n.Q6J("ngForOf",e)("ngForTrackBy",i)}}function oa(t,a){}const la=function(t,a,e,i,r,o){return{days:t,locale:a,dayHeaderClicked:e,eventDropped:i,dragEnter:r,trackByWeekDayHeaderDate:o}},sa=function(t,a){return{backgroundColor:t,borderColor:a}};function da(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"div",2),n.NdJ("mwlClick",function(r){return n.CHM(e).eventClicked.emit({sourceEvent:r})})("mwlKeydownEnter",function(r){return n.CHM(e).eventClicked.emit({sourceEvent:r})}),n.ALo(1,"calendarEventTitle"),n.ALo(2,"calendarA11y"),n._UZ(3,"mwl-calendar-event-actions",3),n._uU(4," "),n._UZ(5,"mwl-calendar-event-title",4),n.qZA()}if(2&t){const e=a.weekEvent,i=a.tooltipPlacement,r=a.tooltipTemplate,o=a.tooltipAppendToBody,l=a.tooltipDisabled,s=a.tooltipDelay,c=a.daysInWeek,d=n.oxw();n.Q6J("ngStyle",n.WLB(20,sa,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",l?"":n.Dn7(1,13,e.event.title,1===c?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",i)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",o)("tooltipDelay",s),n.uIk("aria-label",n.xi3(2,17,n.WLB(23,Rt,e.tempEvent||e.event,d.locale),"eventDescription")),n.xp6(3),n.Q6J("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),n.xp6(2),n.Q6J("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function ca(t,a){}const ua=function(t,a,e,i,r,o,l,s,c){return{weekEvent:t,tooltipPlacement:a,eventClicked:e,tooltipTemplate:i,tooltipAppendToBody:r,tooltipDisabled:o,tooltipDelay:l,column:s,daysInWeek:c}};function pa(t,a){if(1&t&&(n.TgZ(0,"div",4),n._uU(1),n.ALo(2,"calendarDate"),n.qZA()),2&t){const e=n.oxw(),i=e.segment,r=e.daysInWeek,o=e.locale;n.xp6(1),n.hij(" ",n.Dn7(2,1,i.displayDate,1===r?"dayViewHour":"weekViewHour",o)," ")}}function ma(t,a){if(1&t&&(n.TgZ(0,"div",2),n.ALo(1,"calendarA11y"),n.YNc(2,pa,3,5,"div",3),n.qZA()),2&t){const e=a.segment,r=a.isTimeLabel,o=a.daysInWeek;n.Udp("height",a.segmentHeight,"px"),n.ekj("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),n.Q6J("ngClass",e.cssClass),n.uIk("aria-hidden",n.xi3(1,9,n.DdM(12,oe),1===o?"hideDayHourSegment":"hideWeekHourSegment")),n.xp6(2),n.Q6J("ngIf",r)}}function ha(t,a){}const va=function(t,a,e,i,r){return{segment:t,locale:a,segmentHeight:e,isTimeLabel:i,daysInWeek:r}};function fa(t,a){if(1&t&&n._UZ(0,"div",3),2&t){const e=n.oxw().topPx;n.Udp("top",e,"px")}}function ga(t,a){1&t&&n.YNc(0,fa,1,2,"div",2),2&t&&n.Q6J("ngIf",a.isVisible)}function wa(t,a){}const ya=function(t,a,e,i,r,o,l){return{columnDate:t,dayStartHour:a,dayStartMinute:e,dayEndHour:i,dayEndMinute:r,isVisible:o,topPx:l}};let Ft=(()=>{class t{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,i){if(1&e&&(n.YNc(0,ri,1,1,"ng-template",null,0,n.W1O),n.YNc(2,oi,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.WLB(2,li,i.event,i.trackByActionId))}},directives:function(){return[g.tP,g.O5,g.sg,g.mk,ee,xe]},pipes:function(){return[te]},encapsulation:2}),t})(),Bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(1&e&&(n.YNc(0,si,3,10,"ng-template",null,0,n.W1O),n.YNc(2,di,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.WLB(2,ci,i.event,i.view))}},directives:function(){return[g.tP]},pipes:function(){return[tt,te]},encapsulation:2}),t})(),Ca=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(1&e&&(n.YNc(0,ui,3,2,"ng-template",null,0,n.W1O),n.YNc(2,pi,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.kEZ(2,mi,i.contents,i.placement,i.event))}},directives:[g.tP,g.mk],encapsulation:2}),t})(),It=(()=>{class t{constructor(e,i,r,o,l,s){this.elementRef=e,this.injector=i,this.renderer=r,this.viewContainerRef=l,this.document=s,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new L.xQ,this.tooltipFactory=o.resolveComponentFactory(Ca)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,cn.of)("now"):(0,un.H)(this.delay)).pipe((0,Q.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function dn(t,a,e,i,r){var o=Array.isArray(e)?e:e.split(sn),l=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=a.classList,c=function(D){var T=D.split("-"),b=T[0],_=T[1],x=[];return r&&(x.push(r+"-"+b),_&&x.push(r+"-"+b+"-"+_),x.forEach(function(S){s.add(S)})),x};r&&l.forEach(function(D){s.remove(r+"-"+D)});var d=o.findIndex(function(D){return"auto"===D});d>=0&&l.forEach(function(D){null==o.find(function(T){return-1!==T.search("^"+D)})&&o.splice(d++,1,D)});var u=a.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";for(var h,C=!1,p=0,w=o;p<w.length;p++){var k=c(h=w[p]);if(mt.positionElements(t,a,h,i)){C=!0;break}r&&k.forEach(function(D){s.remove(D)})}return C||(c(h=o[0]),mt.positionElements(t,a,h,i)),h}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.zs3),n.Y36(n.Qsj),n.Y36(n._Vd),n.Y36(n.s_b),n.Y36(g.K0))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){1&e&&n.NdJ("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{placement:["tooltipPlacement","placement"],delay:["tooltipDelay","delay"],contents:["mwlCalendarTooltip","contents"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"]},features:[n.TTD]}),t})();class ${}var K=(()=>{return(t=K||(K={})).Month="month",t.Week="week",t.Day="day",K;var t})();const Yt=t=>function En(t,a){var e=!0;function i(r,o){a(r,o),e=!1}return Array.isArray(t)?(t.forEach(function(r){r.start?r.start instanceof Date||i(j.StartPropertyNotDate,r):i(j.StartPropertyMissing,r),r.end&&(r.end instanceof Date||i(j.EndPropertyNotDate,r),r.start>r.end&&i(j.EndsBeforeStart,r))}),e):(a(j.NotArray,t),!1)}(t,(...e)=>console.warn("angular-calendar",...e));function Zt(t,a){return Math.floor(t.left)<=Math.ceil(a.left)&&Math.floor(a.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(a.right)&&Math.floor(a.right)<=Math.ceil(t.right)}function Pt(t,a){return Math.round(t/a)*a}const Nt=(t,a)=>a.id?a.id:a,je=(t,a)=>a.date.toISOString(),Ta=(t,a)=>a.date.toISOString(),ka=(t,a)=>a.segments[0].date.toISOString(),ba=(t,a)=>a.event.id?a.event.id:a.event,xa=(t,a)=>a.event.id?a.event.id:a.event;function Ge(t,a,e,i,r){const o=Pt(t,i||e),l=function Sa(t,a,e){return(e||60)/(t*a)}(a,e,r);return o*l}function Jt(t,a,e){return a.end?a.end:t.addMinutes(a.start,e)}function I(t,a,e,i){let r=0,o=0;const l=e<0?t.subDays:t.addDays;let s=a;for(;o<=Math.abs(e);){s=l(a,r);const c=t.getDay(s);-1===i.indexOf(c)&&o++,r++}return s}function qe(t,a,e,i=[],r){let o=r?t.startOfDay(a):t.startOfWeek(a,{weekStartsOn:e});const l=t.endOfWeek(a,{weekStartsOn:e});for(;i.indexOf(t.getDay(o))>-1&&o<l;)o=t.addDays(o,1);if(r)return{viewStart:o,viewEnd:t.endOfDay(I(t,o,r-1,i))};{let s=l;for(;i.indexOf(t.getDay(s))>-1&&s>o;)s=t.subDays(s,1);return{viewStart:o,viewEnd:s}}}function Ke({x:t,y:a}){return Math.abs(t)>1||Math.abs(a)>1}let Aa=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new n.vpe}onClick(){const e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===K.Day?I(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===K.Week&&this.daysInWeek?I(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36($))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),Ha=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new n.vpe}onClick(){const e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===K.Day?I(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===K.Week&&this.daysInWeek?I(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36($))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){1&e&&n.NdJ("click",function(){return i.onClick()})},inputs:{excludeDays:"excludeDays",view:"view",viewDate:"viewDate",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),Wa=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return(0,g.p6)(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return(0,g.p6)(e,"d",i)}monthViewTitle({date:e,locale:i}){return(0,g.p6)(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return(0,g.p6)(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return(0,g.p6)(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:r,excludeDays:o,daysInWeek:l}){const{viewStart:s,viewEnd:c}=qe(this.dateAdapter,e,r,o,l),d=(u,h)=>(0,g.p6)(u,"MMM d"+(h?", yyyy":""),i);return`${d(s,s.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:i}){return(0,g.p6)(e,"h a",i)}dayViewHour({date:e,locale:i}){return(0,g.p6)(e,"h a",i)}dayViewTitle({date:e,locale:i}){return(0,g.p6)(e,"EEEE, MMMM d, y",i)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG($))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),be=(()=>{class t extends Wa{}return t.\u0275fac=function(){let a;return function(i){return(a||(a=n.n5z(t)))(i||t)}}(),t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),he=(()=>{class t{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,r=this.locale,o=0,l=[],s){if(void 0===this.dateFormatter[i]){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(be.prototype)).filter(d=>"constructor"!==d);throw new Error(`${i} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:r,weekStartsOn:o,excludeDays:l,daysInWeek:s})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(be,16),n.Y36(n.soG,16))},t.\u0275pipe=n.Yjl({name:"calendarDate",type:t,pure:!0}),t})();class et{month(a,e){return a.title}monthTooltip(a,e){return a.title}week(a,e){return a.title}weekTooltip(a,e){return a.title}day(a,e){return a.title}dayTooltip(a,e){return a.title}}let tt=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,i,r){return this.calendarEventTitle[i](r,e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(et,16))},t.\u0275pipe=n.Yjl({name:"calendarEventTitle",type:t,pure:!0}),t})(),ee=(()=>{class t{constructor(e,i,r){this.renderer=e,this.elm=i,this.document=r,this.clickListenerDisabled=!1,this.click=new n.vpe,this.destroy$=new L.xQ}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,Q.R)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new le.y(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(g.K0))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),t})(),xe=(()=>{class t{constructor(e,i,r){this.host=e,this.ngZone=i,this.renderer=r,this.keydown=new n.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(n.Qsj))},t.\u0275dir=n.lG2({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),t})(),Ee=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return function kn(t,a){var e=a.events,i=void 0===e?[]:e,r=a.viewDate,o=a.weekStartsOn,l=a.excluded,s=void 0===l?[]:l,c=a.viewStart,d=void 0===c?t.startOfMonth(r):c,u=a.viewEnd,h=void 0===u?t.endOfMonth(r):u,C=a.weekendDays;i||(i=[]);for(var m,w=t.endOfWeek,k=t.differenceInDays,D=t.startOfDay,T=t.addHours,b=t.endOfDay,_=t.isSameMonth,x=t.getDay,H=(0,t.startOfWeek)(d,{weekStartsOn:o}),W=w(h,{weekStartsOn:o}),M=de(t,{events:i,periodStart:H,periodEnd:W}),E=[],v=function(dt){var R;if(m?(R=D(T(m,24)),m.getTime()===R.getTime()&&(R=D(T(m,25))),m=R):R=m=H,!s.some(function(ct){return x(R)===ct})){var V=gt(t,{date:R,weekendDays:C}),Oe=de(t,{events:M,periodStart:D(R),periodEnd:b(R)});V.inMonth=_(R,r),V.events=Oe,V.badgeTotal=Oe.length,E.push(V)}},f=0;f<k(W,H)+1;f++)v();var A=[],O=7-s.length;if(O<7)for(f=0;f<E.length;f+=O){var Me=E.slice(f,f+O);Me.some(function(R){return d<=R.date&&R.date<h})&&(A=vt(A,Me))}else A=E;var st=Math.floor(A.length/O),fe=[];for(f=0;f<st;f++)fe.push(f*O);return{rowOffsets:fe,totalDaysVisibleInWeek:O,days:A,period:{start:A[0].date,end:b(A[A.length-1].date),events:M}}}(this.dateAdapter,e)}getWeekViewHeader(e){return ze(this.dateAdapter,e)}getWeekView(e){return function Tn(t,a){var e=a.events,i=void 0===e?[]:e,r=a.viewDate,o=a.weekStartsOn,l=a.excluded,s=void 0===l?[]:l,c=a.precision,d=void 0===c?"days":c,u=a.absolutePositionedEvents,h=void 0!==u&&u,C=a.hourSegments,p=a.hourDuration,w=a.dayStart,k=a.dayEnd,D=a.weekendDays,T=a.segmentHeight,b=a.minimumEventHeight,_=a.viewStart,x=void 0===_?t.startOfWeek(r,{weekStartsOn:o}):_,S=a.viewEnd,H=void 0===S?t.endOfWeek(r,{weekStartsOn:o}):S;i||(i=[]);var M=t.endOfDay,E=de(t,{events:i,periodStart:x=(0,t.startOfDay)(x),periodEnd:H=M(H)}),m=ze(t,{viewDate:r,weekStartsOn:o,excluded:s,weekendDays:D,viewStart:x,viewEnd:H});return{allDayEventRows:Dn(t,{events:E,excluded:s,precision:d,absolutePositionedEvents:h,viewStart:x,viewEnd:H}),period:{events:E,start:m[0].date,end:M(m[m.length-1].date)},hourColumns:_n(t,{events:i,viewDate:r,hourSegments:C,hourDuration:p,dayStart:w,dayEnd:k,weekStartsOn:o,excluded:s,weekendDays:D,segmentHeight:T,viewStart:x,viewEnd:H,minimumEventHeight:b})}}(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG($))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),Se=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`\n        ${(0,g.p6)(e.date,"EEEE MMMM d",i)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,g.p6)(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`\n      Beginning of expanded view for ${(0,g.p6)(e,"EEEE MMMM dd",i)}\n    `}openDayEventsAlert({date:e,locale:i}){return`${(0,g.p6)(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:i});const r=`\n      ${(0,g.p6)(e.start,"EEEE MMMM dd",i)},\n      ${e.title}, from ${(0,g.p6)(e.start,"hh:mm a",i)}\n    `;return e.end?r+` to ${(0,g.p6)(e.end,"hh:mm a",i)}`:r}allDayEventDescription({event:e,locale:i}){const r=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,g.p6)(e.start,"MMMM dd hh:mm a",i)}\n    `;return e.end?r+`, stop time ${(0,g.p6)(e.end,"MMMM d hh:mm a",i)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(g.Gx))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),te=(()=>{class t{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[i]){const r=Object.getOwnPropertyNames(Object.getPrototypeOf(Se.prototype)).filter(o=>"constructor"!==o);throw new Error(`${i} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[i](e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(Se,16),n.Y36(n.soG,16))},t.\u0275pipe=n.Yjl({name:"calendarA11y",type:t,pure:!0}),t})();new n.OlP("Moment");var Z=(()=>{return(t=Z||(Z={})).Drag="drag",t.Drop="drop",t.Resize="resize",Z;var t})();let ve=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||et,i.dateFormatter||be,i.utils||Ee,i.a11y||Se]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[g.Gx],imports:[[g.ez]]}),t})(),za=(()=>{class t{constructor(e,i,r,o){this.cdr=e,this.utils=i,this.dateAdapter=o,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new n.vpe,this.dayClicked=new n.vpe,this.eventClicked=new n.vpe,this.columnHeaderClicked=new n.vpe,this.eventTimesChanged=new n.vpe,this.trackByRowOffset=(l,s)=>this.view.days.slice(s,this.view.totalDaysVisibleInWeek).map(c=>c.date.toISOString()).join("-"),this.trackByDate=(l,s)=>s.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&Yt(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(r=>{i&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,i,r){if(e!==r){const o=this.dateAdapter.getYear(e.date),l=this.dateAdapter.getMonth(e.date),s=this.dateAdapter.getDate(e.date),c=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,o),l),s);let d;if(i.end){const u=this.dateAdapter.differenceInSeconds(c,i.start);d=this.dateAdapter.addSeconds(i.end,u)}this.eventTimesChanged.emit({event:i,newStart:c,newEnd:d,day:e,type:Z.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));const i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(Ee),n.Y36(n.soG),n.Y36($))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-month-view"]],inputs:{events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",locale:"locale",viewDate:"viewDate",activeDay:"activeDay",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[n.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"mwl-calendar-month-view-header",1),n.NdJ("columnHeaderClicked",function(o){return i.columnHeaderClicked.emit(o)}),n.qZA(),n.TgZ(2,"div",2),n.YNc(3,vi,5,13,"div",3),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),n.xp6(2),n.Q6J("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},directives:function(){return[Ra,g.sg,Fa,Ue,La,g.mk,g.PC,ee,xe]},pipes:function(){return[g.OU,te]},encapsulation:2}),t})(),Ra=(()=>{class t{constructor(){this.columnHeaderClicked=new n.vpe,this.trackByWeekDayHeaderDate=je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(e,i){if(1&e&&(n.YNc(0,gi,2,2,"ng-template",null,0,n.W1O),n.YNc(2,wi,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.kEZ(2,yi,i.days,i.locale,i.trackByWeekDayHeaderDate))}},directives:[g.tP,g.sg,g.mk],pipes:[he],encapsulation:2}),t})(),La=(()=>{class t{constructor(){this.highlightDay=new n.vpe,this.unhighlightDay=new n.vpe,this.eventClicked=new n.vpe,this.trackByEventId=Nt,this.validateDrag=Ke}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){2&e&&n.ekj("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(e,i){if(1&e&&(n.YNc(0,bi,8,14,"ng-template",null,0,n.W1O),n.YNc(2,xi,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.rFY(2,Ei,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},directives:[g.tP,g.O5,g.sg,$e,g.PC,g.mk,It,ee],pipes:[te,he,tt],encapsulation:2}),t})();const Va=(0,J.X$)("collapse",[(0,J.SB)("void",(0,J.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,J.SB)("*",(0,J.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,J.eR)("* => void",(0,J.jt)("150ms ease-out")),(0,J.eR)("void => *",(0,J.jt)("150ms ease-in"))]);let Fa=(()=>{class t{constructor(){this.isOpen=!1,this.eventClicked=new n.vpe,this.trackByEventId=Nt,this.validateDrag=Ke}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-open-day-events"]],inputs:{isOpen:"isOpen",locale:"locale",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(e,i){if(1&e&&(n.YNc(0,Ai,1,1,"ng-template",null,0,n.W1O),n.YNc(2,Hi,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.qbA(2,Wi,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},directives:[g.tP,g.O5,g.sg,$e,g.mk,g.PC,Bt,ee,xe,Ft],pipes:[te],encapsulation:2,data:{animation:[Va]}}),t})(),$t=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,_e,ve],_e]}),t})();class Ba{constructor(a,e){this.dragContainerElement=a,this.startPosition=e.getBoundingClientRect()}validateDrag({x:a,y:e,snapDraggedEvents:i,dragAlreadyMoved:r,transform:o}){const l=Ke({x:a,y:e})||r;if(i){const s=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(l){const c=this.dragContainerElement.getBoundingClientRect(),d=c.top<s.top&&s.top<c.bottom,u=c.top<s.bottom&&s.bottom<c.bottom;return Zt(c,s)&&(d||u)}return!1}return l}}class Ia{constructor(a,e,i){this.resizeContainerElement=a,this.minWidth=e,this.rtl=i}validateResize({rectangle:a,edges:e}){return this.rtl&&(void 0!==e.left?(a.left-=e.left,a.right+=e.left):void 0!==e.right&&(a.left+=e.right,a.right-=e.right),a.width=a.right-a.left),!(this.minWidth&&Math.ceil(a.width)<Math.ceil(this.minWidth))&&function _a(t,a){return Zt(t,a)&&function Da(t,a){return Math.floor(t.top)<=Math.ceil(a.top)&&Math.floor(a.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(a.bottom)&&Math.floor(a.bottom)<=Math.ceil(t.bottom)}(t,a)}(this.resizeContainerElement.getBoundingClientRect(),a)}}let Ut=(()=>{class t{constructor(e,i,r,o,l){this.cdr=e,this.utils=i,this.dateAdapter=o,this.element=l,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new n.vpe,this.eventClicked=new n.vpe,this.eventTimesChanged=new n.vpe,this.beforeViewRender=new n.vpe,this.hourSegmentClicked=new n.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=je,this.trackByHourSegment=Ta,this.trackByHour=ka,this.trackByWeekAllDayEvent=ba,this.trackByWeekTimeEvent=xa,this.trackByHourColumn=(s,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(s,c)=>c.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const i=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;i&&this.refreshHeader(),e.events&&Yt(this.events),r&&this.refreshBody(),(i||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl="undefined"!=typeof window&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,i,r){this.timeEventResizes.set(i.event,r),this.resizeStarted(e,i)}timeEventResizing(e,i){this.timeEventResizes.set(e.event,i);const r=new Map,o=[...this.events];this.timeEventResizes.forEach((l,s)=>{const c=this.getTimeEventResizedDates(s,l),d=Object.assign(Object.assign({},s),c);r.set(d,s);const u=o.indexOf(s);o[u]=d}),this.restoreOriginalEvents(o,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const i=this.timeEventResizes.get(e.event);if(i){this.timeEventResizes.delete(e.event);const r=this.getTimeEventResizedDates(e.event,i);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:Z.Resize})}}allDayEventResizeStarted(e,i,r){this.allDayEventResizes.set(i,{originalOffset:i.offset,originalSpan:i.span,edge:void 0!==r.edges.left?"left":"right"}),this.resizeStarted(e,i,this.getDayColumnWidth(e))}allDayEventResizing(e,i,r){const o=this.allDayEventResizes.get(e),l=this.rtl?-1:1;if(void 0!==i.edges.left){const s=Math.round(+i.edges.left/r)*l;e.offset=o.originalOffset+s,e.span=o.originalSpan-s}else if(void 0!==i.edges.right){const s=Math.round(+i.edges.right/r)*l;e.span=o.originalSpan+s}}allDayEventResizeEnded(e){const i=this.allDayEventResizes.get(e);if(i){const r="left"===i.edge;let o;o=r?e.offset-i.originalOffset:e.span-i.originalSpan,e.offset=i.originalOffset,e.span=i.originalSpan;const l=this.getAllDayEventResizedDates(e.event,o,r);this.eventTimesChanged.emit({newStart:l.start,newEnd:l.end,event:e.event,type:Z.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,i,r){(function Oa(t,a,e,i){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==i||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)})(e,0,r,this.calendarId)&&this.lastDragEnterDate.getTime()===i.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Z.Drop,event:e.dropData.event,newStart:i,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,i,r,o){this.dayColumnWidth=this.getDayColumnWidth(e);const l=new Ba(e,i);this.validateDrag=({x:s,y:c,transform:d})=>{const u=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&l.validateDrag({x:s,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(u&&this.validateEventTimesChanged){const h=this.getDragMovedEventTimes(r,{x:s,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:Z.Drag,event:r.event,newStart:h.start,newEnd:h.end})}return u},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(s=>{const c=s.events.find(d=>d.event===r.event&&d!==r);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(e,i){const r=this.getDragMovedEventTimes(e,i,this.dayColumnWidth,!0),o=e.event,l=Object.assign(Object.assign({},o),r),s=this.events.map(c=>c===o?l:c);this.restoreOriginalEvents(s,new Map([[l,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,i,r,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:l,end:s}=this.getDragMovedEventTimes(e,i,r,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function Ma(t,a,e){const i=a||t;return e.start<=t&&t<=e.end||e.start<=i&&i<=e.end}(l,s,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:l,newEnd:s,event:e.event,type:Z.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},qe(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},qe(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,i,r,o){const l=Pt(i.x,r)/r*(this.rtl?-1:1),s=o?Ge(i.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(I(this.dateAdapter,e.event.start,l,this.excludeDays),s);let d;return e.event.end&&(d=this.dateAdapter.addMinutes(I(this.dateAdapter,e.event.end,l,this.excludeDays),s)),{start:c,end:d}}restoreOriginalEvents(e,i,r=!0){const o=this.view;r&&(this.view=this.getWeekView(e));const l=e.filter(s=>i.has(s));this.view.hourColumns.forEach((s,c)=>{o.hourColumns[c].hours.forEach((d,u)=>{d.segments.forEach((h,C)=>{s.hours[u].segments[C].cssClass=h.cssClass})}),l.forEach(d=>{const u=i.get(d),h=s.events.find(C=>C.event===(r?d:u));h?(h.event=u,h.tempEvent=d,r||(h.height=0,h.width=0)):s.events.push({event:u,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),i.clear()}getTimeEventResizedDates(e,i){const r={start:e.start,end:Jt(this.dateAdapter,e,this.minimumEventHeight)},l=(0,Qe._T)(e,["end"]),s={start:this.dateAdapter.addMinutes(r.end,-1*this.minimumEventHeight),end:Jt(this.dateAdapter,l,this.minimumEventHeight)},c=this.rtl?-1:1;if(void 0!==i.edges.left){const d=Math.round(+i.edges.left/this.dayColumnWidth)*c,u=I(this.dateAdapter,r.start,d,this.excludeDays);r.start=u<s.start?u:s.start}else if(void 0!==i.edges.right){const d=Math.round(+i.edges.right/this.dayColumnWidth)*c,u=I(this.dateAdapter,r.end,d,this.excludeDays);r.end=u>s.end?u:s.end}if(void 0!==i.edges.top){const d=Ge(i.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(r.start,d);r.start=u<s.start?u:s.start}else if(void 0!==i.edges.bottom){const d=Ge(i.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(r.end,d);r.end=u>s.end?u:s.end}return r}resizeStarted(e,i,r){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new Ia(e,r,this.rtl);this.validateResize=({rectangle:l,edges:s})=>{const c=o.validateResize({rectangle:Object.assign({},l),edges:s});if(c&&this.validateEventTimesChanged){let d;if(r){const u=this.rtl?-1:1;if(void 0!==s.left){const h=Math.round(+s.left/r)*u;d=this.getAllDayEventResizedDates(i.event,h,!this.rtl)}else{const h=Math.round(+s.right/r)*u;d=this.getAllDayEventResizedDates(i.event,h,this.rtl)}}else d=this.getTimeEventResizedDates(i.event,{rectangle:l,edges:s});return this.validateEventTimesChanged({type:Z.Resize,event:i.event,newStart:d.start,newEnd:d.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(e,i,r){let o=e.start,l=e.end||e.start;return r?o=I(this.dateAdapter,o,i,this.excludeDays):l=I(this.dateAdapter,l,i,this.excludeDays),{start:o,end:l}}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(Ee),n.Y36(n.soG),n.Y36($),n.Y36(n.SBq))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{events:"events",excludeDays:"excludeDays",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",precision:"precision",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",locale:"locale",viewDate:"viewDate",refresh:"refresh",tooltipTemplate:"tooltipTemplate",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays",hourDuration:"hourDuration",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[n.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"mwl-calendar-week-view-header",1),n.NdJ("dayHeaderClicked",function(o){return i.dayHeaderClicked.emit(o)})("eventDropped",function(o){return i.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return i.dateDragEnter(o.date)}),n.qZA(),n.YNc(2,Pi,6,5,"div",2),n.TgZ(3,"div",3),n.NdJ("dragEnter",function(){return i.dragEnter("time")})("dragLeave",function(){return i.dragLeave("time")}),n.YNc(4,$i,2,2,"div",4),n.TgZ(5,"div",5,6),n.YNc(7,ia,5,13,"div",7),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("days",i.days)("locale",i.locale)("customTemplate",i.headerTemplate),n.xp6(1),n.Q6J("ngIf",i.view.allDayEventRows.length>0),n.xp6(2),n.Q6J("ngIf",i.view.hourColumns.length>0&&1!==i.daysInWeek),n.xp6(1),n.ekj("cal-resize-active",i.timeEventResizes.size>0),n.xp6(2),n.Q6J("ngForOf",i.view.hourColumns)("ngForTrackBy",i.trackByHourColumn))},directives:function(){return[Ya,g.O5,Ue,g.sg,g.tP,Wt,$e,g.mk,Za,ti,Pa,Na,ee]},encapsulation:2}),t})(),Ya=(()=>{class t{constructor(){this.dayHeaderClicked=new n.vpe,this.eventDropped=new n.vpe,this.dragEnter=new n.vpe,this.trackByWeekDayHeaderDate=je}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,i){if(1&e&&(n.YNc(0,ra,2,2,"ng-template",null,0,n.W1O),n.YNc(2,oa,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.HTZ(2,la,i.days,i.locale,i.dayHeaderClicked,i.eventDropped,i.dragEnter,i.trackByWeekDayHeaderDate))}},directives:[g.tP,g.sg,Ue,g.mk,ee],pipes:[he],encapsulation:2}),t})(),Za=(()=>{class t{constructor(){this.eventClicked=new n.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,i){if(1&e&&(n.YNc(0,da,6,26,"ng-template",null,0,n.W1O),n.YNc(2,ca,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.rFY(2,ua,[i.weekEvent,i.tooltipPlacement,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDisabled,i.tooltipDelay,i.column,i.daysInWeek]))}},directives:[g.tP,g.PC,It,ee,xe,Ft,Bt],pipes:[tt,te],encapsulation:2}),t})(),Pa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,i){if(1&e&&(n.YNc(0,ma,3,13,"ng-template",null,0,n.W1O),n.YNc(2,ha,0,0,"ng-template",1)),2&e){const r=n.MAs(1);n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.qbA(2,va,i.segment,i.locale,i.segmentHeight,i.isTimeLabel,i.daysInWeek))}},directives:[g.tP,g.mk,g.O5],pipes:[te,he],encapsulation:2}),t})(),Na=(()=>{class t{constructor(e,i){this.dateAdapter=e,this.zone=i,this.columnDate$=new pn.X(void 0),this.marker$=this.zone.onStable.pipe((0,Ae.w)(()=>(0,mn.F)(6e4)),(0,ht.O)(0),function hn(t,a){return a?(0,Ae.w)(()=>t,a):(0,Ae.w)(()=>t)}(this.columnDate$),(0,z.U)(r=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),l=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),s=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(r,c)&&c>=o&&c<=l,top:this.dateAdapter.differenceInMinutes(c,o)*s}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36($),n.Y36(n.R0b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[n.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,i){if(1&e&&(n.YNc(0,ga,1,1,"ng-template",null,0,n.W1O),n.YNc(2,wa,0,0,"ng-template",1),n.ALo(3,"async"),n.ALo(4,"async")),2&e){const r=n.MAs(1);let o;n.xp6(2),n.Q6J("ngTemplateOutlet",i.customTemplate||r)("ngTemplateOutletContext",n.Hh0(6,ya,i.columnDate,i.dayStartHour,i.dayStartMinute,i.dayEndHour,i.dayEndMinute,null==(o=n.lcZ(3,2,i.marker$))?null:o.isVisible,null==(o=n.lcZ(4,4,i.marker$))?null:o.top))}},directives:[g.tP,g.O5],pipes:[g.Ov],encapsulation:2}),t})(),nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,zt,_e,ve],zt,_e]}),t})(),Ja=(()=>{class t{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new n.vpe,this.hourSegmentClicked=new n.vpe,this.eventTimesChanged=new n.vpe,this.beforeViewRender=new n.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["mwl-calendar-day-view"]],inputs:{events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",snapDraggedEvents:"snapDraggedEvents",viewDate:"viewDate",hourDuration:"hourDuration",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipTemplate:"tooltipTemplate",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(e,i){1&e&&(n.TgZ(0,"mwl-calendar-week-view",0),n.NdJ("eventClicked",function(o){return i.eventClicked.emit(o)})("hourSegmentClicked",function(o){return i.hourSegmentClicked.emit(o)})("eventTimesChanged",function(o){return i.eventTimesChanged.emit(o)})("beforeViewRender",function(o){return i.beforeViewRender.emit(o)}),n.qZA()),2&e&&n.Q6J("daysInWeek",1)("viewDate",i.viewDate)("events",i.events)("hourSegments",i.hourSegments)("hourDuration",i.hourDuration)("hourSegmentHeight",i.hourSegmentHeight)("minimumEventHeight",i.minimumEventHeight)("dayStartHour",i.dayStartHour)("dayStartMinute",i.dayStartMinute)("dayEndHour",i.dayEndHour)("dayEndMinute",i.dayEndMinute)("refresh",i.refresh)("locale",i.locale)("eventSnapSize",i.eventSnapSize)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDelay",i.tooltipDelay)("hourSegmentTemplate",i.hourSegmentTemplate)("eventTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("snapDraggedEvents",i.snapDraggedEvents)("allDayEventsLabelTemplate",i.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",i.currentTimeMarkerTemplate)("validateEventTimesChanged",i.validateEventTimesChanged)},directives:[Ut],encapsulation:2}),t})(),Qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,ve,nt]]}),t})(),$a=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||et,i.dateFormatter||be,i.utils||Ee,i.a11y||Se]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[ve,$t,nt,Qt],ve,$t,nt,Qt]}),t})();var Y=y(15439),Xa=y(7057),ja=y(68723),Xt=y(3299),Ga=y(34258);var ne=y(48966),tr=y(95343),nr=y(43496),ir=y(93093);const it=function ar(t,a,e){(void 0!==e&&!(0,ir.Z)(t[a],e)||void 0===e&&!(a in t))&&(0,nr.Z)(t,a,e)};var rr=y(90139),or=y(20634),lr=y(9376),sr=y(68297),dr=y(13121),jt=y(24825),Gt=y(14177),cr=y(78706),qt=y(214);var mr=y(85202),hr=y(42089),Kt=y(71999),vr=y(77079),fr=y(65650),en=Function.prototype.toString,Cr=Object.prototype.hasOwnProperty,Dr=en.call(Object);var kr=y(87583);const at=function br(t,a){if(("constructor"!==a||"function"!=typeof t[a])&&"__proto__"!=a)return t[a]};var xr=y(83276),tn=y(571);const Or=function Mr(t,a,e,i,r,o,l){var s=at(t,e),c=at(a,e),d=l.get(c);if(d)it(t,e,d);else{var u=o?o(s,c,e+"",t,a,l):void 0,h=void 0===u;if(h){var C=(0,Gt.Z)(c),p=!C&&(0,mr.Z)(c),w=!C&&!p&&(0,kr.Z)(c);u=c,C||p||w?(0,Gt.Z)(s)?u=s:function ur(t){return(0,qt.Z)(t)&&(0,cr.Z)(t)}(s)?u=(0,sr.Z)(s):p?(h=!1,u=(0,or.Z)(c,!0)):w?(h=!1,u=(0,lr.Z)(c,!0)):u=[]:function _r(t){if(!(0,qt.Z)(t)||"[object Object]"!=(0,vr.Z)(t))return!1;var a=(0,fr.Z)(t);if(null===a)return!0;var e=Cr.call(a,"constructor")&&a.constructor;return"function"==typeof e&&e instanceof e&&en.call(e)==Dr}(c)||(0,jt.Z)(c)?(u=s,(0,jt.Z)(s)?u=function Er(t){return(0,xr.Z)(t,(0,tn.Z)(t))}(s):(!(0,Kt.Z)(s)||(0,hr.Z)(s))&&(u=(0,dr.Z)(c))):h=!1}h&&(l.set(c,u),r(u,c,i,o,l),l.delete(c)),it(t,e,u)}},Ar=function nn(t,a,e,i,r){t!==a&&(0,rr.Z)(a,function(o,l){if(r||(r=new tr.Z),(0,Kt.Z)(o))Or(t,a,l,e,nn,i,r);else{var s=i?i(at(t,l),o,l+"",t,a,r):void 0;void 0===s&&(s=o),it(t,l,s)}},tn.Z)};var Hr=y(21531),Wr=y(74810),Rr=function zr(t){return(0,Hr.Z)(function(a,e){var i=-1,r=e.length,o=r>1?e[r-1]:void 0,l=r>2?e[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,l&&(0,Wr.Z)(e[0],e[1],l)&&(o=r<3?void 0:o,r=1),a=Object(a);++i<r;){var s=e[i];s&&t(a,s,i,o)}return a})}(function(t,a,e){Ar(t,a,e)});const Lr=Rr;var ie=y(30277),rt=y(67322),Vr=y(77531),ot=y(86856),an=y(47423);let Fr=(()=>{class t{constructor(e,i,r){this.dialogRef=e,this.event=i,this.fb=r,this.form=this.fb.group({title:null,start:null,end:null})}ngOnInit(){this.form.patchValue(this.event)}save(){this.dialogRef.close(Lr(this.event,this.form.value))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ne.so),n.Y36(ne.WI),n.Y36(U.qu))},t.\u0275cmp=n.Xpm({type:t,selectors:[["fury-calendar-edit"]],decls:28,vars:6,consts:[["matDialogTitle",""],[3,"formGroup"],["fxLayout","column"],["fxFlex","auto"],["matInput","","formControlName","title"],["matInput","","formControlName","start",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatepicker",""],["matInput","","formControlName","end",3,"matDatepicker"],["endDatepicker",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px"],["matDialogClose","","mat-button",""],["mat-raised-button","","color","primary",1,"save",3,"click"]],template:function(e,i){if(1&e&&(n.TgZ(0,"h3",0),n._uU(1),n.qZA(),n.TgZ(2,"mat-dialog-content"),n.TgZ(3,"form",1),n.TgZ(4,"div",2),n.TgZ(5,"mat-form-field",3),n.TgZ(6,"mat-label"),n._uU(7,"Event Name"),n.qZA(),n._UZ(8,"input",4),n.qZA(),n.TgZ(9,"mat-form-field",3),n.TgZ(10,"mat-label"),n._uU(11,"Start Date"),n.qZA(),n._UZ(12,"input",5),n._UZ(13,"mat-datepicker-toggle",6),n._UZ(14,"mat-datepicker",null,7),n.qZA(),n.TgZ(16,"mat-form-field",3),n.TgZ(17,"mat-label"),n._uU(18,"End Date"),n.qZA(),n._UZ(19,"input",8),n._UZ(20,"mat-datepicker-toggle",6),n._UZ(21,"mat-datepicker",null,9),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"mat-dialog-actions",10),n.TgZ(24,"button",11),n._uU(25,"CANCEL"),n.qZA(),n.TgZ(26,"button",12),n.NdJ("click",function(){return i.save()}),n._uU(27,"SAVE"),n.qZA(),n.qZA()),2&e){const r=n.MAs(15),o=n.MAs(22);n.xp6(1),n.hij(" ",i.event.title,"\n"),n.xp6(2),n.Q6J("formGroup",i.form),n.xp6(9),n.Q6J("matDatepicker",r),n.xp6(1),n.Q6J("for",r),n.xp6(6),n.Q6J("matDatepicker",o),n.xp6(1),n.Q6J("for",o)}},directives:[ne.uh,ne.xY,U._Y,U.JL,U.sg,ie.xw,rt.KE,ie.yH,rt.hX,Vr.Nt,U.Fj,U.JJ,U.u,ot.hl,ot.nW,rt.R9,ot.Mq,ne.H8,ie.Wh,ie.SQ,an.lW,ne.ZT],styles:[""]}),t})();var Br=y(57261),Ir=y(25245),Yr=y(3513);function Zr(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-month-view",13),n.NdJ("dayClicked",function(r){return n.CHM(e),n.oxw().dayClicked(r.day)})("eventClicked",function(r){return n.CHM(e),n.oxw().handleEvent("Clicked",r.event)})("eventTimesChanged",function(r){return n.CHM(e),n.oxw().eventTimesChanged(r)}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("activeDayIsOpen",e.activeDayIsOpen)("events",e.events)("refresh",e.refresh)("viewDate",e.viewDate)}}function Pr(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-week-view",14),n.NdJ("eventClicked",function(r){return n.CHM(e),n.oxw().handleEvent("Clicked",r.event)})("eventTimesChanged",function(r){return n.CHM(e),n.oxw().eventTimesChanged(r)}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("events",e.events)("refresh",e.refresh)("viewDate",e.viewDate)}}function Nr(t,a){if(1&t){const e=n.EpF();n.TgZ(0,"mwl-calendar-day-view",14),n.NdJ("eventClicked",function(r){return n.CHM(e),n.oxw().handleEvent("Clicked",r.event)})("eventTimesChanged",function(r){return n.CHM(e),n.oxw().eventTimesChanged(r)}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("events",e.events)("refresh",e.refresh)("viewDate",e.viewDate)}}const Jr=[{path:"",component:(()=>{class t{constructor(e,i){this.dialog=e,this.snackBar=i,this.view="month",this.refresh=new L.xQ,this.activeDayIsOpen=!0,this.viewDate=new Date,this.actions=[{label:'<i class="icon material-icons-outlined">edit</i>',onClick:({event:r})=>{this.handleEvent("Edited",r)}},{label:'<i class="icon material-icons-outlined">delete</i>',onClick:({event:r})=>{const o=this.events.indexOf(r);o>-1&&(this.events=this.events.splice(o,1)),this.snackBar.open("Deleted Event: "+r.title,"UNDO",{duration:3e3}).onAction().subscribe(()=>{this.events.splice(o,0,r)})}}],this.events=[{start:Y().subtract(1,"days").toDate(),end:Y().add(1,"days").toDate(),title:"A 3 day event",color:{primary:"#009688",secondary:"#80CBC4"},actions:this.actions},{start:Y().toDate(),end:Y().toDate(),title:"A draggable one day event",color:{primary:"#03A9F4",secondary:"#81D4FA"},actions:this.actions,draggable:!0},{start:Y().add(9,"days").toDate(),end:Y().add(9,"days").add(1,"week").toDate(),title:"A long event that spans a week",color:{primary:"#E91E63",secondary:"#F48FB1"}},{start:Y().subtract(2,"hours").toDate(),end:Y().toDate(),title:"A draggable and resizable event",color:{primary:"#FF9800",secondary:"#FFCC80"},actions:this.actions,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0}]}handleEvent(e,i){const r=function Ka(t){return(0,Ga.Z)(t,4)}(i);console.log(i),this.dialog.open(Fr,{data:i}).afterClosed().subscribe(l=>{l&&(this.snackBar.open("Changed Event: "+(i=l).title,"UNDO").onAction().subscribe(()=>{i=r,this.refresh.next()}),this.refresh.next())})}dayClicked({date:e,events:i}){Y(this.viewDate).isSame(e,"month")&&(Y(this.viewDate).isSame(e,"day")&&!0===this.activeDayIsOpen||0===i.length?this.activeDayIsOpen=!1:(this.activeDayIsOpen=!0,this.viewDate=e))}eventTimesChanged({event:e,newStart:i,newEnd:r}){e.start=i,e.end=r,this.snackBar.open("Moved Event: '"+e.title+"' to "+r.getDate()+"."+r.getMonth()+"."+r.getFullYear()),this.refresh.next()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(ne.uw),n.Y36(Br.ux))},t.\u0275cmp=n.Xpm({type:t,selectors:[["fury-calendar"]],decls:25,vars:13,consts:[["fxLayout","column",1,"page"],["fxFlex","none","fxLayout","row","fxLayoutAlign","start end",1,"toolbar"],["fxFlex","grow","fxLayout","column","fxLayout.gt-xs","row","fxLayoutAlign","space-between center"],[1,"title"],["fxLayout","column","fxLayout.gt-xs","row","fxLayoutAlign","end center",1,"actions"],[1,"chevrons"],["mat-icon-button","","mwlCalendarPreviousView","",3,"viewDate","view","viewDateChange"],["mat-icon-button","","mwlCalendarNextView","",3,"viewDate","view","viewDateChange"],["fxLayout","row"],["mat-button","",3,"click"],["fxFlex","auto",1,"background",3,"ngSwitch"],[3,"activeDayIsOpen","events","refresh","viewDate","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"events","refresh","viewDate","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"activeDayIsOpen","events","refresh","viewDate","dayClicked","eventClicked","eventTimesChanged"],[3,"events","refresh","viewDate","eventClicked","eventTimesChanged"]],template:function(e,i){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._uU(4),n.ALo(5,"calendarDate"),n.qZA(),n.TgZ(6,"div",4),n.TgZ(7,"div",5),n.TgZ(8,"button",6),n.NdJ("viewDateChange",function(o){return i.viewDate=o}),n.TgZ(9,"mat-icon"),n._uU(10,"chevron_left"),n.qZA(),n.qZA(),n.TgZ(11,"button",7),n.NdJ("viewDateChange",function(o){return i.viewDate=o}),n.TgZ(12,"mat-icon"),n._uU(13,"chevron_right"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"div",8),n.TgZ(15,"button",9),n.NdJ("click",function(){return i.view="month"}),n._uU(16,"MONTH"),n.qZA(),n.TgZ(17,"button",9),n.NdJ("click",function(){return i.view="week"}),n._uU(18,"WEEK"),n.qZA(),n.TgZ(19,"button",9),n.NdJ("click",function(){return i.view="day"}),n._uU(20,"DAY"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"fury-scrollbar",10),n.YNc(22,Zr,1,4,"mwl-calendar-month-view",11),n.YNc(23,Pr,1,3,"mwl-calendar-week-view",12),n.YNc(24,Nr,1,3,"mwl-calendar-day-view",12),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Oqu(n.Dn7(5,9,i.viewDate,i.view+"ViewTitle","en")),n.xp6(4),n.Q6J("viewDate",i.viewDate)("view",i.view),n.xp6(3),n.Q6J("viewDate",i.viewDate)("view",i.view),n.xp6(10),n.Q6J("ngSwitch",i.view),n.xp6(1),n.Q6J("ngSwitchCase","month"),n.xp6(1),n.Q6J("ngSwitchCase","week"),n.xp6(1),n.Q6J("ngSwitchCase","day"))},directives:[ie.xw,ie.yH,ie.Wh,an.lW,Aa,Ir.Hw,Ha,Yr.x,g.RF,g.n9,za,Ut,Ja],pipes:[he],styles:['@charset "UTF-8";.cal-month-view .cal-header{text-align:center;font-weight:bolder}.cal-month-view .cal-header .cal-cell{padding:5px 0;overflow:hidden;text-overflow:ellipsis;display:block;white-space:nowrap}.cal-month-view .cal-days{border:1px solid;border-bottom:0}.cal-month-view .cal-cell-top{min-height:78px;flex:1}.cal-month-view .cal-cell-row{-js-display:flex;display:flex}.cal-month-view .cal-cell{float:left;flex:1;-js-display:flex;display:flex;flex-direction:column;align-items:stretch}.cal-month-view .cal-cell .cal-event{pointer-events:all!important}.cal-month-view .cal-day-cell{min-height:100px}@media all and (-ms-high-contrast: none){.cal-month-view .cal-day-cell{display:block}}.cal-month-view .cal-day-cell:not(:last-child){border-right:1px solid}[dir=rtl] .cal-month-view .cal-day-cell:not(:last-child){border-right:0;border-right:initial;border-left:1px solid}.cal-month-view .cal-days .cal-cell-row{border-bottom:1px solid}.cal-month-view .cal-day-badge{margin-top:18px;margin-left:10px;display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:middle;border-radius:10px}.cal-month-view .cal-day-number{font-size:1.2em;font-weight:400;opacity:.5;margin-top:15px;margin-right:15px;float:right;margin-bottom:10px}.cal-month-view .cal-events{flex:1;align-items:flex-end;margin:3px;line-height:10px;-js-display:flex;display:flex;flex-wrap:wrap}.cal-month-view .cal-event{width:10px;height:10px;border-radius:50%;display:inline-block;margin:2px}.cal-month-view .cal-day-cell.cal-in-month.cal-has-events{cursor:pointer}.cal-month-view .cal-day-cell.cal-out-month .cal-day-number{opacity:.1;cursor:default}.cal-month-view .cal-day-cell.cal-today .cal-day-number{font-size:1.9em}.cal-month-view .cal-open-day-events{padding:15px}.cal-month-view .cal-open-day-events .cal-event{position:relative;top:2px}.cal-month-view .cal-out-month .cal-day-badge,.cal-month-view .cal-out-month .cal-event{opacity:.3}.cal-month-view .cal-draggable{cursor:move}.cal-month-view .cal-drag-active *{pointer-events:none}.cal-month-view .cal-event-title{cursor:pointer}.cal-month-view .cal-event-title:hover{text-decoration:underline}.cal-month-view{background-color:#fff}.cal-month-view .cal-cell-row:hover{background-color:#fafafa}.cal-month-view .cal-cell-row .cal-cell:hover,.cal-month-view .cal-cell.cal-has-events.cal-open{background-color:#ededed}.cal-month-view .cal-days{border-color:#e1e1e1}.cal-month-view .cal-day-cell:not(:last-child){border-right-color:#e1e1e1}[dir=rtl] .cal-month-view .cal-day-cell:not(:last-child){border-right-color:currentColor;border-right-color:initial;border-left-color:#e1e1e1}.cal-month-view .cal-days .cal-cell-row{border-bottom-color:#e1e1e1}.cal-month-view .cal-day-badge{background-color:#b94a48;color:#fff}.cal-month-view .cal-event{background-color:#1e90ff;border-color:#d1e8ff;color:#fff}.cal-month-view .cal-day-cell.cal-weekend .cal-day-number{color:#8b0000}.cal-month-view .cal-day-cell.cal-today{background-color:#e8fde7}.cal-month-view .cal-day-cell.cal-drag-over{background-color:#e0e0e0!important}.cal-month-view .cal-open-day-events{color:#fff;background-color:#555;box-shadow:inset 0 0 15px #00000080}.cal-week-view *{box-sizing:border-box}.cal-week-view .cal-day-headers{-js-display:flex;display:flex;padding-left:70px;border:1px solid}[dir=rtl] .cal-week-view .cal-day-headers{padding-left:0;padding-left:initial;padding-right:70px}.cal-week-view .cal-day-headers .cal-header{flex:1;text-align:center;padding:5px}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right:1px solid}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right:0;border-right:initial;border-left:1px solid}.cal-week-view .cal-day-headers .cal-header:first-child{border-left:1px solid}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:first-child{border-left:0;border-left:initial;border-right:1px solid}.cal-week-view .cal-day-headers span{font-weight:400;opacity:.5}.cal-week-view .cal-day-column{flex-grow:1;border-left:solid 1px}[dir=rtl] .cal-week-view .cal-day-column{border-left:0;border-left:initial;border-right:solid 1px}.cal-week-view .cal-event{font-size:12px;border:1px solid;direction:ltr}.cal-week-view .cal-time-label-column{width:70px;height:100%}.cal-week-view .cal-current-time-marker{position:absolute;width:100%;height:2px;z-index:2}.cal-week-view .cal-all-day-events{border:solid 1px;border-top:0;border-bottom-width:3px;padding-top:3px;position:relative}.cal-week-view .cal-all-day-events .cal-day-columns{height:100%;width:100%;-js-display:flex;display:flex;position:absolute;top:0;z-index:0}.cal-week-view .cal-all-day-events .cal-events-row{position:relative;height:31px;margin-left:70px}[dir=rtl] .cal-week-view .cal-all-day-events .cal-events-row{margin-left:0;margin-left:initial;margin-right:70px}.cal-week-view .cal-all-day-events .cal-event-container{display:inline-block;position:absolute}.cal-week-view .cal-all-day-events .cal-event-container.resize-active{z-index:1;pointer-events:none}.cal-week-view .cal-all-day-events .cal-event{padding:0 5px;margin-left:2px;margin-right:2px;height:28px;line-height:28px}.cal-week-view .cal-all-day-events .cal-starts-within-week .cal-event{border-top-left-radius:5px;border-bottom-left-radius:5px}[dir=rtl] .cal-week-view .cal-all-day-events .cal-starts-within-week .cal-event{border-top-left-radius:0;border-top-left-radius:initial;border-bottom-left-radius:0;border-bottom-left-radius:initial;border-top-right-radius:5px!important;border-bottom-right-radius:5px!important}.cal-week-view .cal-all-day-events .cal-ends-within-week .cal-event{border-top-right-radius:5px;border-bottom-right-radius:5px}[dir=rtl] .cal-week-view .cal-all-day-events .cal-ends-within-week .cal-event{border-top-right-radius:0;border-top-right-radius:initial;border-bottom-right-radius:0;border-bottom-right-radius:initial;border-top-left-radius:5px;border-bottom-left-radius:5px}.cal-week-view .cal-all-day-events .cal-time-label-column{-js-display:flex;display:flex;align-items:center;justify-content:center;font-size:14px}.cal-week-view .cal-all-day-events .cal-resize-handle{width:6px;height:100%;cursor:col-resize;position:absolute;top:0}.cal-week-view .cal-all-day-events .cal-resize-handle.cal-resize-handle-after-end{right:0}[dir=rtl] .cal-week-view .cal-all-day-events .cal-resize-handle.cal-resize-handle-after-end{right:auto;right:initial;left:0}.cal-week-view .cal-event,.cal-week-view .cal-header{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cal-week-view .cal-drag-active{pointer-events:none;z-index:1}.cal-week-view .cal-drag-active *{pointer-events:none}.cal-week-view .cal-time-events{position:relative;border:solid 1px;border-top:0;-js-display:flex;display:flex}.cal-week-view .cal-time-events .cal-day-columns{-js-display:flex;display:flex;flex-grow:1}.cal-week-view .cal-time-events .cal-day-column,.cal-week-view .cal-time-events .cal-events-container{position:relative}.cal-week-view .cal-time-events .cal-event-container{position:absolute;z-index:1}.cal-week-view .cal-time-events .cal-event{width:calc(100% - 2px);height:calc(100% - 2px);margin:1px;padding:0 5px;line-height:25px}.cal-week-view .cal-time-events .cal-resize-handle{width:100%;height:4px;cursor:row-resize;position:absolute}.cal-week-view .cal-time-events .cal-resize-handle.cal-resize-handle-after-end{bottom:0}.cal-week-view .cal-hour-segment{position:relative}.cal-week-view .cal-hour-segment:after{content:"\\a0"}.cal-week-view .cal-event-container:not(.cal-draggable){cursor:pointer}.cal-week-view .cal-draggable{cursor:move}.cal-week-view mwl-calendar-week-view-hour-segment,.cal-week-view .cal-hour-segment{display:block}.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment{border-bottom:thin dashed}.cal-week-view .cal-time{font-weight:700;padding-top:5px;width:70px;text-align:center}.cal-week-view .cal-hour-segment.cal-after-hour-start .cal-time{display:none}.cal-week-view .cal-starts-within-day .cal-event{border-top-left-radius:5px;border-top-right-radius:5px}.cal-week-view .cal-ends-within-day .cal-event{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.cal-week-view{background-color:#fff;border-top:solid 1px #e1e1e1}.cal-week-view .cal-day-headers{border-color:#e1e1e1;border-top:0}.cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right-color:#e1e1e1}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:not(:last-child){border-right-color:currentColor;border-right-color:initial;border-left:solid 1px #e1e1e1!important}.cal-week-view .cal-day-headers .cal-header:first-child{border-left-color:#e1e1e1}[dir=rtl] .cal-week-view .cal-day-headers .cal-header:first-child{border-left-color:currentColor;border-left-color:initial;border-right-color:#e1e1e1}.cal-week-view .cal-day-headers .cal-header:hover,.cal-week-view .cal-day-headers .cal-drag-over{background-color:#ededed}.cal-week-view .cal-day-column{border-left-color:#e1e1e1}[dir=rtl] .cal-week-view .cal-day-column{border-left-color:currentColor;border-left-color:initial;border-right-color:#e1e1e1}.cal-week-view .cal-event{background-color:#d1e8ff;border-color:#1e90ff;color:#1e90ff}.cal-week-view .cal-all-day-events{border-color:#e1e1e1}.cal-week-view .cal-header.cal-today{background-color:#e8fde7}.cal-week-view .cal-header.cal-weekend span{color:#8b0000}.cal-week-view .cal-time-events{border-color:#e1e1e1}.cal-week-view .cal-time-events .cal-day-columns:not(.cal-resize-active) .cal-hour-segment:hover{background-color:#ededed}.cal-week-view .cal-hour-odd{background-color:#fafafa}.cal-week-view .cal-drag-over .cal-hour-segment{background-color:#ededed}.cal-week-view .cal-hour:not(:last-child) .cal-hour-segment,.cal-week-view .cal-hour:last-child :not(:last-child) .cal-hour-segment{border-bottom-color:#e1e1e1}.cal-week-view .cal-current-time-marker{background-color:#ea4334}.cal-day-view mwl-calendar-week-view-header{display:none}.cal-day-view .cal-events-container{margin-left:70px}[dir=rtl] .cal-day-view .cal-events-container{margin-left:0;margin-left:initial;margin-right:70px}.cal-day-view .cal-day-column{border-left:0}.cal-day-view .cal-current-time-marker{margin-left:70px;width:calc(100% - 70px)}[dir=rtl] .cal-day-view .cal-current-time-marker{margin-left:0;margin-left:initial;margin-right:70px}.cal-tooltip{position:absolute;z-index:1070;display:block;font-style:normal;font-weight:400;letter-spacing:normal;line-break:auto;line-height:1.5;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;font-size:11px;word-wrap:break-word;opacity:.9}.cal-tooltip.cal-tooltip-top{padding:5px 0;margin-top:-3px}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0}.cal-tooltip.cal-tooltip-right{padding:0 5px;margin-left:3px}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0}.cal-tooltip.cal-tooltip-bottom{padding:5px 0;margin-top:3px}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px}.cal-tooltip.cal-tooltip-left{padding:0 5px;margin-left:-3px}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px}.cal-tooltip-inner{max-width:200px;padding:3px 8px;text-align:center;border-radius:.25rem}.cal-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.cal-tooltip.cal-tooltip-top .cal-tooltip-arrow{border-top-color:#000}.cal-tooltip.cal-tooltip-right .cal-tooltip-arrow{border-right-color:#000}.cal-tooltip.cal-tooltip-bottom .cal-tooltip-arrow{border-bottom-color:#000}.cal-tooltip.cal-tooltip-left .cal-tooltip-arrow{border-left-color:#000}.cal-tooltip-inner{color:#fff;background-color:#000}fury-calendar .page{height:100%}fury-calendar .toolbar{width:100%;height:200px;min-height:200px;max-height:200px;padding:16px 24px;background:url(/assets/img/backgrounds/calendar.jpg);background-size:cover;color:#fff}fury-calendar .toolbar .title{font:var(--font-headline)}fury-calendar .toolbar .mat-button{margin-left:8px}\n'],encapsulation:2}),t})(),data:{scrollDisabled:!0}}];let $r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[Xt.Bz.forChild(Jr)],Xt.Bz]}),t})();function rn(){return function Qa(t){return(0,Qe.pi)((0,Qe.pi)({},function Ua(t){return{addDays:function a(m,v){return t(m).add(v,"days").toDate()},addHours:function e(m,v){return t(m).add(v,"hours").toDate()},addMinutes:function i(m,v){return t(m).add(v,"minutes").toDate()},addSeconds:function r(m,v){return t(m).add(v,"seconds").toDate()},differenceInDays:function o(m,v){return t(m).diff(t(v),"days")},differenceInMinutes:function l(m,v){return t(m).diff(t(v),"minutes")},differenceInSeconds:function s(m,v){return t(m).diff(t(v),"seconds")},endOfDay:function c(m){return t(m).endOf("day").toDate()},endOfMonth:function d(m){return t(m).endOf("month").toDate()},endOfWeek:function u(m){return t(m).endOf("week").toDate()},getDay:function h(m){return t(m).day()},getMonth:function C(m){return t(m).month()},isSameDay:function p(m,v){return t(m).isSame(t(v),"day")},isSameMonth:function w(m,v){return t(m).isSame(t(v),"month")},isSameSecond:function k(m,v){return t(m).isSame(t(v),"second")},max:function D(m){return t.max(m.map(function(v){return t(v)})).toDate()},setHours:function T(m,v){return t(m).set("hours",v).toDate()},setMinutes:function b(m,v){return t(m).set("minutes",v).toDate()},startOfDay:function _(m){return t(m).startOf("day").toDate()},startOfMinute:function x(m){return t(m).startOf("minute").toDate()},startOfMonth:function S(m){return t(m).startOf("month").toDate()},startOfWeek:function H(m){return t(m).startOf("week").toDate()},getHours:function W(m){return t(m).get("hours")},getMinutes:function M(m){return t(m).get("minutes")},getTimezoneOffset:function E(m){return-1*t(m).utcOffset()}}}(t)),{addWeeks:function(a,e){return t(a).add(e,"weeks").toDate()},addMonths:function(a,e){return t(a).add(e,"months").toDate()},subDays:function(a,e){return t(a).subtract(e,"days").toDate()},subWeeks:function(a,e){return t(a).subtract(e,"weeks").toDate()},subMonths:function(a,e){return t(a).subtract(e,"months").toDate()},getISOWeek:function(a){return t(a).isoWeek()},setDate:function(a,e){return t(a).date(e).toDate()},setMonth:function(a,e){return t(a).month(e).toDate()},setYear:function(a,e){return t(a).year(e).toDate()},getDate:function(a){return t(a).date()},getYear:function(a){return t(a).year()}})}(Y)}let Ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[[g.ez,$r,U.UX,Xa.q,$a.forRoot({provide:$,useFactory:rn}),ja.Y]]}),t})()}}]);