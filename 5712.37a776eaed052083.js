"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[5712],{88914:(b,p,a)=>{a.d(p,{M:()=>i});var t=a(41777);const i=(0,t.X$)("fadeInRight",[(0,t.eR)(":enter",[(0,t.oB)({transform:"translateX(-2vw)",opacity:0}),(0,t.jt)("0.4s cubic-bezier(0.35, 0, 0.25, 1)",(0,t.oB)({transform:"translateX(0)",opacity:1}))])])},14499:(b,p,a)=>{a.d(p,{X:()=>i});var t=a(41777);const i=(0,t.X$)("fadeInUp",[(0,t.eR)(":enter",[(0,t.oB)({transform:"translateY(3vh)",opacity:0}),(0,t.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,t.oB)({transform:"translateY(0)",opacity:1}))])])},37425:(b,p,a)=>{a.d(p,{K:()=>i});var t=a(41777);const i=(0,t.X$)("scaleIn",[(0,t.eR)(":enter",[(0,t.oB)({transform:"scale(0)"}),(0,t.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,t.oB)({transform:"scale(1)"}))])])},38932:(b,p,a)=>{a.d(p,{n:()=>l});var t=a(5e3),i=a(30277),u=a(3299),h=a(69808),_=a(25245);function m(c,g){if(1&c&&(t.TgZ(0,"div",7),t.TgZ(1,"mat-icon",5),t._uU(2,"chevron_right"),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.qZA(),t.qZA()),2&c){const C=g.$implicit;t.xp6(4),t.Oqu(C)}}const v=function(){return["/"]};let l=(()=>{class c{constructor(){this.crumbs=[]}ngOnInit(){}}return c.\u0275fac=function(C){return new(C||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["fury-breadcrumbs"]],inputs:{current:"current",crumbs:"crumbs"},decls:11,vars:5,consts:[[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"crumbs"],[1,"crumb","home",3,"routerLink"],["class","crumb","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb","current"],[1,"chevron"],[1,"link"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb"]],template:function(C,T){1&C&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"a",2),t._uU(4,"Home"),t.qZA(),t.YNc(5,m,5,1,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-icon",5),t._uU(8,"chevron_right"),t.qZA(),t.TgZ(9,"div",6),t._uU(10),t.qZA(),t.qZA(),t.qZA()),2&C&&(t.xp6(1),t.Oqu(T.current),t.xp6(2),t.Q6J("routerLink",t.DdM(4,v)),t.xp6(2),t.Q6J("ngForOf",T.crumbs),t.xp6(5),t.Oqu(T.current))},directives:[i.xw,i.Wh,u.yS,h.sg,_.Hw],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font:var(--font-title);font-weight:400}.crumb[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none;transition:color .4s cubic-bezier(.25,.8,.25,1);font:var(--font-body-1)}.link[_ngcontent-%COMP%]{cursor:pointer}.chevron[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;margin-left:6px;margin-right:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}"]}),c})()},94927:(b,p,a)=>{a.d(p,{n:()=>S});var t=a(5e3),i=a(23753),u=a(75778),h=a(80013),_=a(69808),m=a(92181),v=a(30277),l=a(25245),c=a(47423),g=a(77446),C=a(93075);const T=["filter"];function Z(y,E){if(1&y&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t._uU(2),t.qZA(),t.TgZ(3,"div",7),t.TgZ(4,"mat-icon",8),t._uU(5,"search"),t.qZA(),t._UZ(6,"input",9,10),t.qZA(),t.TgZ(8,"button",11),t.TgZ(9,"mat-icon"),t._uU(10,"filter_list"),t.qZA(),t.qZA(),t.Hsn(11,1),t.qZA()),2&y){const f=t.oxw(),e=t.MAs(3);t.xp6(2),t.Oqu(f.name),t.xp6(6),t.Q6J("matMenuTriggerFor",e)}}function x(y,E){if(1&y){const f=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(A){const P=t.CHM(f).$implicit;return t.oxw().toggleColumnVisibility(P,A)}),t.TgZ(1,"mat-checkbox",13,14),t.NdJ("ngModelChange",function(A){return t.CHM(f).$implicit.visible=A})("click",function(A){return A.stopPropagation()}),t._uU(3),t.qZA(),t.qZA()}if(2&y){const f=E.$implicit;t.xp6(1),t.Q6J("ngModel",f.visible),t.xp6(2),t.hij(" ",f.name," ")}}const D=["*",[["",8,"actions"]]],O=["*",".actions"];let S=(()=>{class y{constructor(){this.filterChange=new t.vpe}ngAfterViewInit(){this.hideHeader||(0,i.R)(this.filter.nativeElement,"keyup").pipe((0,u.x)(),(0,h.b)(150)).subscribe(()=>{this.filterChange.emit(this.filter.nativeElement.value)})}toggleColumnVisibility(f,e){e.stopPropagation(),e.stopImmediatePropagation(),f.visible=!f.visible}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275cmp=t.Xpm({type:y,selectors:[["fury-list"]],viewQuery:function(f,e){if(1&f&&t.Gf(T,5),2&f){let A;t.iGM(A=t.CRH())&&(e.filter=A.first)}},inputs:{name:"name",columns:"columns",hideHeader:"hideHeader"},outputs:{filterChange:"filterChange"},ngContentSelectors:O,decls:6,vars:2,consts:[[1,"fury-list-table"],["class","fury-list-header","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",4,"ngIf"],["yPosition","below","xPosition","before"],["columnFilter","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",1,"fury-list-header"],[1,"fury-list-name"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],[1,"fury-filter-input-icon"],["fxFlex","","placeholder","Search\u2026",1,"fury-filter-input"],["filter",""],["type","button","mat-icon-button","",1,"fury-column-filter",3,"matMenuTriggerFor"],[1,"checkbox-item","mat-menu-item",3,"click"],[1,"checkbox",3,"ngModel","ngModelChange","click"],["checkbox",""]],template:function(f,e){1&f&&(t.F$t(D),t.TgZ(0,"div",0),t.YNc(1,Z,12,2,"div",1),t.TgZ(2,"mat-menu",2,3),t.YNc(4,x,4,2,"button",4),t.qZA(),t.Hsn(5),t.qZA()),2&f&&(t.xp6(1),t.Q6J("ngIf",!e.hideHeader),t.xp6(3),t.Q6J("ngForOf",e.columns))},directives:[_.O5,m.VK,_.sg,v.xw,v.Wh,v.SQ,v.yH,l.Hw,c.lW,m.p6,g.oG,C.JJ,C.On],styles:[".fury-list-table{display:flex;flex-direction:column}.fury-list-table .fury-list-header{padding-left:24px;padding-right:24px;height:64px;border-top-left-radius:8px;border-top-right-radius:8px}@media screen and (max-width: 599px){.fury-list-table .fury-list-header{height:auto;padding-top:24px;padding-bottom:24px}}.fury-list-table .fury-list-header .fury-list-name{font-size:20px;line-height:32px;font-weight:500;padding-right:24px}@media screen and (max-width: 599px){.fury-list-table .fury-list-header .fury-list-name{border-right:none}}.fury-list-table .fury-list-header .fury-filter-input{font-size:16px;line-height:1.125;border:none;height:32px}.fury-list-table .fury-list-header .fury-filter-input:focus{outline:none}.fury-list-table .fury-list-header .fury-filter-input-icon{width:1.2em;vertical-align:bottom;height:22px;font-size:22px;margin-right:8px}.fury-list-table table{width:100%}.fury-list-table .mat-header-row .mat-header-cell .mat-sort-header-button{text-transform:uppercase}.fury-list-table .mat-cell.image-cell,.fury-list-table .mat-header-cell.image-cell{flex:0;width:59px}.fury-list-table .mat-cell.image-cell img,.fury-list-table .mat-header-cell.image-cell img{border-radius:50%;height:35px;width:35px;margin-right:24px;vertical-align:middle}.fury-list-table .mat-cell,.fury-list-table .mat-header-cell{white-space:nowrap;padding-left:12px;padding-right:12px}.fury-list-table .mat-cell.actions-cell,.fury-list-table .mat-header-cell.actions-cell{flex:0;width:40px;overflow:visible}.fury-list-table .paginator{display:block}\n"],encapsulation:2}),y})()},4940:(b,p,a)=>{a.d(p,{p:()=>_});var t=a(69808),i=a(93075),u=a(7057),h=a(5e3);let _=(()=>{class m{}return m.\u0275fac=function(l){return new(l||m)},m.\u0275mod=h.oAB({type:m}),m.\u0275inj=h.cJS({imports:[[t.ez,u.q,i.u5]]}),m})()},19165:(b,p,a)=>{a.d(p,{d:()=>i});var t=a(5e3);let i=(()=>{class u{constructor(){}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=t.lG2({type:u,selectors:[["","furyPageLayoutContent",""],["fury-page-layout-content"]],hostAttrs:[1,"fury-page-layout-content"]}),u})()},53580:(b,p,a)=>{a.d(p,{U:()=>i});var t=a(5e3);let i=(()=>{class u{constructor(){}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=t.lG2({type:u,selectors:[["","furyPageLayoutHeader",""],["fury-page-layout-header"]],hostAttrs:[1,"fury-page-layout-header"]}),u})()},39762:(b,p,a)=>{a.d(p,{N:()=>i});var t=a(5e3);let i=(()=>{class u{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=t.lG2({type:u,selectors:[["","furyPageLayout",""],["fury-page-layout"]],hostAttrs:[1,"fury-page-layout"],hostVars:4,hostBindings:function(_,m){2&_&&t.ekj("fury-page-layout-card",m.isCard)("fury-page-layout-simple",m.isSimple)},inputs:{mode:"mode"}}),u})()},59968:(b,p,a)=>{a.d(p,{i:()=>i});var t=a(5e3);let i=(()=>{class u{constructor(){}}return u.\u0275fac=function(_){return new(_||u)},u.\u0275dir=t.lG2({type:u,selectors:[["","furyPage",""],["fury-page"]],hostAttrs:[1,"fury-page"]}),u})()},25712:(b,p,a)=>{a.r(p),a.d(p,{ModelsTableModule:()=>Te});var t=a(69808),i=a(93075),u=a(61264),h=a(4940),_=a(7057),m=a(72467),v=a(3299),l=a(86087),c=a(84847),g=a(32075),C=a(96831),T=a(92198),Z=a(70655),x=a(48966),D=a(88914),O=a(14499),S=a(37425);class y{constructor(d){this.id=d&&d.id||null,this.NAME=d&&d.NAME||null}}class E{constructor(d){this.id=d&&d.id||null,this.description=d&&d.description||null}}var f=a(5919),e=a(5e3),A=a(57261),U=a(17846),P=a(59968),N=a(36551),k=a(25245),L=a(30277),I=a(67322),R=a(77531),J=a(74107),q=a(47423),W=a(32368),Q=a(4834),K=a(90508);const G=["modelsModalForm"];function Y(n,d){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Se\xf1alar con qu\xe9 nombre ser\xe1 identificado el modelo."),e.qZA())}function j(n,d){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Descripci\xf3n breve del modelo."),e.qZA())}function $(n,d){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.NAME)}}function z(n,d){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const o=d.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.description)}}function X(n,d){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(o.modelsModalForm.get("capacity").getError("numeric"))}}function V(n,d){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(o.modelsModalForm.get("kms_per_liter").getError("numeric"))}}function ee(n,d){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Oqu(o.modelsModalForm.get("engine_hours").getError("numeric"))}}let F=(()=>{class n{constructor(o,s,r,M,w){this.data=o,this.dialogRef=s,this.snackbar=r,this._modelsService=M,this.dialogAddItem=w,this.title="Modelos",this.active_label="Activado",this.companies=[],this.equipmentClasses=[],this.model=new f.H,this.company=new y,this.equipmentClass=new E,s.disableClose=!0,this.modelsModalForm=new i.cw({id:new i.NI,NAME:new i.NI("",[i.kI.required]),status:new i.NI(!0,[i.kI.required]),company_id:new i.NI("",[i.kI.required]),capacity:new i.NI("",[i.kI.required]),kms_per_liter:new i.NI,engine_hours:new i.NI,description:new i.NI("",[i.kI.required]),class_id:new i.NI("",[i.kI.required]),discovered:new i.NI(0)})}ngOnInit(){return(0,Z.mG)(this,void 0,void 0,function*(){this.data&&(this.model=this.data,this.modelsModalForm.setValue({id:this.model.id,NAME:this.model.NAME,status:2==this.model.status,company_id:this.model.company_id,capacity:this.model.capacity,kms_per_liter:this.model.kms_per_liter,engine_hours:this.model.engine_hours,description:this.model.description,class_id:this.model.class_id,discovered:this.model.discovered})),this.companies=yield this.getCompanies(),this.equipmentClasses=yield this.getEquipmentClasses()})}submit(){this.model.NAME=this.modelsModalForm.value.NAME,this.model.status=this.modelsModalForm.value.status?2:0,this.model.company_id=this.modelsModalForm.value.company_id,this.model.capacity=this.modelsModalForm.value.capacity,this.model.kms_per_liter=this.modelsModalForm.value.kms_per_liter,this.model.engine_hours=this.modelsModalForm.value.engine_hours,this.model.description=this.modelsModalForm.value.description,this.model.class_id=this.modelsModalForm.value.class_id,this.model.discovered=this.modelsModalForm.value.discovered,this.model.id>0?this.updateModel():this.createModel()}createModel(){this._modelsService.createModel(this.model).subscribe(o=>{console.log(o),this.model.id=o.id,this.snackbar.open(o.message,null,{duration:5e3,panelClass:["green-snackbar"]}),console.log("Model created",this.model),this.dialogRef.close(this.model)},o=>{this.snackbar.open(o.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}updateModel(){this._modelsService.updateModel(this.model).subscribe(o=>{this.snackbar.open(o.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.model)},o=>{this.snackbar.open(o.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}close(){this.dialogRef.close()}getCompanies(){return(0,Z.mG)(this,void 0,void 0,function*(){return yield this._modelsService.getAllCompanies().toPromise()})}getEquipmentClasses(){return(0,Z.mG)(this,void 0,void 0,function*(){return yield this._modelsService.getAllEquipmentClasses().toPromise()})}numbersDots(o){let s=o.target.value+o.key;return!!new RegExp(/^([1-9][0-9]{0,7}||[0]||[0][.][0-9]{0,2}||[1-9][0-9]{0,7}[.][0-9]{0,2})$/).test(s)}addCompany(){return(0,Z.mG)(this,void 0,void 0,function*(){this.dialogAddItem.open(H,{data:{type:"company"}}).afterClosed().subscribe(o=>{o&&(this.company.NAME=o,this._modelsService.createCompany(this.company).subscribe(s=>{this.snackbar.open(s.message,null,{duration:5e3,panelClass:["green-snackbar"]})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}),this.fillCompanies(),console.log(this.companies))})})}fillCompanies(){return(0,Z.mG)(this,void 0,void 0,function*(){this.companies=yield this.getCompanies(),console.log(this.companies)})}addEquipmentClass(){this.dialogAddItem.open(H,{data:{type:"equipment_class"}}).afterClosed().subscribe(o=>{o&&(this.equipmentClass.description=o,this._modelsService.createEquipmentClass(this.equipmentClass).subscribe(s=>{this.snackbar.open(s.message+s.id,null,{duration:5e3,panelClass:["green-snackbar"]})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}),this.fillEquipmentClasses(),console.log(this.equipmentClasses))})}fillEquipmentClasses(){return(0,Z.mG)(this,void 0,void 0,function*(){this.equipmentClasses=yield this.getEquipmentClasses(),console.log(this.equipmentClasses)})}setActiveModel(o){this.active_label=o.checked?"Activado":"Desactivado",this.model.status=o.checked?2:0}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(x.WI),e.Y36(x.so),e.Y36(A.ux),e.Y36(U.c),e.Y36(x.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fury-form-wizard"]],viewQuery:function(o,s){if(1&o&&e.Gf(G,5),2&o){let r;e.iGM(r=e.CRH())&&(s._focusMe=r.first)}},decls:75,vars:13,consts:[[1,"title"],["fxLayout","column","fxLayoutAlign","start center"],[1,"card"],[3,"formGroup"],[1,"heading"],["fxLayout","row","fxLayoutGap","8px",1,"content",2,"margin-top","20px"],["fxFlex","auto","appearance","outline",2,"max-width","250px"],["formControlName","NAME","matInput","","required",""],[4,"ngIf"],["formControlName","description","matInput","","required",""],["fxLayout","row","fxLayoutGap","8px","appearance","outline",1,"content",2,"margin-top","20px"],["fxFlex","auto","appearance","outline",2,"width","250px"],["formControlName","company_id"],[3,"value",4,"ngFor","ngForOf"],["color","primary","mat-button","","mat-raised-button","","type","button",2,"width","30px","height","50px",3,"click"],["formControlName","class_id"],["fxFlex","auto","appearance","outline"],["formControlName","capacity","matInput","","required","",3,"keypress"],["formControlName","kms_per_liter","matInput","",3,"keypress"],["fxFlex","auto","appearance","outline",1,"field-twocolumns"],["formControlName","engine_hours","matInput","",3,"keypress"],["formControlName","status",2,"margin-top","40px",3,"change"],["fxLayout","column","fxLayoutGap","8px",1,"content",2,"margin-top","20px"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","24px",2,"margin-top","20px"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"],[3,"value"]],template:function(o,s){1&o&&(e.TgZ(0,"fury-page"),e.TgZ(1,"fury-title",0),e.TgZ(2,"mat-icon"),e._uU(3,"branding_watermark"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Modelos"),e.qZA(),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"div",2),e.TgZ(8,"form",3),e.TgZ(9,"div",4),e._uU(10,"Indicar propiedades identificadoras del modelo"),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"mat-form-field",6),e.TgZ(13,"mat-label"),e._uU(14,"Modelo:"),e.qZA(),e._UZ(15,"input",7),e.TgZ(16,"mat-hint"),e._uU(17,"Se\xf1alar con qu\xe9 nombre ser\xe1 identificado el modelo."),e.qZA(),e.YNc(18,Y,2,0,"mat-error",8),e.qZA(),e.TgZ(19,"mat-form-field",6),e.TgZ(20,"mat-label"),e._uU(21,"Descripci\xf3n"),e.qZA(),e._UZ(22,"input",9),e.TgZ(23,"mat-hint"),e._uU(24,"Descripci\xf3n breve del modelo."),e.qZA(),e.YNc(25,j,2,0,"mat-error",8),e.qZA(),e.qZA(),e.TgZ(26,"div",10),e.TgZ(27,"mat-form-field",11),e.TgZ(28,"mat-label"),e._uU(29,"Marca:"),e.qZA(),e.TgZ(30,"mat-select",12),e.YNc(31,$,2,2,"mat-option",13),e.qZA(),e.qZA(),e.TgZ(32,"button",14),e.NdJ("click",function(){return s.addCompany()}),e.TgZ(33,"mat-icon"),e._uU(34,"add_box"),e.qZA(),e.qZA(),e.TgZ(35,"mat-form-field",11),e.TgZ(36,"mat-label"),e._uU(37,"Clase:"),e.qZA(),e.TgZ(38,"mat-select",15),e.YNc(39,z,2,2,"mat-option",13),e.qZA(),e.qZA(),e.TgZ(40,"button",14),e.NdJ("click",function(){return s.addEquipmentClass()}),e.TgZ(41,"mat-icon"),e._uU(42,"add_box"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(43,"div",5),e.TgZ(44,"mat-form-field",16),e.TgZ(45,"mat-label"),e._uU(46,"Capacidad de dep\xf3sito de combustible:"),e.qZA(),e.TgZ(47,"input",17),e.NdJ("keypress",function(M){return s.numbersDots(M)}),e.qZA(),e.TgZ(48,"mat-hint"),e._uU(49,"Cantidad de litros almacenables en el veh\xedculo para su uso (L)"),e.qZA(),e.YNc(50,X,2,1,"mat-error",8),e.qZA(),e.TgZ(51,"mat-form-field",16),e.TgZ(52,"mat-label"),e._uU(53,"Consumo est\xe1ndar por distancia:"),e.qZA(),e.TgZ(54,"input",18),e.NdJ("keypress",function(M){return s.numbersDots(M)}),e.qZA(),e.TgZ(55,"mat-hint"),e._uU(56,"Cantidad de kil\xf3metros rendidos por litro (Km/L)"),e.qZA(),e.YNc(57,V,2,1,"mat-error",8),e.qZA(),e.qZA(),e.TgZ(58,"div",5),e.TgZ(59,"mat-form-field",19),e.TgZ(60,"mat-label"),e._uU(61,"Consumo est\xe1ndar por horas motor:"),e.qZA(),e.TgZ(62,"input",20),e.NdJ("keypress",function(M){return s.numbersDots(M)}),e.qZA(),e.TgZ(63,"mat-hint"),e._uU(64,"Cantidad de litros consumidos por hora motor (LTH)"),e.qZA(),e.YNc(65,ee,2,1,"mat-error",8),e.qZA(),e.TgZ(66,"mat-slide-toggle",21),e.NdJ("change",function(M){return s.setActiveModel(M)}),e._uU(67),e.qZA(),e.qZA(),e.TgZ(68,"div",22),e._UZ(69,"mat-divider"),e.qZA(),e.TgZ(70,"div",23),e.TgZ(71,"button",24),e.NdJ("click",function(){return s.close()}),e._uU(72,"CANCELAR"),e.qZA(),e.TgZ(73,"button",25),e.NdJ("click",function(){return s.submit()}),e._uU(74,"GUARDAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(2),e.Q6J("@fadeInRight",void 0),e.xp6(3),e.Q6J("@fadeInUp",void 0),e.xp6(1),e.Q6J("formGroup",s.modelsModalForm),e.xp6(10),e.Q6J("ngIf",s.modelsModalForm.get("NAME").errors),e.xp6(7),e.Q6J("ngIf",s.modelsModalForm.get("description").errors),e.xp6(6),e.Q6J("ngForOf",s.companies),e.xp6(8),e.Q6J("ngForOf",s.equipmentClasses),e.xp6(11),e.Q6J("ngIf",s.modelsModalForm.get("capacity").errors),e.xp6(7),e.Q6J("ngIf",s.modelsModalForm.get("kms_per_liter").errors),e.xp6(8),e.Q6J("ngIf",s.modelsModalForm.get("engine_hours").errors),e.xp6(2),e.Oqu(s.active_label),e.xp6(6),e.Q6J("disabled",s.modelsModalForm.invalid))},directives:[P.i,N.M,k.Hw,L.xw,L.Wh,i._Y,i.JL,i.sg,L.SQ,I.KE,L.yH,I.hX,i.Fj,R.Nt,i.JJ,i.u,i.Q7,I.bx,t.O5,J.gD,t.sg,q.lW,W.Rr,Q.d,I.TO,K.ey],styles:[".mat-slide-toggle[_ngcontent-%COMP%]{margin-top:15px;margin-left:20px}.mat-button[_ngcontent-%COMP%]{margin-top:4px;min-width:10%}.mat-form-field[_ngcontent-%COMP%]{width:90%}.mat-form-field-label[_ngcontent-%COMP%]{font-size:12px}.field-twocolumns[_ngcontent-%COMP%]{max-width:50%!important}"],data:{animation:[O.X,D.M,S.K]}}),n})(),H=(()=>{class n{constructor(o,s){this.typeOfItem=o,this.dialogRef=s,this.header="Agregar clase",this.label="Nombre de la clase",this.newItem=new i.NI("",[i.kI.required,i.kI.pattern("^[a-zA-Z0-9].{1,}$")]),s.disableClose=!0}ngOnInit(){"company"==this.typeOfItem.type&&(this.header="Agregar marca",this.label="Nombre de la marca:")}onAddClick(){this.dialogRef.close(this.newItem.value)}onCancelClick(){this.dialogRef.close()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(x.WI),e.Y36(x.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["fury-form-wizard"]],decls:20,vars:7,consts:[[1,"title"],["fxLayout","column","fxLayoutAlign","start center"],[1,"card"],["fxLayout","row","fxLayoutGap","8px",1,"content",2,"margin-top","20px"],["fxFlex","auto","appearance","outline"],["matInput","","required","",3,"formControl"],["fxLayout","column","fxLayoutGap","8px",1,"content",2,"margin-top","20px"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","24px",2,"margin-top","20px"],["color","primary","mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"]],template:function(o,s){1&o&&(e.TgZ(0,"fury-page"),e.TgZ(1,"fury-title",0),e.TgZ(2,"mat-icon"),e._uU(3,"branding_watermark"),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"div",2),e.TgZ(8,"div",3),e.TgZ(9,"mat-form-field",4),e.TgZ(10,"mat-label"),e._uU(11),e.qZA(),e._UZ(12,"input",5),e.qZA(),e.qZA(),e.TgZ(13,"div",6),e._UZ(14,"mat-divider"),e.qZA(),e.TgZ(15,"div",7),e.TgZ(16,"button",8),e.NdJ("click",function(){return s.onCancelClick()}),e._uU(17,"CANCELAR"),e.qZA(),e.TgZ(18,"button",9),e.NdJ("click",function(){return s.onAddClick()}),e._uU(19,"AGREGAR"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(2),e.Q6J("@fadeInRight",void 0),e.xp6(1),e.Oqu(s.header),e.xp6(2),e.Q6J("@fadeInUp",void 0),e.xp6(4),e.Oqu(s.label),e.xp6(1),e.Q6J("formControl",s.newItem),e.xp6(6),e.Q6J("disabled",s.newItem.invalid))},directives:[P.i,N.M,k.Hw,L.xw,L.Wh,L.SQ,I.KE,L.yH,I.hX,R.Nt,i.Fj,i.Q7,i.JJ,i.oH,Q.d,q.lW],encapsulation:2,data:{animation:[O.X,D.M,S.K]}}),n})();var te=a(24801),oe=a(39762),ae=a(53580),ne=a(38932),se=a(19165),ie=a(94927),B=a(92181);function re(n,d){if(1&n&&(e.TgZ(0,"th",17),e._uU(1),e.qZA()),2&n){const o=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",o.name,"")}}function le(n,d){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const o=d.$implicit,s=e.oxw(2).$implicit,r=e.oxw();e.xp6(1),e.hij(" ",r.getLabel(s.name,o[s.property])," ")}}function de(n,d){if(1&n&&(e.ynx(0,14),e.YNc(1,re,2,1,"th",15),e.YNc(2,le,2,1,"td",16),e.BQk()),2&n){const o=e.oxw().$implicit;e.Q6J("matColumnDef",o.property)}}function ce(n,d){if(1&n&&(e.ynx(0),e.YNc(1,de,3,1,"ng-container",13),e.BQk()),2&n){const o=d.$implicit;e.xp6(1),e.Q6J("ngIf",o.isModelProperty)}}function ue(n,d){1&n&&e._UZ(0,"th",19)}function me(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(o);const r=e.oxw().$implicit;return e.oxw().changeStatusOfModel(r)}),e.TgZ(1,"span"),e._uU(2,"Desactivar"),e.qZA(),e.qZA()}}function pe(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(o);const r=e.oxw().$implicit;return e.oxw().changeStatusOfModel(r)}),e.TgZ(1,"span"),e._uU(2,"Activar"),e.qZA(),e.qZA()}}function ge(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"td",20),e.TgZ(1,"button",21),e.NdJ("click",function(r){return r.stopPropagation()}),e.TgZ(2,"mat-icon"),e._uU(3,"more_horiz"),e.qZA(),e.qZA(),e.TgZ(4,"mat-menu",22,23),e.TgZ(6,"button",24),e.NdJ("click",function(){const M=e.CHM(o).$implicit;return e.oxw().updateModel(M)}),e.TgZ(7,"span"),e._uU(8,"Editar"),e.qZA(),e.qZA(),e.YNc(9,me,3,0,"button",25),e.YNc(10,pe,3,0,"button",25),e.qZA(),e.qZA()}if(2&n){const o=e.MAs(5),s=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(8),e.Q6J("ngIf",s.deletable),e.xp6(1),e.Q6J("ngIf",!s.deletable)}}function _e(n,d){1&n&&e._UZ(0,"tr",26)}function he(n,d){if(1&n){const o=e.EpF();e.TgZ(0,"tr",27),e.NdJ("click",function(){const M=e.CHM(o).$implicit;return e.oxw().updateModel(M)}),e.qZA()}}const fe=function(){return["Tables"]},Me=[{path:"",component:(()=>{class n{constructor(o,s,r,M){this.dialog=o,this.snackbar=s,this.modelsService=r,this._jobsService=M,this.subject$=new C.t(1),this.data$=this.subject$.asObservable(),this.equipmentClasses=[],this.companies=[],this.deletable=!0,this.columns=[{name:"Id",property:"id",visible:!1,isModelProperty:!0},{name:"Modelo",property:"NAME",visible:!0,isModelProperty:!0},{name:"Marca",property:"company_id",visible:!0,isModelProperty:!0},{name:"Descripci\xf3n",property:"description",visible:!0,isModelProperty:!0},{name:"N\xfamero de tanques",property:"num_tanks",visible:!1,isModelProperty:!0},{name:"Capacidad",property:"capacity",visible:!1,isModelProperty:!0},{name:"Kms/Ltr",property:"kms_per_liter",visible:!0,isModelProperty:!0},{name:"Hrs motor",property:"engine_hours",visible:!0,isModelProperty:!0},{name:"Clase",property:"class_id",visible:!0,isModelProperty:!0},{name:"Descubierto",property:"discovered",visible:!1,isModelProperty:!0},{name:"Estatus",property:"status",visible:!0,isModelProperty:!0},{name:"Acciones",property:"actions",visible:!0}],this.pageSize=10}getLabel(o,s){if(null!=o){if("Marca"==o){for(var r=0;r<this.companies.length;r++)if(s==this.companies[r].id)return this.companies[r].NAME;return"Marca no definida"}if("Estatus"==o)return this.deletable=2==s,2==s?"Activo":"Desactivado";if("Clase"!=o)return s;for(r=0;r<this.equipmentClasses.length;r++)if(s==this.equipmentClasses[r].id)return this.equipmentClasses[r].description}}get visibleColumns(){return this.columns.filter(o=>o.visible).map(o=>o.property)}getData(){this.modelsService.getAllModels().subscribe(o=>{this.models=o,this.dataSource=new g.by(o),this.dataSource=new g.by(this.models),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator},o=>{console.log(o)})}getCompanies(){this.modelsService.getAllCompanies().subscribe(o=>{this.companies=o},o=>{console.log(o)})}getEquipmentClasses(){this.modelsService.getAllEquipmentClasses().subscribe(o=>{this.equipmentClasses=o},o=>{console.log(o)})}ngOnInit(){this.dataSource=new g.by,this.getData(),this.getCompanies(),this.getEquipmentClasses(),this.data$.pipe((0,T.h)(o=>!!o)).subscribe(o=>{this.models=o,this.dataSource.data=o})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createModel(){this.dialog.open(F).afterClosed().subscribe(o=>{o&&(this.subject$.next(this.models),this.getData(),this.getCompanies(),this.getEquipmentClasses(),this.data$.pipe((0,T.h)(s=>!!s)).subscribe(s=>{this.models=s,this.dataSource.data=s}),console.log("MODEL:",o),this._jobsService.push({type:"models",object:o}).subscribe(s=>{this.snackbar.open(s.message,null,{duration:5e3,panelClass:["green-snackbar"]})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}))})}updateModel(o){this.dialog.open(F,{data:o}).afterClosed().subscribe(s=>{s&&(this.subject$.next(this.models),this.getData(),this.getCompanies(),this.getEquipmentClasses(),this.data$.pipe((0,T.h)(r=>!!r)).subscribe(r=>{this.models=r,this.dataSource.data=r}),this._jobsService.push({type:"models",object:s}).subscribe(r=>{this.snackbar.open(r.message,null,{duration:5e3,panelClass:["green-snackbar"]})},r=>{this.snackbar.open(r.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}))})}changeStatusOfModel(o){o.status=2==o.status?0:2,this.modelsService.updateModel(o).subscribe(s=>{this.snackbar.open(s.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.subject$.next(this.models),this.getData(),this.getCompanies(),this.getEquipmentClasses(),this.data$.pipe((0,T.h)(r=>!!r)).subscribe(r=>{this.models=r,this.dataSource.data=r}),this._jobsService.push({type:"models",object:o}).subscribe(r=>{this.snackbar.open(r.message,null,{duration:5e3,panelClass:["green-snackbar"]})},r=>{this.snackbar.open(r.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}onFilterChange(o){!this.dataSource||(o=(o=o.trim()).toLowerCase(),this.dataSource.filter=o)}ngOnDestroy(){}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(x.uw),e.Y36(A.ux),e.Y36(U.c),e.Y36(te.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["models-table"]],viewQuery:function(o,s){if(1&o&&(e.Gf(l.NW,7),e.Gf(c.YE,7)),2&o){let r;e.iGM(r=e.CRH())&&(s.paginator=r.first),e.iGM(r=e.CRH())&&(s.sort=r.first)}},inputs:{columns:"columns"},decls:17,vars:10,consts:[["mode","card"],["current","Modelos",3,"crumbs"],["name","Modelos",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(o,s){1&o&&(e.TgZ(0,"fury-page-layout",0),e.TgZ(1,"fury-page-layout-header"),e._UZ(2,"fury-breadcrumbs",1),e.qZA(),e.TgZ(3,"fury-page-layout-content"),e.TgZ(4,"fury-list",2),e.NdJ("filterChange",function(M){return s.onFilterChange(M)}),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return s.createModel()}),e.TgZ(7,"mat-icon"),e._uU(8,"add"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"table",5),e.YNc(10,ce,2,1,"ng-container",6),e.ynx(11,7),e.YNc(12,ue,1,0,"th",8),e.YNc(13,ge,11,3,"td",9),e.BQk(),e.YNc(14,_e,1,0,"tr",10),e.YNc(15,he,1,0,"tr",11),e.qZA(),e._UZ(16,"mat-paginator",12),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("@fadeInRight",void 0)("crumbs",e.DdM(9,fe)),e.xp6(1),e.Q6J("@fadeInUp",void 0),e.xp6(1),e.Q6J("columns",s.columns),e.xp6(5),e.Q6J("dataSource",s.dataSource),e.xp6(1),e.Q6J("ngForOf",s.columns),e.xp6(4),e.Q6J("matHeaderRowDef",s.visibleColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.visibleColumns),e.xp6(1),e.Q6J("pageSize",s.pageSize))},directives:[oe.N,ae.U,ne.n,se.d,ie.n,q.lW,k.Hw,g.BZ,c.YE,t.sg,g.w1,g.fO,g.Dz,g.as,g.nj,l.NW,t.O5,g.ge,c.nU,g.ev,B.p6,B.VK,B.OP,g.XQ,g.Gk],encapsulation:2,data:{animation:[D.M,O.X]}}),n})()}];let ve=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.Bz.forChild(Me)],v.Bz]}),n})();var ye=a(61620);const be=[{path:"",component:F}];let Ce=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[v.Bz.forChild(be)],v.Bz]}),n})(),Ae=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[t.ez,i.u5,i.UX,_.q,ye.o9,x.Is,R.c,q.ot,k.Ps,J.LD,Ce,m.Z]]}),n})(),Te=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[t.ez,ve,i.u5,_.q,m.Z,Ae,h.p,u.J]]}),n})()},24801:(b,p,a)=>{a.d(p,{e:()=>_});var t=a(40520),i=a(98545),u=a(5e3),h=a(33344);let _=(()=>{class m{constructor(l,c){this.http=l,this.tokenStorage=c}getHeaders(){var l=new t.WM,c=this.tokenStorage.getToken();return l.set("token",c||"{}")}push(l){var c=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.JOBS,l,{headers:c})}}return m.\u0275fac=function(l){return new(l||m)(u.LFG(t.eN),u.LFG(h.i))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},17846:(b,p,a)=>{a.d(p,{c:()=>_});var t=a(40520),i=a(98545),u=a(5e3),h=a(33344);let _=(()=>{class m{constructor(l,c){this.http=l,this.tokenStorage=c}getHeaders(){var l=new t.WM,c=this.tokenStorage.getToken();return l.set("token",c||"{}")}getAllModels(){var l=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.MODELS,{headers:l})}getAllModelsByCompanyId(l){var c=this.getHeaders();const g=(new t.LE).appendAll({company_id:l});return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.MODELS,{params:g,headers:c})}getAllModelsByAreas(l){var c=this.getHeaders();const g=(new t.LE).appendAll(l);return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.MODELS,{params:g,headers:c})}getModel(l){var c=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.MODELS+"/"+l,{headers:c})}createModel(l){var c=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.MODELS,l,{headers:c})}updateModel(l){var c=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.MODELS+"/"+l.id,l,{headers:c})}getAllCompanies(){var l=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.COMPANIES,{headers:l})}createCompany(l){var c=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.COMPANIES,l,{headers:c})}updateCompany(l){var c=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.COMPANIES+"/"+l.id,l,{headers:c})}getAllEquipmentClasses(){var l=this.getHeaders();return this.http.get(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.EQUIPMENT_CLASSES,{headers:l})}createEquipmentClass(l){var c=this.getHeaders();return this.http.post(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.EQUIPMENT_CLASSES,l,{headers:c})}updateEquipmentClass(l){var c=this.getHeaders();return this.http.put(i._.settings.apiServer.API_URL_BASE+i._.settings.apiServer.EQUIPMENT_CLASSES+"/"+l.id,l,{headers:c})}}return m.\u0275fac=function(l){return new(l||m)(u.LFG(t.eN),u.LFG(h.i))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);