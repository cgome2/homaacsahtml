(self.webpackChunkfury=self.webpackChunkfury||[]).push([[7403],{88914:(A,v,i)=>{"use strict";i.d(v,{M:()=>u});var r=i(41777);const u=(0,r.X$)("fadeInRight",[(0,r.eR)(":enter",[(0,r.oB)({transform:"translateX(-2vw)",opacity:0}),(0,r.jt)("0.4s cubic-bezier(0.35, 0, 0.25, 1)",(0,r.oB)({transform:"translateX(0)",opacity:1}))])])},14499:(A,v,i)=>{"use strict";i.d(v,{X:()=>u});var r=i(41777);const u=(0,r.X$)("fadeInUp",[(0,r.eR)(":enter",[(0,r.oB)({transform:"translateY(3vh)",opacity:0}),(0,r.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,r.oB)({transform:"translateY(0)",opacity:1}))])])},37425:(A,v,i)=>{"use strict";i.d(v,{K:()=>u});var r=i(41777);const u=(0,r.X$)("scaleIn",[(0,r.eR)(":enter",[(0,r.oB)({transform:"scale(0)"}),(0,r.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,r.oB)({transform:"scale(1)"}))])])},38932:(A,v,i)=>{"use strict";i.d(v,{n:()=>a});var r=i(5e3),u=i(30277),g=i(3299),C=i(69808),y=i(25245);function _(c,d){if(1&c&&(r.TgZ(0,"div",7),r.TgZ(1,"mat-icon",5),r._uU(2,"chevron_right"),r.qZA(),r.TgZ(3,"div",6),r._uU(4),r.qZA(),r.qZA()),2&c){const m=d.$implicit;r.xp6(4),r.Oqu(m)}}const h=function(){return["/"]};let a=(()=>{class c{constructor(){this.crumbs=[]}ngOnInit(){}}return c.\u0275fac=function(m){return new(m||c)},c.\u0275cmp=r.Xpm({type:c,selectors:[["fury-breadcrumbs"]],inputs:{current:"current",crumbs:"crumbs"},decls:11,vars:5,consts:[[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"crumbs"],[1,"crumb","home",3,"routerLink"],["class","crumb","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb","current"],[1,"chevron"],[1,"link"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb"]],template:function(m,x){1&m&&(r.TgZ(0,"div",0),r._uU(1),r.qZA(),r.TgZ(2,"div",1),r.TgZ(3,"a",2),r._uU(4,"Home"),r.qZA(),r.YNc(5,_,5,1,"div",3),r.TgZ(6,"div",4),r.TgZ(7,"mat-icon",5),r._uU(8,"chevron_right"),r.qZA(),r.TgZ(9,"div",6),r._uU(10),r.qZA(),r.qZA(),r.qZA()),2&m&&(r.xp6(1),r.Oqu(x.current),r.xp6(2),r.Q6J("routerLink",r.DdM(4,h)),r.xp6(2),r.Q6J("ngForOf",x.crumbs),r.xp6(5),r.Oqu(x.current))},directives:[u.xw,u.Wh,g.yS,C.sg,y.Hw],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font:var(--font-title);font-weight:400}.crumb[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none;transition:color .4s cubic-bezier(.25,.8,.25,1);font:var(--font-body-1)}.link[_ngcontent-%COMP%]{cursor:pointer}.chevron[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;margin-left:6px;margin-right:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}"]}),c})()},94927:(A,v,i)=>{"use strict";i.d(v,{n:()=>O});var r=i(5e3),u=i(23753),g=i(75778),C=i(80013),y=i(69808),_=i(92181),h=i(30277),a=i(25245),c=i(47423),d=i(77446),m=i(93075);const x=["filter"];function f(M,e){if(1&M&&(r.TgZ(0,"div",5),r.TgZ(1,"div",6),r._uU(2),r.qZA(),r.TgZ(3,"div",7),r.TgZ(4,"mat-icon",8),r._uU(5,"search"),r.qZA(),r._UZ(6,"input",9,10),r.qZA(),r.TgZ(8,"button",11),r.TgZ(9,"mat-icon"),r._uU(10,"filter_list"),r.qZA(),r.qZA(),r.Hsn(11,1),r.qZA()),2&M){const b=r.oxw(),Z=r.MAs(3);r.xp6(2),r.Oqu(b.name),r.xp6(6),r.Q6J("matMenuTriggerFor",Z)}}function T(M,e){if(1&M){const b=r.EpF();r.TgZ(0,"button",12),r.NdJ("click",function(U){const N=r.CHM(b).$implicit;return r.oxw().toggleColumnVisibility(N,U)}),r.TgZ(1,"mat-checkbox",13,14),r.NdJ("ngModelChange",function(U){return r.CHM(b).$implicit.visible=U})("click",function(U){return U.stopPropagation()}),r._uU(3),r.qZA(),r.qZA()}if(2&M){const b=e.$implicit;r.xp6(1),r.Q6J("ngModel",b.visible),r.xp6(2),r.hij(" ",b.name," ")}}const I=["*",[["",8,"actions"]]],R=["*",".actions"];let O=(()=>{class M{constructor(){this.filterChange=new r.vpe}ngAfterViewInit(){this.hideHeader||(0,u.R)(this.filter.nativeElement,"keyup").pipe((0,g.x)(),(0,C.b)(150)).subscribe(()=>{this.filterChange.emit(this.filter.nativeElement.value)})}toggleColumnVisibility(b,Z){Z.stopPropagation(),Z.stopImmediatePropagation(),b.visible=!b.visible}}return M.\u0275fac=function(b){return new(b||M)},M.\u0275cmp=r.Xpm({type:M,selectors:[["fury-list"]],viewQuery:function(b,Z){if(1&b&&r.Gf(x,5),2&b){let U;r.iGM(U=r.CRH())&&(Z.filter=U.first)}},inputs:{name:"name",columns:"columns",hideHeader:"hideHeader"},outputs:{filterChange:"filterChange"},ngContentSelectors:R,decls:6,vars:2,consts:[[1,"fury-list-table"],["class","fury-list-header","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",4,"ngIf"],["yPosition","below","xPosition","before"],["columnFilter","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",1,"fury-list-header"],[1,"fury-list-name"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],[1,"fury-filter-input-icon"],["fxFlex","","placeholder","Search\u2026",1,"fury-filter-input"],["filter",""],["type","button","mat-icon-button","",1,"fury-column-filter",3,"matMenuTriggerFor"],[1,"checkbox-item","mat-menu-item",3,"click"],[1,"checkbox",3,"ngModel","ngModelChange","click"],["checkbox",""]],template:function(b,Z){1&b&&(r.F$t(I),r.TgZ(0,"div",0),r.YNc(1,f,12,2,"div",1),r.TgZ(2,"mat-menu",2,3),r.YNc(4,T,4,2,"button",4),r.qZA(),r.Hsn(5),r.qZA()),2&b&&(r.xp6(1),r.Q6J("ngIf",!Z.hideHeader),r.xp6(3),r.Q6J("ngForOf",Z.columns))},directives:[y.O5,_.VK,y.sg,h.xw,h.Wh,h.SQ,h.yH,a.Hw,c.lW,_.p6,d.oG,m.JJ,m.On],styles:[".fury-list-table{display:flex;flex-direction:column}.fury-list-table .fury-list-header{padding-left:24px;padding-right:24px;height:64px;border-top-left-radius:8px;border-top-right-radius:8px}@media screen and (max-width: 599px){.fury-list-table .fury-list-header{height:auto;padding-top:24px;padding-bottom:24px}}.fury-list-table .fury-list-header .fury-list-name{font-size:20px;line-height:32px;font-weight:500;padding-right:24px}@media screen and (max-width: 599px){.fury-list-table .fury-list-header .fury-list-name{border-right:none}}.fury-list-table .fury-list-header .fury-filter-input{font-size:16px;line-height:1.125;border:none;height:32px}.fury-list-table .fury-list-header .fury-filter-input:focus{outline:none}.fury-list-table .fury-list-header .fury-filter-input-icon{width:1.2em;vertical-align:bottom;height:22px;font-size:22px;margin-right:8px}.fury-list-table table{width:100%}.fury-list-table .mat-header-row .mat-header-cell .mat-sort-header-button{text-transform:uppercase}.fury-list-table .mat-cell.image-cell,.fury-list-table .mat-header-cell.image-cell{flex:0;width:59px}.fury-list-table .mat-cell.image-cell img,.fury-list-table .mat-header-cell.image-cell img{border-radius:50%;height:35px;width:35px;margin-right:24px;vertical-align:middle}.fury-list-table .mat-cell,.fury-list-table .mat-header-cell{white-space:nowrap;padding-left:12px;padding-right:12px}.fury-list-table .mat-cell.actions-cell,.fury-list-table .mat-header-cell.actions-cell{flex:0;width:40px;overflow:visible}.fury-list-table .paginator{display:block}\n"],encapsulation:2}),M})()},4940:(A,v,i)=>{"use strict";i.d(v,{p:()=>y});var r=i(69808),u=i(93075),g=i(7057),C=i(5e3);let y=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=C.oAB({type:_}),_.\u0275inj=C.cJS({imports:[[r.ez,g.q,u.u5]]}),_})()},19165:(A,v,i)=>{"use strict";i.d(v,{d:()=>u});var r=i(5e3);let u=(()=>{class g{constructor(){}}return g.\u0275fac=function(y){return new(y||g)},g.\u0275dir=r.lG2({type:g,selectors:[["","furyPageLayoutContent",""],["fury-page-layout-content"]],hostAttrs:[1,"fury-page-layout-content"]}),g})()},53580:(A,v,i)=>{"use strict";i.d(v,{U:()=>u});var r=i(5e3);let u=(()=>{class g{constructor(){}}return g.\u0275fac=function(y){return new(y||g)},g.\u0275dir=r.lG2({type:g,selectors:[["","furyPageLayoutHeader",""],["fury-page-layout-header"]],hostAttrs:[1,"fury-page-layout-header"]}),g})()},39762:(A,v,i)=>{"use strict";i.d(v,{N:()=>u});var r=i(5e3);let u=(()=>{class g{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return g.\u0275fac=function(y){return new(y||g)},g.\u0275dir=r.lG2({type:g,selectors:[["","furyPageLayout",""],["fury-page-layout"]],hostAttrs:[1,"fury-page-layout"],hostVars:4,hostBindings:function(y,_){2&y&&r.ekj("fury-page-layout-card",_.isCard)("fury-page-layout-simple",_.isSimple)},inputs:{mode:"mode"}}),g})()},59968:(A,v,i)=>{"use strict";i.d(v,{i:()=>u});var r=i(5e3);let u=(()=>{class g{constructor(){}}return g.\u0275fac=function(y){return new(y||g)},g.\u0275dir=r.lG2({type:g,selectors:[["","furyPage",""],["fury-page"]],hostAttrs:[1,"fury-page"]}),g})()},47403:(A,v,i)=>{"use strict";i.r(v),i.d(v,{ControlesVolumetricosTableModule:()=>$e});var r=i(69808),u=i(93075),g=i(61264),C=i(4940),y=i(7057),_=i(72467),h=i(3299),a=i(70655),c=i(86087),d=i(84847),m=i(32075),x=i(96831),f=i(92198),T=i(88914),I=i(14499),R=i(94327),O=i(48966),M=i(37425),e=i(5e3),b=i(59968);function Z(n,l){1&n&&e._UZ(0,"div",9)}function U(n,l){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function B(n,l){if(1&n&&(e.TgZ(0,"section",11),e._UZ(1,"ngx-json-viewer",12),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.Q6J("json",t.value)("expanded",o.expanded)("depth",o.depth)("_currentDepth",o._currentDepth)}}const N=function(n){return["segment",n]},Y=function(n,l){return{"segment-main":!0,expandable:n,expanded:l}};function ee(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"section",2),e.TgZ(1,"section",3),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw().toggle(p)}),e.YNc(2,Z,1,0,"div",4),e.TgZ(3,"span",5),e._uU(4),e.qZA(),e.TgZ(5,"span",6),e._uU(6,": "),e.qZA(),e.YNc(7,U,2,1,"span",7),e.qZA(),e.YNc(8,B,2,4,"section",8),e.qZA()}if(2&n){const t=l.$implicit,o=e.oxw();e.Q6J("ngClass",e.VKq(6,N,"segment-type-"+t.type)),e.xp6(1),e.Q6J("ngClass",e.WLB(8,Y,o.isExpandable(t),t.expanded)),e.xp6(1),e.Q6J("ngIf",o.isExpandable(t)),e.xp6(2),e.Oqu(t.key),e.xp6(3),e.Q6J("ngIf",!t.expanded||!o.isExpandable(t)),e.xp6(1),e.Q6J("ngIf",t.expanded&&o.isExpandable(t))}}let te=(()=>{class n{constructor(){this.expanded=!0,this.depth=-1,this._currentDepth=-1,this.segments=[]}ngOnChanges(){this.segments=[],this.json=this.decycle(this.json),this._currentDepth++,"object"==typeof this.json?Object.keys(this.json).forEach(t=>{this.segments.push(this.parseKeyValue(t,this.json[t]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(t){return"object"===t.type||"array"===t.type}toggle(t){this.isExpandable(t)&&(t.expanded=!t.expanded)}parseKeyValue(t,o){const s={key:t,value:o,type:void 0,description:""+o,expanded:this.isExpanded()};switch(typeof s.value){case"number":s.type="number";break;case"boolean":s.type="boolean";break;case"function":s.type="function";break;case"string":s.type="string",s.description='"'+s.value+'"';break;case"undefined":s.type="undefined",s.description="undefined";break;case"object":null===s.value?(s.type="null",s.description="null"):Array.isArray(s.value)?(s.type="array",s.description="Array["+s.value.length+"] "+JSON.stringify(s.value)):s.value instanceof Date?s.type="date":(s.type="object",s.description="Object "+JSON.stringify(s.value))}return s}isExpanded(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}decycle(t){const o=new WeakMap;return function s(p,P){let D,S;return"object"!=typeof p||null===p||p instanceof Boolean||p instanceof Date||p instanceof Number||p instanceof RegExp||p instanceof String?p:(D=o.get(p),void 0!==D?{$ref:D}:(o.set(p,P),Array.isArray(p)?(S=[],p.forEach(function(w,E){S[E]=s(w,P+"["+E+"]")})):(S={},Object.keys(p).forEach(function(w){S[w]=s(p[w],P+"["+JSON.stringify(w)+"]")})),S))}(t,"$")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[e.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(t,o){1&t&&(e.TgZ(0,"section",0),e.YNc(1,ee,9,11,"section",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.segments))},directives:[r.sg,r.mk,r.O5,n],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:monospace;font-size:1em;width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:#787878}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:#4e187c}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:#000}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#ff6b6b}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#009688}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#b938a4}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#05668d}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#fff}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:#fff}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:red}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:#999}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),n})(),ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez]]}),n})();var F=i(30277),q=i(47423);let J=(()=>{class n{transform(t){return[{id:1,name:"enero"},{id:2,name:"febrero"},{id:3,name:"marzo"},{id:4,name:"abril"},{id:5,name:"mayo"},{id:6,name:"junio"},{id:7,name:"julio"},{id:8,name:"agosto"},{id:9,name:"septiembre"},{id:10,name:"octubre"},{id:11,name:"noviembre"},{id:12,name:"diciembre"}].find(s=>s.id===t).name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"month",type:n,pure:!0}),n})(),oe=(()=>{class n{constructor(t,o){this.dialog=t,this.data=o,this.title="Visor de archivo de control volum\xe9trico mensual",this.dialog.disableClose=!0}ngOnInit(){this.cv=this.data.cv,this.ea=this.data.object}close(){this.dialog.close([])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.so),e.Y36(O.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cv-viewer"]],decls:17,vars:10,consts:[[1,"title"],[1,"json-viewer"],[3,"json","expanded"],["fxLayoutAlign","end center","fxLayoutGap","8px","mat-dialog-actions",""],["mat-button","","color","maacsa","mat-raised-button","",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"fury-page"),e.TgZ(1,"div",0),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"month"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"span"),e._uU(10),e.qZA(),e._UZ(11,"br"),e.qZA(),e.TgZ(12,"div",1),e._UZ(13,"ngx-json-viewer",2),e.qZA(),e.TgZ(14,"div",3),e.TgZ(15,"button",4),e.NdJ("click",function(){return o.close()}),e._uU(16,"CERRAR"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("@fadeInRight",void 0),e.xp6(1),e.AsE("Archivo mensual de control volum\xe9trico del periodo correspondiente a ",e.lcZ(4,8,o.ea.month)," del ",o.ea.year,""),e.xp6(4),e.hij("Flota: ",o.ea.fleet_name,""),e.xp6(3),e.hij("Creado: ",o.ea.created_at,""),e.xp6(3),e.Q6J("json",o.cv)("expanded",!1),e.xp6(1),e.Q6J("@fadeInRight",void 0))},directives:[b.i,te,F.Wh,F.SQ,O.H8,q.lW],pipes:[J],styles:[".fury-card-header-heading[_ngcontent-%COMP%]{font-weight:700!important}.mat-dialog-title[_ngcontent-%COMP%]{font-size:x-large}.title[_ngcontent-%COMP%]{font-size:large;font-weight:700;background-color:#1e2739;color:#f5f5f5;border-radius:8px;padding:10px}.json-viewer[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;max-width:800px;max-height:400px;border-style:solid;border-width:1px;border-color:#1e2739;border-radius:5px;padding:10px;overflow:scroll}"],data:{animation:[T.M,I.X,M.K]}}),n})(),W=(()=>{class n{transform(t,o){return t&&o?t.filter(s=>s.visible===o):t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"visibleFilter",type:n,pure:!0}),n})();function re(n,l){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Oqu(t.title)}}function ie(n,l){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e._uU(2),e.qZA(),e.TgZ(3,"td",8),e._uU(4),e.qZA(),e.TgZ(5,"td",8),e._uU(6),e.qZA(),e.TgZ(7,"td",8),e._uU(8),e.qZA(),e.TgZ(9,"td",8),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td",8),e._uU(13),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.qZA(),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.station),e.xp6(2),e.Oqu(t.product),e.xp6(2),e.Oqu(t.transaction_id),e.xp6(2),e.Oqu(t.timestamp),e.xp6(2),e.Oqu(e.xi3(11,7,t.quantity,"1.2")),e.xp6(3),e.Oqu(t.mean),e.xp6(2),e.Oqu(t.pump)}}function se(n,l){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,ie,16,10,"tr",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.datos)}}function ae(n,l){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e._uU(2),e.qZA(),e.TgZ(3,"td",8),e._uU(4),e.qZA(),e.TgZ(5,"td",8),e._uU(6),e.qZA(),e.TgZ(7,"td",8),e._uU(8),e.qZA(),e.TgZ(9,"td",8),e._uU(10),e.qZA(),e.TgZ(11,"td",8),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td",8),e._uU(15),e.qZA(),e.TgZ(16,"td",8),e._uU(17),e.ALo(18,"number"),e.qZA(),e.TgZ(19,"td",8),e._uU(20),e.ALo(21,"number"),e.qZA(),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.tank_delivery_reading_id),e.xp6(2),e.Oqu(t.station),e.xp6(2),e.Oqu(t.product),e.xp6(2),e.Oqu(t.tank),e.xp6(2),e.Oqu(t.tank_number),e.xp6(2),e.Oqu(e.xi3(13,9,t.quantity_tls,"1.2")),e.xp6(3),e.Oqu(t.delivery_timestamp),e.xp6(2),e.Oqu(e.xi3(18,12,t.start_volume,"1.2")),e.xp6(3),e.Oqu(e.xi3(21,15,t.end_volume,"1.2"))}}function le(n,l){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,ae,22,18,"tr",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.datos)}}function ce(n,l){if(1&n&&(e.TgZ(0,"tr"),e.TgZ(1,"td",8),e._uU(2),e.qZA(),e.TgZ(3,"td",8),e._uU(4),e.qZA(),e.TgZ(5,"td",8),e._uU(6),e.qZA(),e.TgZ(7,"td",8),e._uU(8),e.qZA(),e.TgZ(9,"td",8),e._uU(10),e.qZA(),e.TgZ(11,"td",8),e._uU(12),e.qZA(),e.TgZ(13,"td",8),e._uU(14),e.qZA(),e.TgZ(15,"td",8),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"td",8),e._uU(19),e.ALo(20,"number"),e.qZA(),e.TgZ(21,"td",8),e._uU(22),e.ALo(23,"number"),e.qZA(),e.qZA()),2&n){const t=l.$implicit;e.xp6(2),e.Oqu(t.reception_id),e.xp6(2),e.Oqu(t.document_id),e.xp6(2),e.Oqu(t.station),e.xp6(2),e.Oqu(t.product),e.xp6(2),e.Oqu(t.cfdi),e.xp6(2),e.Oqu(t.fecha_cfdi),e.xp6(2),e.Oqu(t.provider),e.xp6(2),e.Oqu(e.xi3(17,10,t.volumen_cfdi,"1.2")),e.xp6(3),e.Oqu(e.xi3(20,13,t.ppv_cfdi,"1.2")),e.xp6(3),e.Oqu(e.xi3(23,16,t.total_cfdi,"1.2"))}}function ue(n,l){if(1&n&&(e.TgZ(0,"tbody"),e.YNc(1,ce,24,19,"tr",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.datos)}}let j=(()=>{class n{constructor(t,o){this.dialog=t,this.data=o,this.headers=[],this.datos=[],this.filterarg=!0,this.tipo="transacciones"}close(){this.dialog.close("It is closed")}ngOnInit(){this.datos=this.data.rows,"transactions"===this.data.type?(this.setHeadersTransactions(),this.tipo="transacciones"):"receptions"===this.data.type?(this.setHeadersReceptions(),this.tipo="recepciones"):"receptions_documents"===this.data.type&&(this.setHeadersReceptionsDocuments(),this.tipo="documentos de recepci\xf3n")}setHeadersTransactions(){this.headers=[{title:"Estaci\xf3n",visible:!0},{title:"Producto",visible:!0},{title:"Id transacci\xf3n",visible:!0},{title:"Fecha",visible:!0},{title:"Litros",visible:!0},{title:"Dispositivo",visible:!0},{title:"Bomba",visible:!0}]}setHeadersReceptions(){this.headers=[{title:"N\xfamero de registro",visible:!0},{title:"Estaci\xf3n",visible:!0},{title:"Producto",visible:!0},{title:"Tanque",visible:!0},{title:"N\xfamero tanque",visible:!0},{title:"Cantidad TLS",visible:!0},{title:"Fecha TLS",visible:!0},{title:"Volumen inicial",visible:!0},{title:"Volumen final",visible:!0}]}setHeadersReceptionsDocuments(){this.headers=[{title:"N\xfamero de recepci\xf3n",visible:!0},{title:"N\xfamero de documento",visible:!0},{title:"Estaci\xf3n",visible:!0},{title:"Producto",visible:!0},{title:"CFDi",visible:!0},{title:"Fecha CFDi",visible:!0},{title:"Proveedor",visible:!0},{title:"Volumen CFDi",visible:!0},{title:"PPV CFDi",visible:!0},{title:"Total CFDi",visible:!0}]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.so),e.Y36(O.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["tiny-summary-table"]],decls:17,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"summary_table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content",2,"margin-top","20px"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","","type","button",3,"click"],[2,"text-align","right"]],template:function(t,o){1&t&&(e.TgZ(0,"h1",0),e._uU(1),e.ALo(2,"month"),e.qZA(),e.TgZ(3,"div",1),e.TgZ(4,"div",2),e.TgZ(5,"table"),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.YNc(8,re,2,1,"th",3),e.ALo(9,"visibleFilter"),e.qZA(),e.qZA(),e.YNc(10,se,2,1,"tbody",4),e.YNc(11,le,2,1,"tbody",4),e.YNc(12,ue,2,1,"tbody",4),e.qZA(),e.qZA(),e.TgZ(13,"div",5),e.TgZ(14,"div",6),e.TgZ(15,"button",7),e.NdJ("click",function(){return o.close()}),e._uU(16,"OKNOTOK"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.HOy(" Detalle de ",o.tipo," durante el mes ",e.lcZ(2,8,o.data.dato.month)," del a\xf1o ",o.data.dato.year," en la estaci\xf3n ",o.data.dato.station,"\n"),e.xp6(7),e.Q6J("ngForOf",e.xi3(9,10,o.headers,o.filterarg)),e.xp6(2),e.Q6J("ngIf","transactions"===o.data.type),e.xp6(1),e.Q6J("ngIf","receptions"===o.data.type),e.xp6(1),e.Q6J("ngIf","receptions_documents"===o.data.type))},directives:[O.uh,O.xY,r.sg,r.O5,F.xw,F.SQ,F.Wh,q.lW],pipes:[J,W,r.JJ],styles:[".mat-dialog-title[_ngcontent-%COMP%]{font-size:large;border-radius:5px;border-style:solid;border-color:#e0e0e0;border-width:1px;text-align:center}.summary_table[_ngcontent-%COMP%]{overflow:scroll;border-color:#e0e0e0;border-style:solid;border-radius:5px;border-width:1px;max-width:900px;max-height:600px}.summary_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}.summary_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;background-color:#4776ce;color:#fff;border-style:none;padding:4px;min-width:100px}.summary_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;border-color:#e0e0e0;border-top-style:none;border-bottom-style:none;border-left-style:solid;border-right-style:solid;border-width:1px;padding:4px;min-width:100px}"]}),n})();class de{constructor(l){this.id=l&&l.id||null,this.created_at=l&&l.created_at||"",this.month=l&&l.month||"",this.year=l&&l.year||"",this.created_by=l&&l.created_by||"",this.status=l&&l.status||"",this.file_name=l&&l.file_name||"",this.downloads=l&&l.downloads||"",this.views=l&&l.views||null,this.cv_configuration_id=l&&l.cv_configuration_id||null}}var Q=i(57261),K=i(24333),me=i(2728),pe=i(92824),ge=i(31405),V=i(40520),k=i(46227),H=i(27221),L=i(98545),_e=i(33344);let $=(()=>{class n{constructor(t,o){this.http=t,this.tokenStorage=o}getHeaders(){var t=new V.WM,o=this.tokenStorage.getToken();return t.set("token",o||"{}")}getAll(){var t=this.getHeaders();return this.http.get(L._.settings.apiServer.API_URL_BASE+L._.settings.apiServer.CONTROLES_VOLUMETRICOS,{headers:t}).pipe((0,k.V)(1e4),(0,H.K)(o=>{throw"Error de conexi\xf3n. Detalles: "+o}))}getControlVolumetrico(t){var o=this.getHeaders();return this.http.get(L._.settings.apiServer.API_URL_BASE+L._.settings.apiServer.CONTROLES_VOLUMETRICOS+"/"+t.id,{headers:o})}getCVSummary(t){var o=this.getHeaders();const s=(new V.LE).appendAll(t);return this.http.get(L._.settings.apiServer.API_URL_BASE+"/cvsummary",{params:s,headers:o})}create(t,o){var s=this.getHeaders();const p=(new V.LE).appendAll({type:t});return this.http.post(L._.settings.apiServer.API_URL_BASE+L._.settings.apiServer.CONTROLES_VOLUMETRICOS,o,{params:p,headers:s}).pipe((0,k.V)(1e4),(0,H.K)(P=>{throw"Error de conexi\xf3n. Detalles: "+P}))}delete(t){var o=this.getHeaders();const s=(new V.LE).appendAll({id:t.id,file_name:t.file_name});return this.http.delete(L._.settings.apiServer.API_URL_BASE+L._.settings.apiServer.CONTROLES_VOLUMETRICOS,{params:s,headers:o}).pipe((0,k.V)(1e4),(0,H.K)(p=>{throw"Error de conexi\xf3n. Detalles: "+p}))}getFromFile(t){var o=this.getHeaders();const s=(new V.LE).appendAll({file_name:t.file_name});return this.http.get(L._.settings.apiServer.API_URL_BASE+"/cvxmldata",{params:s,headers:o})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(V.eN),e.LFG(_e.i))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var he=i(36551),z=i(25245),X=i(67322),fe=i(74107),ve=i(90508);function Ce(n,l){1&n&&e._uU(0,"Par\xe1metros del reporte")}function ye(n,l){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.num_permiso)}}function be(n,l){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function xe(n,l){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.ALo(2,"month"),e.qZA()),2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(e.lcZ(2,2,t))}}function Te(n,l){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Oqu(t.title)}}function Ae(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",20),e._uU(2),e.qZA(),e.TgZ(3,"td",20),e._uU(4),e.qZA(),e.TgZ(5,"td",20),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td",20),e._uU(9),e.qZA(),e.TgZ(10,"td",21),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).showReceptions(p)}),e._uU(11),e.ALo(12,"number"),e.TgZ(13,"mat-icon",22),e._uU(14,"preview"),e.qZA(),e.qZA(),e.TgZ(15,"td",21),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).showReceptionsDocuments(p)}),e._uU(16),e.ALo(17,"number"),e.TgZ(18,"mat-icon",22),e._uU(19,"preview"),e.qZA(),e.qZA(),e.TgZ(20,"td",20),e._uU(21),e.ALo(22,"number"),e.qZA(),e.TgZ(23,"td",21),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).showTransactions(p)}),e._uU(24),e.ALo(25,"number"),e.TgZ(26,"mat-icon",22),e._uU(27,"preview"),e.qZA(),e.qZA(),e.TgZ(28,"td",20),e._uU(29),e.ALo(30,"number"),e.qZA(),e.TgZ(31,"td",20),e._uU(32),e.qZA(),e.TgZ(33,"td",20),e._uU(34),e.ALo(35,"number"),e.qZA(),e.TgZ(36,"td",23),e._uU(37),e.ALo(38,"number"),e.qZA(),e.qZA()}if(2&n){const t=l.$implicit,o=e.oxw(2);e.xp6(2),e.Oqu(t.station),e.xp6(2),e.Oqu(t.product),e.xp6(2),e.Oqu(e.xi3(7,12,t.start_inventory,"1.0-0")),e.xp6(3),e.Oqu(t.start_inventory_timestamp),e.xp6(2),e.Oqu(e.xi3(12,15,t.volume_receptions_tls,"1.0-0")),e.xp6(5),e.Oqu(e.xi3(17,18,t.volume_receptions_documents,"1.0-0")),e.xp6(5),e.Oqu(e.xi3(22,21,o.datos.volumen_documentos_vs_tls,"1.0-0")),e.xp6(3),e.Oqu(e.xi3(25,24,t.volume_transactions,"1.0-0")),e.xp6(5),e.Oqu(e.xi3(30,27,t.end_inventory_tls,"1.0-0")),e.xp6(3),e.Oqu(t.end_inventory_timestamp),e.xp6(2),e.Oqu(e.xi3(35,30,t.end_inventory_theoretical,"1.0-0")),e.xp6(3),e.Oqu(e.xi3(38,33,t.product_balance,"1.0-0"))}}function Oe(n,l){if(1&n&&(e.TgZ(0,"div",18),e.TgZ(1,"table"),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.YNc(4,Te,2,1,"th",19),e.ALo(5,"visibleFilter"),e.qZA(),e.qZA(),e.TgZ(6,"tbody"),e.YNc(7,Ae,39,36,"tr",19),e.TgZ(8,"tr"),e._UZ(9,"td"),e._UZ(10,"td"),e._UZ(11,"td"),e._UZ(12,"td"),e._UZ(13,"td"),e._UZ(14,"td"),e._UZ(15,"td"),e._UZ(16,"td"),e._UZ(17,"td"),e._UZ(18,"td"),e._UZ(19,"td"),e.qZA(),e.TgZ(20,"tr"),e._UZ(21,"td"),e._UZ(22,"td"),e._UZ(23,"td"),e._UZ(24,"td"),e._UZ(25,"td"),e._UZ(26,"td"),e._UZ(27,"td"),e._UZ(28,"td"),e._UZ(29,"td"),e._UZ(30,"td"),e._UZ(31,"td"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",e.xi3(5,2,t.headers,t.filterarg)),e.xp6(3),e.Q6J("ngForOf",t.datos)}}function Me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().createDraft()}),e._uU(1,"BORRADOR"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.generalFormGroup.invalid)}}function Pe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1,"GENERAR"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.generalFormGroup.invalid)}}let Ze=(()=>{class n{constructor(t,o,s,p,P,D,S,w,E,ze){this.data=t,this.dialogRef=o,this.snackbar=s,this._usersService=p,this._transactionsService=P,this._receptionsService=D,this._cvConfigurationsService=S,this.tinySummaryTableDialog=w,this.router=E,this._controlesVolumetricosService=ze,this.headers=[{title:"Estaci\xf3n",visible:!0},{title:"site_code",visible:!1},{title:"Producto",visible:!0},{title:"product_id",visible:!1},{title:"Inventario inicial",visible:!0},{title:"Fecha inventario inicial",visible:!0},{title:"Recepciones TLS",visible:!0},{title:"Recepciones CFDi",visible:!0},{title:"Volumen TLSvsCFDi",visible:!0},{title:"Entregas",visible:!0},{title:"Inventario final",visible:!0},{title:"Fecha inventario final",visible:!0},{title:"Inventario final te\xf3rico",visible:!0},{title:"Balance de producto",visible:!0}],this.filterarg=!0,this.active_label="Activo",this.allowCreateUser=!1,this.hide=!0,this.hidetoo=!0,this.months=[],this.years=[],this.cv_configurations=[],this.summary=!1,this.generalFormGroup=new u.cw({id:new u.NI(""),year:new u.NI((new Date).getFullYear(),[u.kI.required]),month:new u.NI((new Date).getMonth()+1,[u.kI.required]),file_name:new u.NI(""),cv_configuration_id:new u.NI("",[u.kI.required])}),this.theControlVolumetrico=new de,this.dialogRef.disableClose=!0}getData(){this._controlesVolumetricosService.getCVSummary({cv_configuration_id:this.generalFormGroup.controls.cv_configuration_id.value,month:this.generalFormGroup.controls.month.value,year:this.generalFormGroup.controls.year.value}).subscribe(t=>{this.datos=t,this.summary=!0},t=>{console.log(t)})}ngOnInit(){return(0,a.mG)(this,void 0,void 0,function*(){this.cv_configurations=yield this.getCvConfigurations(),this.fillYears(),this.fillMonths(),null!=this.data.control_volumetrico?console.log("Lets view it"):(this.generalFormGroup.setValue({id:"",month:(new Date).getMonth()+1,year:(new Date).getFullYear(),file_name:"",cv_configuration_id:""}),console.log(this.generalFormGroup.value),console.log("Lets create it"))})}getCvConfigurations(){return(0,a.mG)(this,void 0,void 0,function*(){return yield this._cvConfigurationsService.getAll().toPromise()})}create(){this.theControlVolumetrico.month=this.generalFormGroup.controls.month.value,this.theControlVolumetrico.year=this.generalFormGroup.controls.year.value,this.theControlVolumetrico.cv_configuration_id=this.generalFormGroup.controls.cv_configuration_id.value,this.createControlVolumetrico("SAT")}createDraft(){this.theControlVolumetrico.month=this.generalFormGroup.controls.month.value,this.theControlVolumetrico.year=this.generalFormGroup.controls.year.value,this.theControlVolumetrico.cv_configuration_id=this.generalFormGroup.controls.cv_configuration_id.value,this.createControlVolumetrico("DRAFT")}viewData(){this.getData(),this.summary=!0}close(){this.dialogRef.close()}createControlVolumetrico(t){this._usersService.cani(encodeURIComponent(this.router.url),"POST").subscribe(o=>{1==o.success?this._controlesVolumetricosService.create(t,this.theControlVolumetrico).subscribe(s=>{1==s.success?(this.snackbar.open(s.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.theControlVolumetrico)):this.snackbar.open(s.message,null,{duration:5e3,panelClass:["red-snackbar"]})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}):((0,a.mG)(this,void 0,void 0,function*(){this.snackbar.open(o.message,null,{duration:5e3,panelClass:["red-snackbar"]}),yield new Promise(s=>setTimeout(s,500))}),this.dialogRef.close(),this.router.navigate(["/cv/archivos_mensuales/controles_volumetricos/1"]))},o=>{console.log(o.error)})}showReceptions(t){t.year=this.generalFormGroup.controls.year.value,t.month=this.generalFormGroup.controls.month.value,t.type="TLS",this._receptionsService.getTinySummary(t).subscribe(o=>{this.tinySummaryTableDialog.open(j,{data:{type:"receptions",rows:o,dato:t,cv_configuration_id:this.generalFormGroup.controls.cv_configuration_id.value,month:this.generalFormGroup.controls.month.value,year:this.generalFormGroup.controls.year.value}})},o=>{console.log(o)})}showReceptionsDocuments(t){t.year=this.generalFormGroup.controls.year.value,t.month=this.generalFormGroup.controls.month.value,t.type="CFDIS",this._receptionsService.getTinySummary(t).subscribe(o=>{this.tinySummaryTableDialog.open(j,{data:{type:"receptions_documents",rows:o,dato:t,cv_configuration_id:this.generalFormGroup.controls.cv_configuration_id.value,month:this.generalFormGroup.controls.month.value,year:this.generalFormGroup.controls.year.value}})},o=>{console.log(o)})}showTransactions(t){t.year=this.generalFormGroup.controls.year.value,t.month=this.generalFormGroup.controls.month.value,this._transactionsService.getTinySummary(t).subscribe(o=>{this.tinySummaryTableDialog.open(j,{data:{type:"transactions",rows:o,dato:t,cv_configuration_id:this.generalFormGroup.controls.cv_configuration_id.value,month:this.generalFormGroup.controls.month.value,year:this.generalFormGroup.controls.year.value}})},o=>{console.log(o)})}onChangeYear(t){this.months=[];let o=t<(new Date).getFullYear()?12:(new Date).getMonth()+1;for(let s=1;s<=o;s++)this.months.push(s);this.generalFormGroup.controls.month.setValue(this.generalFormGroup.controls.month.value>o?"":this.generalFormGroup.controls.month.value)}onChangeMonth(t){let o;this.generalFormGroup.controls.year.value>=(new Date).getFullYear()&&this.generalFormGroup.controls.month.value>(new Date).getMonth()+1?(this.generalFormGroup.controls.year.setValue(""),o=(new Date).getFullYear()-1):o=(new Date).getFullYear(),this.years=[];for(let s=2020;s<=o;s++)this.years.push(s)}fillYears(){for(let t=2020;t<=(new Date).getFullYear();t++)this.years.push(t)}fillMonths(){for(let t=1;t<=(new Date).getMonth()+1;t++)this.months.push(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.WI),e.Y36(O.so),e.Y36(Q.ux),e.Y36(K.f),e.Y36(me.v),e.Y36(pe.J),e.Y36(ge.N),e.Y36(O.uw),e.Y36(h.F0),e.Y36($))},n.\u0275cmp=e.Xpm({type:n,selectors:[["controles-volumetricos-modal"]],decls:33,vars:11,consts:[[2,"padding","1px","display","block"],[1,"title"],["svgIcon","sat",2,"width","40px","height","50px"],[1,"card"],[3,"formGroup"],["fxLayout","row","fxLayoutGap","8px",1,"content",2,"margin-top","20px"],["appearance","outline","fxFlex","auto"],["formControlName","cv_configuration_id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","year",3,"selectionChange"],["formControlName","month",3,"selectionChange"],["class","summary_table",4,"ngIf"],["fxLayout","column","fxLayoutGap","8px",1,"content",2,"margin-top","20px"],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","","type","button",3,"click"],["color","primary","mat-raised-button","",3,"disabled","click"],["color","primary","mat-raised-button","",3,"disabled","click",4,"ngIf"],[3,"value"],[1,"summary_table"],[4,"ngFor","ngForOf"],[2,"text-align","right"],[2,"text-align","right","cursor","pointer",3,"click"],[2,"margin-left","10px","font-size","14px","height","14px","width","14px"],[2,"text-align","right","border-right-style","none !important"]],template:function(t,o){1&t&&(e.TgZ(0,"fury-page",0),e.TgZ(1,"fury-title",1),e._UZ(2,"mat-icon",2),e.TgZ(3,"span"),e._uU(4,"Archivo mensual de controles volum\xe9tricos"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"form",4),e.YNc(7,Ce,1,0,"ng-template"),e.TgZ(8,"div",5),e.TgZ(9,"mat-form-field",6),e.TgZ(10,"mat-label"),e._uU(11,"Configuraci\xf3n CV:"),e.qZA(),e.TgZ(12,"mat-select",7),e.YNc(13,ye,2,2,"mat-option",8),e.qZA(),e.qZA(),e.TgZ(14,"mat-form-field",6),e.TgZ(15,"mat-label"),e._uU(16,"A\xf1o de corte:"),e.qZA(),e.TgZ(17,"mat-select",9),e.NdJ("selectionChange",function(p){return o.onChangeYear(p.value)}),e.YNc(18,be,2,2,"mat-option",8),e.qZA(),e.qZA(),e.TgZ(19,"mat-form-field",6),e.TgZ(20,"mat-label"),e._uU(21,"Mes de corte:"),e.qZA(),e.TgZ(22,"mat-select",10),e.NdJ("selectionChange",function(p){return o.onChangeMonth(p.value)}),e.YNc(23,xe,3,4,"mat-option",8),e.qZA(),e.qZA(),e.qZA(),e.YNc(24,Oe,32,5,"div",11),e.TgZ(25,"div",12),e.TgZ(26,"div",13),e.TgZ(27,"button",14),e.NdJ("click",function(){return o.close()}),e._uU(28,"CANCELAR"),e.qZA(),e.TgZ(29,"button",15),e.NdJ("click",function(){return o.viewData()}),e._uU(30,"VER RESUMEN"),e.qZA(),e.YNc(31,Me,2,1,"button",16),e.YNc(32,Pe,2,1,"button",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("@scaleIn",void 0),e.xp6(1),e.Q6J("@fadeInRight",void 0),e.xp6(2),e.Q6J("@fadeInUp",void 0),e.xp6(1),e.Q6J("formGroup",o.generalFormGroup),e.xp6(7),e.Q6J("ngForOf",o.cv_configurations),e.xp6(5),e.Q6J("ngForOf",o.years),e.xp6(5),e.Q6J("ngForOf",o.months),e.xp6(1),e.Q6J("ngIf",o.summary),e.xp6(5),e.Q6J("disabled",o.generalFormGroup.invalid),e.xp6(2),e.Q6J("ngIf",2==o.data.permission&&o.summary),e.xp6(1),e.Q6J("ngIf",2==o.data.permission&&o.summary))},directives:[b.i,he.M,z.Hw,u._Y,u.JL,u.sg,F.xw,F.SQ,X.KE,F.yH,X.hX,fe.gD,u.JJ,u.u,r.sg,r.O5,F.Wh,q.lW,ve.ey],pipes:[J,W,r.JJ],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{width:800px;max-width:100%;margin:24px;border-radius:8px;overflow:scroll;padding-left:24px;padding-right:24px;box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px;width:50%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .slide-toggle[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}.summary_table[_ngcontent-%COMP%]{overflow:scroll;border-color:#e0e0e0;border-style:solid;border-radius:5px;border-width:1px}.summary_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse}.summary_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:12px;background-color:#4776ce;color:#fff;border-style:none;padding:4px;min-width:100px}.summary_table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;border-color:#e0e0e0;border-top-style:none;border-bottom-style:none;border-left-style:solid;border-right-style:solid;border-width:1px;padding:4px;min-width:100px}"],data:{animation:[I.X,T.M,M.K]}}),n})();var Ee=i(82593),Se=i(60198),we=i(39762),Ue=i(53580),Le=i(38932),De=i(19165),Fe=i(94927),G=i(92181);function Ie(n,l){if(1&n&&(e.TgZ(0,"th",17),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Re(n,l){if(1&n&&(e.TgZ(0,"td",18),e._uU(1),e.qZA()),2&n){const t=l.$implicit,o=e.oxw(2).$implicit,s=e.oxw();e.xp6(1),e.hij(" ",s.getLabel(o.name,t[o.property])," ")}}function Ve(n,l){if(1&n&&(e.ynx(0,14),e.YNc(1,Ie,2,1,"th",15),e.YNc(2,Re,2,1,"td",16),e.BQk()),2&n){const t=e.oxw().$implicit;e.Q6J("matColumnDef",t.property)}}function Ne(n,l){if(1&n&&(e.ynx(0),e.YNc(1,Ve,3,1,"ng-container",13),e.BQk()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",t.isModelProperty)}}function qe(n,l){1&n&&e._UZ(0,"th",19)}function Be(n,l){if(1&n&&(e.TgZ(0,"button",25),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(1,"mat-icon"),e._uU(2,"more_horiz"),e.qZA(),e.qZA()),2&n){e.oxw();const t=e.MAs(3);e.Q6J("matMenuTriggerFor",t)}}function Je(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().viewControlVolumetrico(s)}),e.TgZ(1,"span"),e._uU(2,"Ver"),e.qZA(),e.qZA()}}function je(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().downloadControlVolumetrico(s)}),e.TgZ(1,"span"),e._uU(2,"Descargar"),e.qZA(),e.qZA()}}function ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit;return e.oxw().deleteControlVolumetrico(s)}),e.TgZ(1,"span"),e._uU(2,"Eliminar"),e.qZA(),e.qZA()}}function He(n,l){if(1&n&&(e.TgZ(0,"td",20),e.YNc(1,Be,3,1,"button",21),e.TgZ(2,"mat-menu",22,23),e.YNc(4,Je,3,0,"button",24),e.YNc(5,je,3,0,"button",24),e.YNc(6,ke,3,0,"button",24),e.qZA(),e.qZA()),2&n){const t=l.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",-1!=t.status),e.xp6(3),e.Q6J("ngIf",2==t.status||1==t.status),e.xp6(1),e.Q6J("ngIf","2"==o.permission&&2==t.status),e.xp6(1),e.Q6J("ngIf","2"==o.permission&&2!=t.status&&-1!==t.status)}}function Ge(n,l){1&n&&e._UZ(0,"tr",27)}function Ye(n,l){1&n&&e._UZ(0,"tr",28)}const We=function(){return["Tables"]},Qe=[{path:"",component:(()=>{class n{constructor(t,o,s,p,P,D,S,w){this.dialog=t,this._controlesVolumetricosService=o,this._fleetsService=s,this._usersService=p,this._filesUploaderService=P,this._Activatedroute=D,this.router=S,this.snackbar=w,this.subject$=new x.t(1),this.data$=this.subject$.asObservable(),this.users=[],this.permission="1",this.months=[{id:1,name:"Enero"},{id:2,name:"Febrero"},{id:3,name:"Marzo"},{id:4,name:"Abril"},{id:5,name:"Mayo"},{id:6,name:"Junio"},{id:7,name:"Julio"},{id:8,name:"Agosto"},{id:9,name:"Septiembre"},{id:10,name:"Octubre"},{id:11,name:"Noviembre"},{id:12,name:"Diciembre"}],this.columns=[{name:"Id",property:"id",visible:!0,isModelProperty:!0},{name:"Fecha",property:"created_at",visible:!0,isModelProperty:!0},{name:"Id flota",property:"fleet_id",visible:!1,isModelProperty:!0},{name:"Flota",property:"fleet_name",visible:!0,isModelProperty:!0},{name:"Mes de reporte",property:"month",visible:!0,isModelProperty:!0},{name:"A\xf1o de reporte",property:"year",visible:!0,isModelProperty:!0},{name:"Generado por",property:"created_by",visible:!0,isModelProperty:!0},{name:"Descargas",property:"downloads",visible:!0,isModelProperty:!0},{name:"Vistas",property:"views",visible:!0,isModelProperty:!0},{name:"Estatus",property:"status",visible:!0,isModelProperty:!0},{name:"Archivo",property:"file_name",visible:!1,isModelProperty:!0},{name:"Actions",property:"actions",visible:!0}],this.pageSize=10}getLabel(t,o){if(null!=t)return"Mes de reporte"===t?this.months.find(s=>o===s.id).name:"Generado por"===t?this.users.length>0?this.users.find(s=>o===s.user_id).name:"-":"Estatus"===t?2===o?"Generado":1===o?"Borrador":-1===o?"Eliminado":"No disponible":o}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}getData(){this._controlesVolumetricosService.getAll().subscribe(t=>{this.controles_volumetricos=t,this.dataSource=new m.by(t),this.dataSource=new m.by(this.controles_volumetricos),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this._usersService.getAll().subscribe(o=>{this.users=o},o=>{console.log(o)})},t=>{console.log(t)})}ngOnInit(){return(0,a.mG)(this,void 0,void 0,function*(){this._Activatedroute.paramMap.subscribe(t=>{this.permission=t.get("permission"),console.log("Permission",this.permission)}),this.dataSource=new m.by,this.getData(),this.data$.pipe((0,f.h)(t=>!!t)).subscribe(t=>{this.controles_volumetricos=t,this.dataSource.data=this.controles_volumetricos})})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createControlVolumetrico(){this._fleetsService.getAll().subscribe(t=>{this.dialog.open(Ze,{data:{fleets:t,months:this.months,permission:this.permission}}).afterClosed().subscribe(o=>{console.log(o),this.subject$.next(this.controles_volumetricos),this.getData(),this.data$.pipe((0,f.h)(s=>!!s)).subscribe(s=>{this.controles_volumetricos=s,this.dataSource.data=s})},o=>{console.log(o)})},t=>{console.log(t)})}viewControlVolumetrico(t){this._usersService.cani(encodeURIComponent(this.router.url),"GET").subscribe(o=>{1==o.success?(console.log("Lets View it"),this._controlesVolumetricosService.getFromFile(t).subscribe(s=>{console.log(s),this.dialog.open(oe,{data:{cv:s,object:t}}).afterClosed().subscribe(()=>{this.subject$.next(this.controles_volumetricos),this.getData(),this.data$.pipe((0,f.h)(p=>!!p)).subscribe(p=>{this.controles_volumetricos=p,this.dataSource.data=p})})},s=>{console.log(s)})):((0,a.mG)(this,void 0,void 0,function*(){this.snackbar.open(o.message,null,{duration:5e3,panelClass:["red-snackbar"]}),yield new Promise(s=>setTimeout(s,500))}),this.router.navigate(["/cv/archivos_mensuales/controles_volumetricos/1"]))},o=>{console.log(o.error)})}downloadControlVolumetrico(t){this._usersService.cani(encodeURIComponent(this.router.url),"GET").subscribe(o=>{1==o.success?this._filesUploaderService.getFile(t.file_name+".zip","controlvolumetrico").subscribe(s=>{const P=atob(s.file),D=new Array(P.length);for(let E=0;E<P.length;E++)D[E]=P.charCodeAt(E);const S=new Uint8Array(D),w=new Blob([S],{type:"application/gzip"});(0,R.saveAs)(w,t.file_name+".zip"),this.subject$.next(this.controles_volumetricos),this.getData(),this.data$.pipe((0,f.h)(E=>!!E)).subscribe(E=>{this.controles_volumetricos=E,this.dataSource.data=E})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}):((0,a.mG)(this,void 0,void 0,function*(){this.snackbar.open(o.message,null,{duration:5e3,panelClass:["red-snackbar"]}),yield new Promise(s=>setTimeout(s,500))}),this.router.navigate(["/cv/archivos_mensuales/controles_volumetricos/1"]))},o=>{console.log(o.error)})}deleteControlVolumetrico(t){this._usersService.cani(encodeURIComponent(this.router.url),"DEL").subscribe(o=>{1==o.success?this._controlesVolumetricosService.delete(t).subscribe(s=>{this.snackbar.open(s.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.subject$.next(this.controles_volumetricos),this.getData(),this.data$.pipe((0,f.h)(p=>!!p)).subscribe(p=>{this.controles_volumetricos=p,this.dataSource.data=p})},s=>{this.snackbar.open(s.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})}):((0,a.mG)(this,void 0,void 0,function*(){this.snackbar.open(o.message,null,{duration:5e3,panelClass:["red-snackbar"]}),yield new Promise(s=>setTimeout(s,500))}),this.router.navigate(["/cv/archivos_mensuales/controles_volumetricos/1"]))},o=>{console.log(o.error)})}onFilterChange(t){!this.dataSource||(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.uw),e.Y36($),e.Y36(Ee.V),e.Y36(K.f),e.Y36(Se.a),e.Y36(h.gz),e.Y36(h.F0),e.Y36(Q.ux))},n.\u0275cmp=e.Xpm({type:n,selectors:[["controles-volumetricos-table"]],viewQuery:function(t,o){if(1&t&&(e.Gf(c.NW,7),e.Gf(d.YE,7)),2&t){let s;e.iGM(s=e.CRH())&&(o.paginator=s.first),e.iGM(s=e.CRH())&&(o.sort=s.first)}},inputs:{columns:"columns"},decls:17,vars:10,consts:[["mode","card"],["current","Controles volum\xe9tricos",3,"crumbs"],["name","Controles volum\xe9tricos",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","route-animations-elements","mat-row","",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click",4,"ngIf"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"route-animations-elements"]],template:function(t,o){1&t&&(e.TgZ(0,"fury-page-layout",0),e.TgZ(1,"fury-page-layout-header"),e._UZ(2,"fury-breadcrumbs",1),e.qZA(),e.TgZ(3,"fury-page-layout-content"),e.TgZ(4,"fury-list",2),e.NdJ("filterChange",function(p){return o.onFilterChange(p)}),e.TgZ(5,"div",3),e.TgZ(6,"button",4),e.NdJ("click",function(){return o.createControlVolumetrico()}),e.TgZ(7,"mat-icon"),e._uU(8,"add"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"table",5),e.YNc(10,Ne,2,1,"ng-container",6),e.ynx(11,7),e.YNc(12,qe,1,0,"th",8),e.YNc(13,He,7,4,"td",9),e.BQk(),e.YNc(14,Ge,1,0,"tr",10),e.YNc(15,Ye,1,0,"tr",11),e.qZA(),e._UZ(16,"mat-paginator",12),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("@fadeInRight",void 0)("crumbs",e.DdM(9,We)),e.xp6(1),e.Q6J("@fadeInUp",void 0),e.xp6(1),e.Q6J("columns",o.columns),e.xp6(5),e.Q6J("dataSource",o.dataSource),e.xp6(1),e.Q6J("ngForOf",o.columns),e.xp6(4),e.Q6J("matHeaderRowDef",o.visibleColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.visibleColumns),e.xp6(1),e.Q6J("pageSize",o.pageSize))},directives:[we.N,Ue.U,Le.n,De.d,Fe.n,q.lW,z.Hw,m.BZ,d.YE,r.sg,m.w1,m.fO,m.Dz,m.as,m.nj,c.NW,r.O5,m.ge,d.nU,m.ev,G.VK,G.p6,G.OP,m.XQ,m.Gk],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[T.M,I.X]}}),n})()}];let Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.Bz.forChild(Qe)],h.Bz]}),n})(),$e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[r.ez,u.u5,g.J,u.UX,C.p,y.q,_.Z,Ke,ne]]}),n})()},60198:(A,v,i)=>{"use strict";i.d(v,{a:()=>y});var r=i(40520),u=i(98545),g=i(5e3),C=i(33344);let y=(()=>{class _{constructor(a,c){this.http=a,this.tokenStorage=c}getHeaders(){var a=new r.WM,c=this.tokenStorage.getToken();return a.set("token",c||"{}")}uploadFile(a){var c=this.getHeaders();const d=new FormData;return d.append("image",a,a.name),this.http.post(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.FILES,d,{headers:c,reportProgress:!0,observe:"events"})}processFile(a){var c=this.getHeaders();const d=(new r.LE).appendAll({folder:"backups"}),m=new FormData;return m.append("db",a,a.name),this.http.post(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.FILES,m,{params:d,headers:c,reportProgress:!0,observe:"events"})}removeFile(a){var c=this.getHeaders();const d=(new r.LE).appendAll(a);return this.http.delete(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.FILES,{params:d,headers:c})}getFileBase64(a){var c=this.getHeaders();const d=(new r.LE).appendAll({file:a,format:"base64",folder:"images"});return this.http.get(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.FILES,{params:d,headers:c})}getFile(a,c){var d=this.getHeaders();console.log(c);const m=c||"backups",x=(new r.LE).appendAll({file:a,format:"asitis",folder:m});return this.http.get(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.FILES,{params:x,headers:d})}}return _.\u0275fac=function(a){return new(a||_)(g.LFG(r.eN),g.LFG(C.i))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},82593:(A,v,i)=>{"use strict";i.d(v,{V:()=>y});var r=i(40520),u=i(98545),g=i(5e3),C=i(33344);let y=(()=>{class _{constructor(a,c){this.http=a,this.tokenStorage=c,this.baseendpoint=u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.FLEETS}getHeaders(){var a=new r.WM,c=this.tokenStorage.getToken();return a.set("token",c||"{}")}getAll(){var a=this.getHeaders();return this.http.get(this.baseendpoint,{headers:a})}getFiltered(a){var c=this.getHeaders();const d=(new r.LE).appendAll(a);return this.http.get(this.baseendpoint,{headers:c,params:d})}create(a){var c=this.getHeaders();return this.http.post(this.baseendpoint,a,{headers:c})}update(a){var c=this.getHeaders();return this.http.put(this.baseendpoint+"/"+a.id,a,{headers:c})}updateCvConfiguration(a){var c=this.getHeaders();return this.http.post(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.CV_CONFIGURATIONS,a,{headers:c})}}return _.\u0275fac=function(a){return new(a||_)(g.LFG(r.eN),g.LFG(C.i))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},92824:(A,v,i)=>{"use strict";i.d(v,{J:()=>y});var r=i(40520),u=i(98545),g=i(5e3),C=i(33344);let y=(()=>{class _{constructor(a,c){this.http=a,this.tokenStorage=c}getHeaders(){var a=new r.WM,c=this.tokenStorage.getToken();return a.set("token",c||"{}")}getAll(a){var c=this.getHeaders();const d=a?(new r.LE).appendAll(a):null;return this.http.get(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.RECEPTIONS,{params:d,headers:c})}getReception(a){var c=this.getHeaders();return this.http.get(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.RECEPTIONS+"/"+a,{headers:c})}create(a){var c=this.getHeaders();return this.http.post(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.RECEPTIONS,a,{headers:c})}update(a){var c=this.getHeaders();return this.http.put(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.RECEPTIONS+"/"+a.reception_id,a,{headers:c})}delete(a){var c=this.getHeaders();return this.http.delete(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.RECEPTIONS+"/"+a.reception_id,{headers:c})}getMyInvoices(a){var c=this.getHeaders();return this.http.get(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.MY_INVOICES+"/"+a,{headers:c})}file(a){var c=this.getHeaders();return a.status=0,this.http.patch(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.RECEPTIONS+"/"+a.reception_id,a,{headers:c})}dettach(a){var c=this.getHeaders();const d=(new r.LE).appendAll(a);return this.http.delete(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.RECEPTIONS,{params:d,headers:c})}getTinySummary(a){var c=this.getHeaders();const d=(new r.LE).appendAll(a);return this.http.get(u._.settings.apiServer.API_URL_BASE+"/receptions_tiny_summary",{params:d,headers:c})}getReceptionDocument(a){var c=this.getHeaders();return this.http.get(u._.settings.apiServer.API_URL_BASE+"/reception_documents/"+a.document_id,{headers:c})}createReceptionDocument(a){var c=this.getHeaders();return this.http.post(u._.settings.apiServer.API_URL_BASE+"/reception_documents",a,{headers:c})}updateReceptionDocument(a){var c=this.getHeaders();return this.http.put(u._.settings.apiServer.API_URL_BASE+"/reception_documents/"+a.reception_id,a,{headers:c})}deleteReceptionDocument(a){var c=this.getHeaders();return this.http.delete(u._.settings.apiServer.API_URL_BASE+"/reception_documents/"+a.document_id,{headers:c})}}return _.\u0275fac=function(a){return new(a||_)(g.LFG(r.eN),g.LFG(C.i))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2728:(A,v,i)=>{"use strict";i.d(v,{v:()=>y});var r=i(40520),u=i(98545),g=i(5e3),C=i(33344);let y=(()=>{class _{constructor(a,c){this.http=a,this.tokenStorage=c}getHeaders(){var a=new r.WM,c=this.tokenStorage.getToken();return a.set("token",c||"{}")}getAll(a){var c=this.getHeaders();const d=(new r.LE).appendAll(a);return this.http.get(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.TRANSACTIONS,{params:d,headers:c})}getServerTimestamp(){var a=this.getHeaders();return this.http.get(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.CURRENT_TIMESTAMP,{headers:a})}setCharged(a){var c=this.getHeaders();return this.http.patch(u._.settings.apiServer.API_URL_BASE+u._.settings.apiServer.TRANSACTIONS,a,{headers:c})}getTinySummary(a){var c=this.getHeaders();const d=(new r.LE).appendAll(a);return this.http.get(u._.settings.apiServer.API_URL_BASE+"/transactions_tiny_summary",{params:d,headers:c})}}return _.\u0275fac=function(a){return new(a||_)(g.LFG(r.eN),g.LFG(C.i))},_.\u0275prov=g.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},94327:function(A,v){var u;void 0!==(u=function(){"use strict";function C(d,m,x){var f=new XMLHttpRequest;f.open("GET",d),f.responseType="blob",f.onload=function(){c(f.response,m,x)},f.onerror=function(){console.error("could not download file")},f.send()}function y(d){var m=new XMLHttpRequest;m.open("HEAD",d,!1);try{m.send()}catch(x){}return 200<=m.status&&299>=m.status}function _(d){try{d.dispatchEvent(new MouseEvent("click"))}catch(x){var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(m)}}var h="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=h.saveAs||("object"!=typeof window||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(d,m,x){var f=h.URL||h.webkitURL,T=document.createElement("a");T.download=m=m||d.name||"download",T.rel="noopener","string"==typeof d?(T.href=d,T.origin===location.origin?_(T):y(T.href)?C(d,m,x):_(T,T.target="_blank")):(T.href=f.createObjectURL(d),setTimeout(function(){f.revokeObjectURL(T.href)},4e4),setTimeout(function(){_(T)},0))}:"msSaveOrOpenBlob"in navigator?function(d,m,x){if(m=m||d.name||"download","string"!=typeof d)navigator.msSaveOrOpenBlob(function g(d,m){return void 0===m?m={autoBom:!1}:"object"!=typeof m&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\ufeff",d],{type:d.type}):d}(d,x),m);else if(y(d))C(d,m,x);else{var f=document.createElement("a");f.href=d,f.target="_blank",setTimeout(function(){_(f)})}}:function(d,m,x,f){if((f=f||open("","_blank"))&&(f.document.title=f.document.body.innerText="downloading..."),"string"==typeof d)return C(d,m,x);var T="application/octet-stream"===d.type,I=/constructor/i.test(h.HTMLElement)||h.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||T&&I||a)&&"undefined"!=typeof FileReader){var O=new FileReader;O.onloadend=function(){var b=O.result;b=R?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=b:location=b,f=null},O.readAsDataURL(d)}else{var M=h.URL||h.webkitURL,e=M.createObjectURL(d);f?f.location=e:location.href=e,f=null,setTimeout(function(){M.revokeObjectURL(e)},4e4)}});h.saveAs=c.saveAs=c,A.exports=c}.apply(v,[]))&&(A.exports=u)}}]);