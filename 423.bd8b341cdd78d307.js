"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[423],{88914:(A,g,s)=>{s.d(g,{M:()=>r});var e=s(41777);const r=(0,e.X$)("fadeInRight",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateX(-2vw)",opacity:0}),(0,e.jt)("0.4s cubic-bezier(0.35, 0, 0.25, 1)",(0,e.oB)({transform:"translateX(0)",opacity:1}))])])},14499:(A,g,s)=>{s.d(g,{X:()=>r});var e=s(41777);const r=(0,e.X$)("fadeInUp",[(0,e.eR)(":enter",[(0,e.oB)({transform:"translateY(3vh)",opacity:0}),(0,e.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,e.oB)({transform:"translateY(0)",opacity:1}))])])},37425:(A,g,s)=>{s.d(g,{K:()=>r});var e=s(41777);const r=(0,e.X$)("scaleIn",[(0,e.eR)(":enter",[(0,e.oB)({transform:"scale(0)"}),(0,e.jt)("400ms cubic-bezier(0.35, 0, 0.25, 1)",(0,e.oB)({transform:"scale(1)"}))])])},38932:(A,g,s)=>{s.d(g,{n:()=>t});var e=s(5e3),r=s(30277),_=s(3299),d=s(69808),m=s(25245);function u(n,o){if(1&n&&(e.TgZ(0,"div",7),e.TgZ(1,"mat-icon",5),e._uU(2,"chevron_right"),e.qZA(),e.TgZ(3,"div",6),e._uU(4),e.qZA(),e.qZA()),2&n){const c=o.$implicit;e.xp6(4),e.Oqu(c)}}const S=function(){return["/"]};let t=(()=>{class n{constructor(){this.crumbs=[]}ngOnInit(){}}return n.\u0275fac=function(c){return new(c||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["fury-breadcrumbs"]],inputs:{current:"current",crumbs:"crumbs"},decls:11,vars:5,consts:[[1,"title"],["fxLayout","row","fxLayoutAlign","start center",1,"crumbs"],[1,"crumb","home",3,"routerLink"],["class","crumb","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb","current"],[1,"chevron"],[1,"link"],["fxLayout","row","fxLayoutAlign","start center",1,"crumb"]],template:function(c,v){1&c&&(e.TgZ(0,"div",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1),e.TgZ(3,"a",2),e._uU(4,"Home"),e.qZA(),e.YNc(5,u,5,1,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"mat-icon",5),e._uU(8,"chevron_right"),e.qZA(),e.TgZ(9,"div",6),e._uU(10),e.qZA(),e.qZA(),e.qZA()),2&c&&(e.xp6(1),e.Oqu(v.current),e.xp6(2),e.Q6J("routerLink",e.DdM(4,S)),e.xp6(2),e.Q6J("ngForOf",v.crumbs),e.xp6(5),e.Oqu(v.current))},directives:[r.xw,r.Wh,_.yS,d.sg,m.Hw],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{font:var(--font-title);font-weight:400}.crumb[_ngcontent-%COMP%], .link[_ngcontent-%COMP%]{text-decoration:none;transition:color .4s cubic-bezier(.25,.8,.25,1);font:var(--font-body-1)}.link[_ngcontent-%COMP%]{cursor:pointer}.chevron[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px;margin-left:6px;margin-right:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}"]}),n})()},94927:(A,g,s)=>{s.d(g,{n:()=>U});var e=s(5e3),r=s(23753),_=s(75778),d=s(80013),m=s(69808),u=s(92181),S=s(30277),t=s(25245),n=s(47423),o=s(77446),c=s(93075);const v=["filter"];function I(T,a){if(1&T&&(e.TgZ(0,"div",5),e.TgZ(1,"div",6),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e.TgZ(4,"mat-icon",8),e._uU(5,"search"),e.qZA(),e._UZ(6,"input",9,10),e.qZA(),e.TgZ(8,"button",11),e.TgZ(9,"mat-icon"),e._uU(10,"filter_list"),e.qZA(),e.qZA(),e.Hsn(11,1),e.qZA()),2&T){const E=e.oxw(),P=e.MAs(3);e.xp6(2),e.Oqu(E.name),e.xp6(6),e.Q6J("matMenuTriggerFor",P)}}function R(T,a){if(1&T){const E=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(y){const O=e.CHM(E).$implicit;return e.oxw().toggleColumnVisibility(O,y)}),e.TgZ(1,"mat-checkbox",13,14),e.NdJ("ngModelChange",function(y){return e.CHM(E).$implicit.visible=y})("click",function(y){return y.stopPropagation()}),e._uU(3),e.qZA(),e.qZA()}if(2&T){const E=a.$implicit;e.xp6(1),e.Q6J("ngModel",E.visible),e.xp6(2),e.hij(" ",E.name," ")}}const C=["*",[["",8,"actions"]]],L=["*",".actions"];let U=(()=>{class T{constructor(){this.filterChange=new e.vpe}ngAfterViewInit(){this.hideHeader||(0,r.R)(this.filter.nativeElement,"keyup").pipe((0,_.x)(),(0,d.b)(150)).subscribe(()=>{this.filterChange.emit(this.filter.nativeElement.value)})}toggleColumnVisibility(E,P){P.stopPropagation(),P.stopImmediatePropagation(),E.visible=!E.visible}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275cmp=e.Xpm({type:T,selectors:[["fury-list"]],viewQuery:function(E,P){if(1&E&&e.Gf(v,5),2&E){let y;e.iGM(y=e.CRH())&&(P.filter=y.first)}},inputs:{name:"name",columns:"columns",hideHeader:"hideHeader"},outputs:{filterChange:"filterChange"},ngContentSelectors:L,decls:6,vars:2,consts:[[1,"fury-list-table"],["class","fury-list-header","fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",4,"ngIf"],["yPosition","below","xPosition","before"],["columnFilter","matMenu"],["class","checkbox-item mat-menu-item",3,"click",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","8px","fxLayoutGap.gt-xs","24px",1,"fury-list-header"],[1,"fury-list-name"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],[1,"fury-filter-input-icon"],["fxFlex","","placeholder","Search\u2026",1,"fury-filter-input"],["filter",""],["type","button","mat-icon-button","",1,"fury-column-filter",3,"matMenuTriggerFor"],[1,"checkbox-item","mat-menu-item",3,"click"],[1,"checkbox",3,"ngModel","ngModelChange","click"],["checkbox",""]],template:function(E,P){1&E&&(e.F$t(C),e.TgZ(0,"div",0),e.YNc(1,I,12,2,"div",1),e.TgZ(2,"mat-menu",2,3),e.YNc(4,R,4,2,"button",4),e.qZA(),e.Hsn(5),e.qZA()),2&E&&(e.xp6(1),e.Q6J("ngIf",!P.hideHeader),e.xp6(3),e.Q6J("ngForOf",P.columns))},directives:[m.O5,u.VK,m.sg,S.xw,S.Wh,S.SQ,S.yH,t.Hw,n.lW,u.p6,o.oG,c.JJ,c.On],styles:[".fury-list-table{display:flex;flex-direction:column}.fury-list-table .fury-list-header{padding-left:24px;padding-right:24px;height:64px;border-top-left-radius:8px;border-top-right-radius:8px}@media screen and (max-width: 599px){.fury-list-table .fury-list-header{height:auto;padding-top:24px;padding-bottom:24px}}.fury-list-table .fury-list-header .fury-list-name{font-size:20px;line-height:32px;font-weight:500;padding-right:24px}@media screen and (max-width: 599px){.fury-list-table .fury-list-header .fury-list-name{border-right:none}}.fury-list-table .fury-list-header .fury-filter-input{font-size:16px;line-height:1.125;border:none;height:32px}.fury-list-table .fury-list-header .fury-filter-input:focus{outline:none}.fury-list-table .fury-list-header .fury-filter-input-icon{width:1.2em;vertical-align:bottom;height:22px;font-size:22px;margin-right:8px}.fury-list-table table{width:100%}.fury-list-table .mat-header-row .mat-header-cell .mat-sort-header-button{text-transform:uppercase}.fury-list-table .mat-cell.image-cell,.fury-list-table .mat-header-cell.image-cell{flex:0;width:59px}.fury-list-table .mat-cell.image-cell img,.fury-list-table .mat-header-cell.image-cell img{border-radius:50%;height:35px;width:35px;margin-right:24px;vertical-align:middle}.fury-list-table .mat-cell,.fury-list-table .mat-header-cell{white-space:nowrap;padding-left:12px;padding-right:12px}.fury-list-table .mat-cell.actions-cell,.fury-list-table .mat-header-cell.actions-cell{flex:0;width:40px;overflow:visible}.fury-list-table .paginator{display:block}\n"],encapsulation:2}),T})()},4940:(A,g,s)=>{s.d(g,{p:()=>m});var e=s(69808),r=s(93075),_=s(7057),d=s(5e3);let m=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=d.oAB({type:u}),u.\u0275inj=d.cJS({imports:[[e.ez,_.q,r.u5]]}),u})()},19165:(A,g,s)=>{s.d(g,{d:()=>r});var e=s(5e3);let r=(()=>{class _{constructor(){}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=e.lG2({type:_,selectors:[["","furyPageLayoutContent",""],["fury-page-layout-content"]],hostAttrs:[1,"fury-page-layout-content"]}),_})()},53580:(A,g,s)=>{s.d(g,{U:()=>r});var e=s(5e3);let r=(()=>{class _{constructor(){}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=e.lG2({type:_,selectors:[["","furyPageLayoutHeader",""],["fury-page-layout-header"]],hostAttrs:[1,"fury-page-layout-header"]}),_})()},39762:(A,g,s)=>{s.d(g,{N:()=>r});var e=s(5e3);let r=(()=>{class _{constructor(){this.mode="simple"}get isCard(){return"card"===this.mode}get isSimple(){return"simple"===this.mode}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=e.lG2({type:_,selectors:[["","furyPageLayout",""],["fury-page-layout"]],hostAttrs:[1,"fury-page-layout"],hostVars:4,hostBindings:function(m,u){2&m&&e.ekj("fury-page-layout-card",u.isCard)("fury-page-layout-simple",u.isSimple)},inputs:{mode:"mode"}}),_})()},59968:(A,g,s)=>{s.d(g,{i:()=>r});var e=s(5e3);let r=(()=>{class _{constructor(){}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275dir=e.lG2({type:_,selectors:[["","furyPage",""],["fury-page"]],hostAttrs:[1,"fury-page"]}),_})()},423:(A,g,s)=>{s.r(g),s.d(g,{TemplatesTableModule:()=>le});var e=s(69808),r=s(93075),_=s(61264),d=s(4940),m=s(7057),u=s(72467),S=s(3299),t=s(86087),n=s(84847),o=s(32075),c=s(96831),v=s(92198),I=s(88914),R=s(14499),C=s(70655),L=s(48966),U=s(37425);class T{constructor(l){this.template_id=l&&l.template_id||null,this.template_name=l&&l.template_name||null,this.type=l&&l.type||null,this.schedule_time=l&&l.schedule_time||null,this.report_title=l&&l.report_title||null,this.records_per_page=l&&l.records_per_page||null,this.stations=l&&l.stations||null,this.products=l&&l.products||null,this.from_date=l&&l.from_date||null,this.from_time=l&&l.from_time||null,this.to_date=l&&l.to_date||null,this.to_time=l&&l.to_time||null,this.fleets=l&&l.fleets||null,this.areas=l&&l.areas||null,this.models=l&&l.models||null,this.means=l&&l.means||null,this.min_quantity=l&&l.min_quantity||null,this.max_quantity=l&&l.max_quantity||null,this.from_temperature=l&&l.from_temperature||null,this.to_temperature=l&&l.to_temperature||null,this.from_transaction=l&&l.from_transaction||null,this.to_transaction=l&&l.to_transaction||null,this.control_type=l&&l.control_type||null,this.cre_permissions=l&&l.cre_permissions||null,this.default=l&&l.default||null,this.user_id=l&&l.user_id||null,this.timestamp=l&&l.timestamp||null}}var a=s(5e3),E=s(57261),P=s(40520),y=s(98545),D=s(33344);let O=(()=>{class p{constructor(i,h){this.http=i,this.tokenStorage=h}getHeaders(){var i=new P.WM,h=this.tokenStorage.getToken();return i.set("token",h||"{}")}getAll(){var i=this.getHeaders();return this.http.get(y._.settings.apiServer.API_URL_BASE+y._.settings.apiServer.TEMPLATES,{headers:i})}create(i){var h=this.getHeaders();return this.http.post(y._.settings.apiServer.API_URL_BASE+y._.settings.apiServer.TEMPLATES,i,{headers:h})}getTemplate(i){var h=this.getHeaders();const f=(new P.LE).appendAll({template:i.template_id});return this.http.put(y._.settings.apiServer.API_URL_BASE+y._.settings.apiServer.TEMPLATES,{params:f,headers:h})}update(i){var h=this.getHeaders();const f=(new P.LE).appendAll({template:i.template_id});return this.http.put(y._.settings.apiServer.API_URL_BASE+y._.settings.apiServer.TEMPLATES,i,{params:f,headers:h})}}return p.\u0275fac=function(i){return new(i||p)(a.LFG(P.eN),a.LFG(D.i))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var B=s(52190),H=s(9360),N=s(82593),F=s(58527),W=s(17846),w=s(15702),Z=s(95288),K=s(59968);let x=(()=>{class p{constructor(i,h,f,M,b,pe,de,_e,ue,ce,he,ge){this.data=i,this.dialogRef=h,this.dialog=f,this.snackbar=M,this._templatesService=b,this._stationsService=pe,this._productsService=de,this._fleetsService=_e,this._areasService=ue,this._modelsService=ce,this._meansService=he,this._crePermissionsService=ge,this.report_types=["consumos","recepciones","rendimientos","ieps","marimbas"],this.stations=[],this.products=[],this.fleets=[],this.areas=[],this.models=[],this.means=[],this.cre_permissions=[],this.filter={},this.generalFormGroup=new r.cw({template_id:new r.NI,template_name:new r.NI("",[r.kI.required]),type:new r.NI(null,[r.kI.required]),default:new r.NI(!0,[r.kI.required]),report_title:new r.NI,records_per_page:new r.NI(100)}),this.theTemplate=new T,this.detailFormGroup=new r.cw({stations:new r.NI([]),products:new r.NI([]),from_date:new r.NI,from_time:new r.NI,to_date:new r.NI,to_time:new r.NI,fleets:new r.NI([]),areas:new r.NI([]),models:new r.NI([]),means:new r.NI([]),min_quantity:new r.NI,max_quantity:new r.NI,from_temperature:new r.NI,to_temperature:new r.NI,from_transaction:new r.NI,to_transaction:new r.NI,control_type:new r.NI,cre_permissions:new r.NI([])})}ngOnInit(){return(0,C.mG)(this,void 0,void 0,function*(){null!=this.data&&(this.theTemplate=new T(this.data),this.prepareDetailsByType(this.theTemplate.type),"consumos"===this.theTemplate.type&&this.detailFormGroup.setValue({}),"recepciones"===this.theTemplate.type&&this.detailFormGroup.setValue({}),"rendimientos"===this.theTemplate.type&&this.detailFormGroup.setValue({}),"ieps"===this.theTemplate.type&&this.detailFormGroup.setValue({}),"marimbas"===this.theTemplate.type&&this.detailFormGroup.setValue({}))})}getStations(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this._stationsService.getAll().toPromise()})}getProducts(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this._productsService.getAll().toPromise()})}getFleets(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this._fleetsService.getAll().toPromise()})}getAreas(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this._areasService.getAll(this.filter).toPromise()})}getModels(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this._modelsService.getAllModelsByAreas(this.filter).toPromise()})}getMeans(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this._meansService.getFiltered(this.filter).toPromise()})}getCrePermissions(){return(0,C.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAllByType(1).toPromise()})}createTemplate(){this._templatesService.create(this.theTemplate).subscribe(i=>{this.theTemplate.template_id=i.template_id,this.snackbar.open(i.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.theTemplate)},i=>{this.snackbar.open(i.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}integerOnly(i){return/^[1-9][0-9]*?$/.test(i.key)}numericOnly(i){let h=i.target.value+i.key;return!!new RegExp(/^([1-9][0-9]{0,7}||[0]||[0][.][0-9]{0,2}||[1-9][0-9]{0,7}[.][0-9]{0,2})$/).test(h)}prepareDetailsByType(i){console.log(i)}setGeneralFormGroup(){this.generalFormGroup.setValue({})}submit(){this.theTemplate.type=this.generalFormGroup.value.type,this.theTemplate.template_name=this.generalFormGroup.value.template_name,this.theTemplate.template_id>0?this.updateTemplate():this.createTemplate()}updateTemplate(){this._templatesService.update(this.theTemplate).subscribe(i=>{this.snackbar.open(i.message,null,{duration:5e3,panelClass:["green-snackbar"]}),this.dialogRef.close(this.theTemplate)},i=>{this.snackbar.open(i.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(L.WI),a.Y36(L.so),a.Y36(L.uw),a.Y36(E.ux),a.Y36(O),a.Y36(B.w),a.Y36(H.s),a.Y36(N.V),a.Y36(F.E),a.Y36(W.c),a.Y36(w._),a.Y36(Z.w))},p.\u0275cmp=a.Xpm({type:p,selectors:[["templates-wizard"]],decls:1,vars:0,template:function(i,h){1&i&&a._UZ(0,"fury-page")},directives:[K.i],styles:[".title[_ngcontent-%COMP%]{color:#000}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:hidden;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:12px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.copyright[_ngcontent-%COMP%]{position:absolute;bottom:24px;right:24px;color:#fff}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}"],data:{animation:[R.X,I.M,U.K]}}),p})();var k=s(39762),G=s(53580),z=s(38932),Y=s(19165),J=s(94927),Q=s(47423),$=s(25245);function j(p,l){if(1&p&&(a.TgZ(0,"th",14),a._uU(1),a.qZA()),2&p){const i=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",i.name,"")}}function V(p,l){if(1&p&&(a.TgZ(0,"td",15),a._uU(1),a.qZA()),2&p){const i=l.$implicit,h=a.oxw(2).$implicit,f=a.oxw();a.xp6(1),a.Oqu(f.getLabel(h.name,i[h.property]))}}function X(p,l){if(1&p&&(a.ynx(0,11),a.YNc(1,j,2,1,"th",12),a.YNc(2,V,2,1,"td",13),a.BQk()),2&p){const i=a.oxw().$implicit;a.Q6J("matColumnDef",i.property)}}function q(p,l){if(1&p&&(a.ynx(0),a.YNc(1,X,3,1,"ng-container",10),a.BQk()),2&p){const i=l.$implicit;a.xp6(1),a.Q6J("ngIf",i.isModelProperty)}}function ee(p,l){1&p&&a._UZ(0,"tr",16)}function te(p,l){if(1&p){const i=a.EpF();a.TgZ(0,"tr",17),a.NdJ("click",function(){const M=a.CHM(i).$implicit;return a.oxw().updateRule(M)}),a.qZA()}}const re=function(){return["Tables"]},se=[{path:"",component:(()=>{class p{constructor(i,h,f,M){this.dialog=i,this._templatesService=h,this._tokenStorageService=f,this.snackbar=M,this.subject$=new c.t(1),this.data$=this.subject$.asObservable(),this.columns=[{name:"Id",property:"template_id",visible:!1,isModelProperty:!0},{name:"Plantilla",property:"template_name",visible:!1,isModelProperty:!0},{name:"Tipo de reporte",property:"type",visible:!0,isModelProperty:!0},{name:"Hora de corte",property:"schedule_time",visible:!0,isModelProperty:!0},{name:"T\xedtulo de reporte",property:"report_title",visible:!0,isModelProperty:!0},{name:"Registros por p\xe1gina",property:"records_per_page",visible:!0,isModelProperty:!0},{name:"Predeterminada",property:"default",visible:!0,isModelProperty:!0},{name:"Usuario",property:"user_id",visible:!1,isModelProperty:!0},{name:"\xdaltima modificaci\xf3n",property:"timestamp",visible:!0,isModelProperty:!0}],this.pageSize=10}getLabel(i,h){if(null!=i)return"Predeterminada"==i?1==h?"Si":"No":h}get visibleColumns(){return this.columns.filter(i=>i.visible).map(i=>i.property)}getData(){this._templatesService.getAll().subscribe(i=>{this.templates=i,this.dataSource=new o.by(i)},i=>{console.log(i)})}ngOnInit(){this.dataSource=new o.by,this.getData(),this.data$.pipe((0,v.h)(i=>!!i)).subscribe(i=>{this.templates=i,this.dataSource.data=i})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}createTemplate(){this.dialog.open(x).afterClosed().subscribe(i=>{i&&(this.subject$.next(this.templates),this.getData(),this.data$.pipe((0,v.h)(h=>!!h)).subscribe(h=>{this.templates=h,this.dataSource.data=h}),this.snackbar.open(i.message,null,{duration:5e3,panelClass:["green-snackbar"]}))},i=>{this.snackbar.open(i.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})}updateTemplate(i){this._templatesService.getTemplate(i.template_id).subscribe(h=>{this.template=h,this.dialog.open(x,{data:this.template}).afterClosed().subscribe(f=>{f&&(this.subject$.next(this.templates),this.getData(),this.data$.pipe((0,v.h)(M=>!!M)).subscribe(M=>{this.templates=M,this.dataSource.data=M}),this.snackbar.open(f.message,null,{duration:5e3,panelClass:["green-snackbar"]}))},f=>{this.snackbar.open(f.error.message,null,{duration:5e3,panelClass:["red-snackbar"]})})},h=>{console.log(h)})}onFilterChange(i){!this.dataSource||(i=(i=i.trim()).toLowerCase(),this.dataSource.filter=i)}ngOnDestroy(){}}return p.\u0275fac=function(i){return new(i||p)(a.Y36(L.uw),a.Y36(O),a.Y36(D.i),a.Y36(E.ux))},p.\u0275cmp=a.Xpm({type:p,selectors:[["templates-table"]],viewQuery:function(i,h){if(1&i&&(a.Gf(t.NW,7),a.Gf(n.YE,7)),2&i){let f;a.iGM(f=a.CRH())&&(h.paginator=f.first),a.iGM(f=a.CRH())&&(h.sort=f.first)}},inputs:{columns:"columns"},decls:14,vars:10,consts:[["mode","card"],["current","Plantillas",3,"crumbs"],["name","Plantillas",3,"columns","filterChange"],[1,"actions"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(i,h){1&i&&(a.TgZ(0,"fury-page-layout",0),a.TgZ(1,"fury-page-layout-header"),a._UZ(2,"fury-breadcrumbs",1),a.qZA(),a.TgZ(3,"fury-page-layout-content"),a.TgZ(4,"fury-list",2),a.NdJ("filterChange",function(M){return h.onFilterChange(M)}),a.TgZ(5,"div",3),a.TgZ(6,"button",4),a.NdJ("click",function(){return h.createTemplate()}),a.TgZ(7,"mat-icon"),a._uU(8,"add"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"table",5),a.YNc(10,q,2,1,"ng-container",6),a.YNc(11,ee,1,0,"tr",7),a.YNc(12,te,1,0,"tr",8),a.qZA(),a._UZ(13,"mat-paginator",9),a.qZA(),a.qZA(),a.qZA()),2&i&&(a.xp6(2),a.Q6J("@fadeInRight",void 0)("crumbs",a.DdM(9,re)),a.xp6(1),a.Q6J("@fadeInUp",void 0),a.xp6(1),a.Q6J("columns",h.columns),a.xp6(5),a.Q6J("dataSource",h.dataSource),a.xp6(1),a.Q6J("ngForOf",h.columns),a.xp6(1),a.Q6J("matHeaderRowDef",h.visibleColumns),a.xp6(1),a.Q6J("matRowDefColumns",h.visibleColumns),a.xp6(1),a.Q6J("pageSize",h.pageSize))},directives:[k.N,G.U,z.n,Y.d,J.n,Q.lW,$.Hw,o.BZ,n.YE,e.sg,o.as,o.nj,t.NW,e.O5,o.w1,o.fO,o.Dz,o.ge,n.nU,o.ev,o.XQ,o.Gk],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[I.M,R.X]}}),p})()}];let ae=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[[S.Bz.forChild(se)],S.Bz]}),p})();const ne=[{path:"",component:x}];let ie=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[[S.Bz.forChild(ne)],S.Bz]}),p})(),oe=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[[e.ez,ie,u.Z,r.UX,m.q]]}),p})(),le=(()=>{class p{}return p.\u0275fac=function(i){return new(i||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[[e.ez,ae,r.u5,m.q,u.Z,oe,d.p,_.J]]}),p})()},58527:(A,g,s)=>{s.d(g,{E:()=>m});var e=s(40520),r=s(98545),_=s(5e3),d=s(33344);let m=(()=>{class u{constructor(t,n){this.http=t,this.tokenStorage=n}getHeaders(){var t=new e.WM,n=this.tokenStorage.getToken();return t.set("token",n||"{}")}getAll(t){var n=this.getHeaders();const o=(new e.LE).appendAll(t);return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.AREAS,{params:o,headers:n})}getArea(t){var n=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.AREAS+"/"+t,{headers:n})}createArea(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.AREAS,t,{headers:n})}updateArea(t){var n=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.AREAS+"/"+t.id,t,{headers:n})}deleteArea(t){var n=this.getHeaders();return this.http.delete(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.AREAS+"/"+t.id,{headers:n})}getCostCenters(t){var n=this.getHeaders();const o=(new e.LE).appendAll(t);return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.COST_CENTERS,{params:o,headers:n})}}return u.\u0275fac=function(t){return new(t||u)(_.LFG(e.eN),_.LFG(d.i))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},95288:(A,g,s)=>{s.d(g,{w:()=>m});var e=s(40520),r=s(98545),_=s(5e3),d=s(33344);let m=(()=>{class u{constructor(t,n){this.http=t,this.tokenStorage=n}getHeaders(){var t=new e.WM,n=this.tokenStorage.getToken();return t.set("token",n||"{}")}getAll(){var t=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CRE_PERMISSIONS,{headers:t})}create(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CRE_PERMISSIONS,t,{headers:n})}update(t){var n=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CRE_PERMISSIONS+"/"+t.permission_id,t,{headers:n})}getCurrencies(){var t=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CURRENCIES,{headers:t})}getUnitsOfMeasure(t){var n=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.UNITS_OF_MEASURE+"?type="+t,{headers:n})}getCrePermissionTypes(){var t=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CRE_PERMISSION_TYPES,{headers:t})}getAllByType(t){var n=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CRE_PERMISSIONS+"?cre_permission_type="+t,{headers:n})}getCrePermission(t){var n=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CRE_PERMISSIONS+"/"+t,{headers:n})}}return u.\u0275fac=function(t){return new(t||u)(_.LFG(e.eN),_.LFG(d.i))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},82593:(A,g,s)=>{s.d(g,{V:()=>m});var e=s(40520),r=s(98545),_=s(5e3),d=s(33344);let m=(()=>{class u{constructor(t,n){this.http=t,this.tokenStorage=n,this.baseendpoint=r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.FLEETS}getHeaders(){var t=new e.WM,n=this.tokenStorage.getToken();return t.set("token",n||"{}")}getAll(){var t=this.getHeaders();return this.http.get(this.baseendpoint,{headers:t})}getFiltered(t){var n=this.getHeaders();const o=(new e.LE).appendAll(t);return this.http.get(this.baseendpoint,{headers:n,params:o})}create(t){var n=this.getHeaders();return this.http.post(this.baseendpoint,t,{headers:n})}update(t){var n=this.getHeaders();return this.http.put(this.baseendpoint+"/"+t.id,t,{headers:n})}updateCvConfiguration(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.CV_CONFIGURATIONS,t,{headers:n})}}return u.\u0275fac=function(t){return new(t||u)(_.LFG(e.eN),_.LFG(d.i))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},15702:(A,g,s)=>{s.d(g,{_:()=>m});var e=s(40520),r=s(98545),_=s(5e3),d=s(33344);let m=(()=>{class u{constructor(t,n){this.http=t,this.tokenStorage=n}getHeaders(){var t=new e.WM,n=this.tokenStorage.getToken();return t.set("token",n||"{}")}getFromId(t){var n=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MEANS+"/"+t,{headers:n})}getFiltered(t){var n=this.getHeaders();const o=(new e.LE).appendAll(t);return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MEANS,{params:o,headers:n})}getAll(){var t=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MEANS,{headers:t})}getEfficiencies(t){var n=this.getHeaders();const o=(new e.LE).appendAll(t);return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MEANS_EFFICIENCIES,{params:o,headers:n})}getEfficienciesFromId(t,n){var o=this.getHeaders();const c=(new e.LE).appendAll(n);return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MEANS_EFFICIENCIES+"/"+t,{params:c,headers:o})}create(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MEANS,t,{headers:n})}update(t){var n=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MEANS+"/"+t.id,t,{headers:n})}}return u.\u0275fac=function(t){return new(t||u)(_.LFG(e.eN),_.LFG(d.i))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},17846:(A,g,s)=>{s.d(g,{c:()=>m});var e=s(40520),r=s(98545),_=s(5e3),d=s(33344);let m=(()=>{class u{constructor(t,n){this.http=t,this.tokenStorage=n}getHeaders(){var t=new e.WM,n=this.tokenStorage.getToken();return t.set("token",n||"{}")}getAllModels(){var t=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MODELS,{headers:t})}getAllModelsByCompanyId(t){var n=this.getHeaders();const o=(new e.LE).appendAll({company_id:t});return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MODELS,{params:o,headers:n})}getAllModelsByAreas(t){var n=this.getHeaders();const o=(new e.LE).appendAll(t);return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MODELS,{params:o,headers:n})}getModel(t){var n=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MODELS+"/"+t,{headers:n})}createModel(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MODELS,t,{headers:n})}updateModel(t){var n=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.MODELS+"/"+t.id,t,{headers:n})}getAllCompanies(){var t=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.COMPANIES,{headers:t})}createCompany(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.COMPANIES,t,{headers:n})}updateCompany(t){var n=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.COMPANIES+"/"+t.id,t,{headers:n})}getAllEquipmentClasses(){var t=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.EQUIPMENT_CLASSES,{headers:t})}createEquipmentClass(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.EQUIPMENT_CLASSES,t,{headers:n})}updateEquipmentClass(t){var n=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.EQUIPMENT_CLASSES+"/"+t.id,t,{headers:n})}}return u.\u0275fac=function(t){return new(t||u)(_.LFG(e.eN),_.LFG(d.i))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},9360:(A,g,s)=>{s.d(g,{s:()=>m});var e=s(40520),r=s(98545),_=s(5e3),d=s(33344);let m=(()=>{class u{constructor(t,n){this.http=t,this.tokenStorage=n}getHeaders(){var t=new e.WM,n=this.tokenStorage.getToken();return t.set("token",n||"{}")}getAll(t){var n=this.getHeaders();if(null!=t){const c=(new e.LE).appendAll(t);var o=this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS,{params:c,headers:n})}else o=this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS,{headers:n});return o}getProduct(t){var n=this.getHeaders();return this.http.get(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS+"/"+t,{headers:n})}createProduct(t){var n=this.getHeaders();return this.http.post(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS,t,{headers:n})}updateProduct(t){var n=this.getHeaders();return this.http.put(r._.settings.apiServer.API_URL_BASE+r._.settings.apiServer.PRODUCTS+"/"+t.id,t,{headers:n})}}return u.\u0275fac=function(t){return new(t||u)(_.LFG(e.eN),_.LFG(d.i))},u.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},52190:(A,g,s)=>{s.d(g,{w:()=>S});var e=s(40520),r=s(46227),_=s(27221),d=s(98545),m=s(5e3),u=s(33344);let S=(()=>{class t{constructor(o,c){this.http=o,this.tokenStorage=c}getHeaders(){var o=new e.WM,c=this.tokenStorage.getToken();return o.set("token",c||"{}")}getAll(o){var c=this.getHeaders();const v=(new e.LE).appendAll(o?{type:o}:{});return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS,{params:v,headers:c})}create(o){var c=this.getHeaders();return this.http.post(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS,o,{headers:c}).pipe((0,r.V)(1e4),(0,_.K)(v=>{throw"Error de conexi\xf3n. Detalles: "+v}))}update(o){var c=this.getHeaders();return this.http.put(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS+"/"+o.site_code,o,{headers:c}).pipe((0,r.V)(1e4),(0,_.K)(v=>{throw"Error de conexi\xf3n. Detalles: "+v}))}delete(o){var c=this.getHeaders();return this.http.delete(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS+"/"+o.site_code,{headers:c})}getRemoteProducts(o){var c=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.REMOTE_PRODUCTS+"/"+o.site_code,{headers:c}).pipe((0,r.V)(1e4),(0,_.K)(v=>{throw"Error de conexi\xf3n. Detalles: "+v}))}getRemoteTanks(o){var c=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+"/remoteTanks/"+o.site_code,{headers:c}).pipe((0,r.V)(1e4),(0,_.K)(v=>{throw"Error de conexi\xf3n. Detalles: "+v}))}getMapOfProducts(o){var c=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.PRODUCTS_MAPS+"/"+o.site_code,{headers:c})}setMapOfProducts(o,c){var v=this.getHeaders();return this.http.post(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.PRODUCTS_MAPS+"/"+c,o,{headers:v})}setTanksT(o){var c=this.getHeaders();return console.log(typeof o),this.http.post(d._.settings.apiServer.API_URL_BASE+"/remoteTanks",o,{headers:c})}getDevicesStatus(o){var c=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.DEVICES_STATUS+"?site_code="+o,{headers:c})}getAllTanksStatus(){var o=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATUS_TANKS,{headers:o})}getTanksStatus(o){var c=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATUS_TANKS+"/"+o,{headers:c})}getPumpsStatus(o){var c=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATUS_PUMPS+"/"+o,{headers:c})}getPumps(o){var c=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.PUMPS+"/"+o,{headers:c})}syncSingle(o,c){var v=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.SYNC+"?site_code="+o+"&stub="+c,{headers:v}).pipe((0,r.V)(1e4),(0,_.K)(I=>{throw"Error de conexi\xf3n. Detalles: "+I}))}getMarimbas(){var o=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.MARIMBAS,{headers:o})}updateIndexes(o){var c=this.getHeaders();return console.log(c),this.http.put(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.INDEXES,o,{headers:c})}}return t.\u0275fac=function(o){return new(o||t)(m.LFG(e.eN),m.LFG(u.i))},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);