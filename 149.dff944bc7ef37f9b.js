"use strict";(self.webpackChunkfury=self.webpackChunkfury||[]).push([[149],{40149:(Z,E,o)=>{o.r(E),o.d(E,{RecepcionesModule:()=>Ae});var n=o(69808),a=o(93075),v=o(61264),d=o(4940),y=o(7057),f=o(72467),T=o(3299),r=o(70655),p=o(14499),s=o(88914),m=o(37425),M=o(86087),R=o(84847),O=o(32075),b=o(48966),N=o(96831),H=o(92198),L=o(96166),J=o(12983),G=o.n(J),e=o(5e3),W=o(59410),F=o(2728),u=o(33344),C=o(53580),c=o(30277),h=o(36551),P=o(47423),U=o(25245),k=o(19165),q=o(94927),Q=o(92181);function j(i,_){if(1&i&&(e.TgZ(0,"th",20),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function $(i,_){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=_.$implicit,l=e.oxw(2).$implicit,g=e.oxw();e.xp6(1),e.Oqu(g.getLabel(l.name,t[l.property]))}}function V(i,_){if(1&i&&(e.ynx(0,17),e.YNc(1,j,2,1,"th",18),e.YNc(2,$,2,1,"td",19),e.BQk()),2&i){const t=e.oxw().$implicit;e.Q6J("matColumnDef",t.property)}}function X(i,_){if(1&i&&(e.TgZ(0,"th",20),e._uU(1),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.name)}}function ee(i,_){if(1&i&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&i){const t=_.$implicit,l=e.oxw(2).$implicit,g=e.oxw();e.xp6(1),e.Oqu(g.getLabel(l.name,t[l.property]))}}function te(i,_){if(1&i&&(e.ynx(0,17),e.YNc(1,X,2,1,"th",18),e.YNc(2,ee,2,1,"td",19),e.BQk()),2&i){const t=e.oxw().$implicit;e.Q6J("matColumnDef",t.property)}}function ne(i,_){if(1&i&&(e.ynx(0),e.YNc(1,V,3,1,"ng-container",16),e.YNc(2,te,3,1,"ng-container",16),e.BQk()),2&i){const t=_.$implicit;e.xp6(1),e.Q6J("ngIf",t.isModelProperty&&!t.displayFn),e.xp6(1),e.Q6J("ngIf",t.isModelProperty&&t.displayFn)}}function oe(i,_){1&i&&e._UZ(0,"th",22)}function re(i,_){if(1&i&&(e.TgZ(0,"td",23),e.TgZ(1,"button",24),e.NdJ("click",function(l){return l.stopPropagation()}),e.TgZ(2,"mat-icon"),e._uU(3,"more_horiz"),e.qZA(),e.qZA(),e._UZ(4,"mat-menu",25,26),e.qZA()),2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function ie(i,_){1&i&&e._UZ(0,"tr",27)}function ae(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"tr",28),e.NdJ("click",function(){const x=e.CHM(t).$implicit;return e.oxw().details(x)}),e.qZA()}}let K=(()=>{class i{constructor(t,l,g,x){this.data=t,this._exporterService=l,this._transactionsService=g,this._tokenStorageService=x,this.subject$=new N.t(1),this.data$=this.subject$.asObservable(),this.bloqueable=!0,this.columns=[{name:"Id recepci\xf3n",property:"reception_id",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Proveedor",property:"provider_name",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Fecha",property:"timestamp",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Estatus",property:"status",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Facturas",property:"number_of_invoices",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Remisiones",property:"number_of_remissions",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Lecturas TLS",property:"number_of_tank_delivery_readings",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Pesajes",property:"number_of_weighing_machine_readings",visible:!0,isModelProperty:!0,displayFn:!0},{name:"An\xe1lisis qu\xedmicos",property:"number_of_chemical_product_analyses",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Litros facturas",property:"liters_invoices",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Litros remisiones",property:"liters_remissions",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Litros TLS",property:"liters_tls",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Litros bomba",property:"liters_pump_delivery",visible:!0,isModelProperty:!0,displayFn:!0},{name:"Peso",property:"delivery_weight",visible:!0,isModelProperty:!0,displayFn:!0}],this.pageSize=200}getLabel(t,l){if(null!=t)return"Id recepci\xf3n"===t||"Proveedor"===t||"Fecha"===t||"Facturas"===t||"Remisiones"===t||"Lecturas TLS"===t||"Pesajes"===t||"An\xe1lisis qu\xedmicos"===t?l:"Estatus"===t?0==l?"Cerrada":"En proceso":this.round(isNaN(l)?0:l)}get visibleColumns(){return this.columns.filter(t=>t.visible).map(t=>t.property)}getData(){this.receptions_list=this.data.receptions_list,this.dataSource=new O.by(this.receptions_list),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnInit(){this.pageSize=this.data.parameters.page_size,this.dataSource=new O.by,this._transactionsService.getServerTimestamp().subscribe(t=>{this.datetime=t.message}),this.getData(),this.data$.pipe((0,H.h)(t=>!!t)).subscribe(t=>{this.receptions_list=t,this.dataSource.data=t})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}onFilterChange(t){!this.dataSource||(t=(t=t.trim()).toLowerCase(),this.dataSource.filter=t)}round(t){return(Math.round(100*t)/100).toFixed(2)}pdfMe(){var t=[],l=[],g=[],x=[];this.columns.forEach(I=>{I.visible&&(l.push({title:I.name,dataKey:I.property}),g.push(I.property),x.push(I.name))});var A=0;this.dataSource.filteredData.forEach(I=>{t[A]={},g.forEach(z=>{t[A][z]=""+I[z]}),A++});var S=new L.jsPDF({orientation:"landscape",unit:"mm",format:"letter"});S.setFillColor("#152235"),S.roundedRect(10,15,260,30,2,2,"DF"),S.setFontSize(11),S.setTextColor("white"),S.text(this.data.parameters.report_title,15,38),S.setFontSize(9),S.text("Periodo de "+this.data.filter.from_date+" a "+this.data.filter.to_date,15,43),S.addImage("../../../../../assets/img/maacsa.png","PNG",15,20,62,10.3),S.addImage("../../../../../assets/img/logo-grupo-mexico.png","PNG",200,20,63.4,17.6),S.setFontSize(8),S.text("Generado por "+this._tokenStorageService.getUser().user+"("+this._tokenStorageService.getUser().name+") el "+this.datetime,180,43),G()(S,{body:t,columns:l,startY:50,headStyles:{fontStyle:"bold",fillColor:"#152235",halign:"center"}}),S.save("recepciones.pdf")}excelMe(){var t=[],l=[],g=[],x=[];this.columns.forEach(S=>{S.visible&&(l.push({title:S.name,dataKey:S.property}),g.push(S.property),x.push(S.name))});var A=0;this.dataSource.filteredData.forEach(S=>{t[A]={},g.forEach(I=>{t[A][I]=""+S[I]}),A++}),this._exporterService.exportToExcel(t,"recepciones")}ngOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.WI),e.Y36(W.M),e.Y36(F.v),e.Y36(u.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["recepciones-modal-table"]],viewQuery:function(t,l){if(1&t&&(e.Gf(M.NW,7),e.Gf(R.YE,7)),2&t){let g;e.iGM(g=e.CRH())&&(l.paginator=g.first),e.iGM(g=e.CRH())&&(l.sort=g.first)}},inputs:{columns:"columns"},decls:22,vars:10,consts:[["fxLayout","row","fxLayoutGap","8px",1,"content"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","end",1,"buttons-set"],["type","button","mat-mini-fab","","color","primary",1,"create",3,"click"],["svgIcon","excel"],["svgIcon","pdf"],[1,"page-modal"],["name","Rendimientos",3,"columns","filterChange"],["mat-table","","matSort","",3,"dataSource"],[4,"ngFor","ngForOf"],["matColumnDef","actions"],["class","actions-cell","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","actions-cell","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","clickable route-animations-elements","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"paginator",3,"pageSize"],[3,"matColumnDef",4,"ngIf"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"actions-cell"],["mat-cell","",1,"actions-cell"],["type","button","mat-icon-button","",3,"matMenuTriggerFor","click"],["yPosition","below","xPosition","before"],["actionsMenu","matMenu"],["mat-header-row",""],["mat-row","",1,"clickable","route-animations-elements",3,"click"]],template:function(t,l){1&t&&(e.TgZ(0,"fury-page-layout-header"),e.TgZ(1,"div",0),e.TgZ(2,"div",1),e.TgZ(3,"fury-title"),e._uU(4),e.qZA(),e.TgZ(5,"fury-title"),e._uU(6),e.qZA(),e.qZA(),e.TgZ(7,"div",2),e.TgZ(8,"button",3),e.NdJ("click",function(){return l.excelMe()}),e._UZ(9,"mat-icon",4),e.qZA(),e.TgZ(10,"button",3),e.NdJ("click",function(){return l.pdfMe()}),e._UZ(11,"mat-icon",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"fury-page-layout-content",6),e.TgZ(13,"fury-list",7),e.NdJ("filterChange",function(x){return l.onFilterChange(x)}),e.TgZ(14,"table",8),e.YNc(15,ne,3,2,"ng-container",9),e.ynx(16,10),e.YNc(17,oe,1,0,"th",11),e.YNc(18,re,6,1,"td",12),e.BQk(),e.YNc(19,ie,1,0,"tr",13),e.YNc(20,ae,1,0,"tr",14),e.qZA(),e._UZ(21,"mat-paginator",15),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Oqu(l.data.parameters.report_title),e.xp6(2),e.AsE("Periodo de ",l.data.filter.from_date," a ",l.data.filter.to_date,""),e.xp6(6),e.Q6J("@fadeInUp",void 0),e.xp6(1),e.Q6J("columns",l.columns),e.xp6(1),e.Q6J("dataSource",l.dataSource),e.xp6(1),e.Q6J("ngForOf",l.columns),e.xp6(4),e.Q6J("matHeaderRowDef",l.visibleColumns),e.xp6(1),e.Q6J("matRowDefColumns",l.visibleColumns),e.xp6(1),e.Q6J("pageSize",l.pageSize))},directives:[C.U,c.xw,c.SQ,h.M,c.Wh,P.lW,U.Hw,k.d,q.n,O.BZ,R.YE,n.sg,O.w1,O.fO,O.Dz,O.as,O.nj,M.NW,n.O5,O.ge,R.nU,O.ev,Q.p6,Q.VK,O.XQ,O.Gk],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}.title[_ngcontent-%COMP%]{color:#000}.page-modal[_ngcontent-%COMP%]{overflow:scroll;max-height:600px;margin:24px;padding:2px;box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.page-modal[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.page-modal[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.page-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:5px}.page-modal[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:12px}.page-modal[_ngcontent-%COMP%]   .information-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:100%}.page-modal[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]{border-radius:10px;padding:10px;border:solid gray;border-top-width:thin;border-right-width:thin;border-bottom-width:thin;border-left-width:thin;width:410px}.page-modal[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px}.page-modal[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;width:245px}.page-modal[_ngcontent-%COMP%]   .validation-block[_ngcontent-%COMP%]   .input-text[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;width:245px}.page-modal[_ngcontent-%COMP%]   .text-icon[_ngcontent-%COMP%]{max-width:49.5%}.page-modal[_ngcontent-%COMP%]   .indented-right[_ngcontent-%COMP%]{margin-left:40px}.page-modal[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:24px;padding:24px 8px 0}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}.numerical[_ngcontent-%COMP%]{text-align:end}.fury-title[_ngcontent-%COMP%]{color:#f5f5f5}.buttons-set[_ngcontent-%COMP%]{margin-left:60px}.buttons-set[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{text-align:center;width:70px;height:70px}.buttons-set[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:40px;height:40px}"],data:{animation:[s.M,p.X]}}),i})();var se=o(95288),le=o(9360),pe=o(52190),ce=o(92824),de=o(39762),me=o(38932),B=o(67322),Y=o(77531),D=o(86856),ge=o(74107),_e=o(90508);function ue(i,_){if(1&i&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&i){const t=_.$implicit;e.Q6J("value",t.site_code),e.xp6(1),e.Oqu(t.station_name)}}function he(i,_){if(1&i&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&i){const t=_.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function fe(i,_){if(1&i&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&i){const t=_.$implicit;e.Q6J("value",t.permission_id),e.xp6(1),e.Oqu(t.provider_name)}}function ve(i,_){if(1&i){const t=e.EpF();e.TgZ(0,"form",5),e.TgZ(1,"div",6),e.TgZ(2,"mat-form-field",7),e.TgZ(3,"mat-label"),e._uU(4,"T\xedtulo de reporte:"),e.qZA(),e._UZ(5,"input",8),e.qZA(),e.TgZ(6,"mat-form-field",7),e.TgZ(7,"mat-label"),e._uU(8,"Registros por p\xe1gina:"),e.qZA(),e.TgZ(9,"input",9),e.NdJ("keypress",function(g){return e.CHM(t),e.oxw().numericOnly(g)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"mat-form-field",7),e.TgZ(12,"mat-label"),e._uU(13,"Desde Fecha:"),e.qZA(),e._UZ(14,"input",10),e.TgZ(15,"mat-datepicker-toggle",11),e.TgZ(16,"mat-icon",12),e._uU(17,"date_range"),e.qZA(),e.qZA(),e._UZ(18,"mat-datepicker",13,14),e.qZA(),e.TgZ(20,"mat-form-field",7),e.TgZ(21,"mat-label"),e._uU(22,"Hasta fecha:"),e.qZA(),e._UZ(23,"input",15),e.TgZ(24,"mat-datepicker-toggle",11),e.TgZ(25,"mat-icon",12),e._uU(26,"date_range"),e.qZA(),e.qZA(),e._UZ(27,"mat-datepicker",13,16),e.qZA(),e.qZA(),e.TgZ(29,"div",6),e.TgZ(30,"mat-form-field",7),e.TgZ(31,"mat-label"),e._uU(32,"Estaciones:"),e.qZA(),e.TgZ(33,"mat-select",17),e.NdJ("selectionChange",function(g){return e.CHM(t),e.oxw().onChangeStation(g.value)}),e.YNc(34,ue,2,2,"mat-option",18),e.qZA(),e.qZA(),e.TgZ(35,"mat-form-field",7),e.TgZ(36,"mat-label"),e._uU(37,"Productos:"),e.qZA(),e.TgZ(38,"mat-select",19),e.YNc(39,he,2,2,"mat-option",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(40,"div",6),e.TgZ(41,"mat-form-field",7),e.TgZ(42,"mat-label"),e._uU(43,"M\xednima cantidad de litros:"),e.qZA(),e.TgZ(44,"input",20),e.NdJ("keypress",function(g){return e.CHM(t),e.oxw().numericOnly(g)}),e.qZA(),e.qZA(),e.TgZ(45,"mat-form-field",7),e.TgZ(46,"mat-label"),e._uU(47,"M\xe1xima cantidad de litros:"),e.qZA(),e.TgZ(48,"input",21),e.NdJ("keypress",function(g){return e.CHM(t),e.oxw().numericOnly(g)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(49,"div",22),e.TgZ(50,"mat-form-field",7),e.TgZ(51,"mat-label"),e._uU(52,"Proveedores:"),e.qZA(),e.TgZ(53,"mat-select",23),e.YNc(54,fe,2,2,"mat-option",18),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",24),e.TgZ(56,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().submit()}),e._uU(57,"CONSULTAR"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=e.MAs(19),l=e.MAs(28),g=e.oxw();e.Q6J("formGroup",g.filterFormGroup),e.xp6(14),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t),e.xp6(8),e.Q6J("matDatepicker",l),e.xp6(1),e.Q6J("for",l),e.xp6(10),e.Q6J("ngForOf",g.stations),e.xp6(5),e.Q6J("ngForOf",g.products),e.xp6(15),e.Q6J("ngForOf",g.cre_permissions),e.xp6(2),e.Q6J("disabled",g.filterFormGroup.invalid)}}const Me=function(){return["Tables"]},Se=[{path:"",component:(()=>{class i{constructor(t,l,g,x,A){this.dialog=t,this._crePermissionsService=l,this._productsService=g,this._stationsService=x,this._receptionsService=A,this.stations=[],this.products=[],this.cre_permissions=[],this.receptions_list=[],this.filter={stations:"",products:"",cre_permissions:"",stations_names:"",products_names:"",from_total_quantity:null,to_total_quantity:null,from_date:"",to_date:""},this.filterFormGroup=new a.cw({page_size:new a.NI(100,[a.kI.required]),report_title:new a.NI("Reporte de recepciones"),from_date:new a.NI(new Date),to_date:new a.NI(new Date),stations:new a.NI([]),products:new a.NI([]),cre_permissions:new a.NI([]),from_total_quantity:new a.NI(""),to_total_quantity:new a.NI("")})}ngOnInit(){return(0,r.mG)(this,void 0,void 0,function*(){this.stations=yield this.getStations(),this.products=yield this.getProducts(),this.cre_permissions=yield this.getCrePermissions()})}getStations(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this._stationsService.getAll().toPromise()})}getProducts(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this._productsService.getAll(this.filter).toPromise()})}getCrePermissions(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this._crePermissionsService.getAll().toPromise()})}getReceptionsList(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this._receptionsService.getAll(this.filter).toPromise()})}submit(){return(0,r.mG)(this,void 0,void 0,function*(){var t=[];this.filterFormGroup.controls.stations.value.forEach(x=>{t.push(this.stations.find(A=>A.site_code==x).station_name)});var l=[];this.filterFormGroup.controls.products.value.forEach(x=>{let A=this.products.find(S=>x==S.id);l.push(A.name)}),this.filter={},this.filter={from_date:this.getMysqlDate(this.filterFormGroup.controls.from_date.value),to_date:this.getMysqlDate(this.filterFormGroup.controls.to_date.value),stations:this.filterFormGroup.controls.stations.value.toString(),products:this.filterFormGroup.controls.products.value.toString(),cre_permissions:this.filterFormGroup.controls.cre_permissions.value.toString(),stations_names:t.toString(),products_names:l.toString(),from_total_quantity:this.filterFormGroup.controls.from_total_quantity.value,to_total_quantity:this.filterFormGroup.controls.to_total_quantity.value},this.receptions_list=yield this.getReceptionsList();var g={parameters:{report_title:this.filterFormGroup.controls.report_title.value,page_size:this.filterFormGroup.controls.page_size.value},filter:this.filter,receptions_list:this.receptions_list};console.log(g),this.dialog.open(K,{data:g}).afterClosed().subscribe(x=>{x&&console.log("Cerrada la tabla reporte "+x)})})}numericOnly(t){let l=t.target.value+t.key;return!!new RegExp(/^([1-9][0-9]{0,7}||[0]||[0][.][0-9]{0,2}||[1-9][0-9]{0,7}[.][0-9]{0,2})$/).test(l)}onChangeStation(t){return(0,r.mG)(this,void 0,void 0,function*(){this.filter.stations=this.filterFormGroup.controls.stations.value.toString(),this.filter.products="",this.products=[],this.products=yield this.getProducts()})}getMysqlDate(t){return t.getFullYear()+"-"+("0"+(t.getMonth()+1)).slice(-2)+"-"+("0"+t.getDate()).slice(-2)}onFocusProducts(){return(0,r.mG)(this,void 0,void 0,function*(){this.products=[],this.products=yield this.getProducts()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.uw),e.Y36(se.w),e.Y36(le.s),e.Y36(pe.w),e.Y36(ce.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["recepciones"]],decls:7,vars:5,consts:[["mode","card"],["current","Reporte de rendimientos",3,"crumbs"],[1,"card"],[1,"heading"],["class","filter-form",3,"formGroup",4,"ngIf"],[1,"filter-form",3,"formGroup"],["fxLayout","row","fxLayoutGap","8px",1,"content"],["appearance","outline","fxFlex","auto"],["formControlName","report_title","required","","matInput",""],["type","number","formControlName","page_size","required","","matInput","",3,"keypress"],["matInput","","formControlName","from_date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matDatepickerToggleIcon",""],["color","primary"],["fromDate",""],["matInput","","formControlName","to_date","required","",3,"matDatepicker"],["toDate",""],["formControlName","stations","multiple","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","products","multiple",""],["type","number","formControlName","from_total_quantity","matInput","",3,"keypress"],["type","number","formControlName","to_total_quantity","matInput","",3,"keypress"],["fxLayout","column","fxLayoutGap","8px",1,"content"],["formControlName","cre_permissions","multiple",""],["fxLayout","row","fxLayoutAlign","end center","fxLayoutGap","8px",1,"actions"],["color","primary","mat-raised-button","",3,"disabled","click"],[3,"value"]],template:function(t,l){1&t&&(e.TgZ(0,"fury-page-layout",0),e.TgZ(1,"fury-page-layout-header"),e._UZ(2,"fury-breadcrumbs",1),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e._uU(5,"Configurar reporte:"),e.qZA(),e.YNc(6,ve,58,9,"form",4),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("@fadeInRight",void 0)("crumbs",e.DdM(4,Me)),e.xp6(1),e.Q6J("@fadeInUp",void 0),e.xp6(3),e.Q6J("ngIf",l.filterFormGroup))},directives:[de.N,C.U,me.n,n.O5,a._Y,a.JL,a.sg,c.xw,c.SQ,B.KE,c.yH,B.hX,a.Fj,Y.Nt,a.JJ,a.u,a.Q7,a.wV,D.hl,D.nW,B.R9,U.Hw,D.Q0,D.Mq,ge.gD,n.sg,c.Wh,P.lW,_e.ey],styles:[".title[_ngcontent-%COMP%]{color:#fff}.card[_ngcontent-%COMP%]{margin:24px;max-width:100%;border-radius:8px;overflow:scroll;padding:20px;box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font:var(--font-title)}.card[_ngcontent-%COMP%]   .subheading[_ngcontent-%COMP%]{font:var(--font-subheading-1)}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin:3px 0}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{min-width:50%}.card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{padding:8px;width:50%}.card[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]{margin-top:24px;padding:10px}.card[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:0;padding:0 8px}.readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed!important}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none!important}.label-area[_ngcontent-%COMP%]{position:relative;font-size:11px;font-family:Roboto;font-weight:400;top:12px;color:#0009;background:white;z-index:1;width:30px;margin:-16px 10px 0!important}.label-radio[_ngcontent-%COMP%]{position:relative;font-size:11px;font-family:Roboto;font-weight:400;top:6px;color:#0009;background:white;z-index:1;width:90px;height:10px;margin:-16px 10px 0!important}.radio[_ngcontent-%COMP%]{display:inline-grid;width:100%;height:52px;border-style:solid;border-width:1px;border-radius:6px;border-color:#e0e0e0;margin-top:4px;min-width:50%}.tree-filter[_ngcontent-%COMP%]{display:inline-grid;width:100%;height:60px}.tree-filter[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{border:none}.tree-filter[_ngcontent-%COMP%]   .mat-select-placeholder[_ngcontent-%COMP%]{color:#000;margin-bottom:15px}.tree-filter[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]{display:none}.tree-filter[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{text-align:left}"],data:{animation:[s.M,p.X,m.K]}}),i})()}];let Ce=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[T.Bz.forChild(Se)],T.Bz]}),i})();var xe=o(61620);const Pe=[{path:"",component:K}];let Te=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[T.Bz.forChild(Pe)],T.Bz]}),i})(),ye=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[n.ez,a.u5,a.UX,y.q,xe.o9,b.Is,Y.c,P.ot,U.Ps,Te,f.Z,d.p]]}),i})();var w=o(70024),Oe=o(79207);let Ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[n.ez,Ce,a.u5,a.UX,v.J,d.p,y.q,f.Z,ye,w.EC,w.Yy,w.K,D.FA,Oe.rU]]}),i})()},95288:(Z,E,o)=>{o.d(E,{w:()=>y});var n=o(40520),a=o(98545),v=o(5e3),d=o(33344);let y=(()=>{class f{constructor(r,p){this.http=r,this.tokenStorage=p}getHeaders(){var r=new n.WM,p=this.tokenStorage.getToken();return r.set("token",p||"{}")}getAll(){var r=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.CRE_PERMISSIONS,{headers:r})}create(r){var p=this.getHeaders();return this.http.post(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.CRE_PERMISSIONS,r,{headers:p})}update(r){var p=this.getHeaders();return this.http.put(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.CRE_PERMISSIONS+"/"+r.permission_id,r,{headers:p})}getCurrencies(){var r=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.CURRENCIES,{headers:r})}getUnitsOfMeasure(r){var p=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.UNITS_OF_MEASURE+"?type="+r,{headers:p})}getCrePermissionTypes(){var r=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.CRE_PERMISSION_TYPES,{headers:r})}getAllByType(r){var p=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.CRE_PERMISSIONS+"?cre_permission_type="+r,{headers:p})}}return f.\u0275fac=function(r){return new(r||f)(v.LFG(n.eN),v.LFG(d.i))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},9360:(Z,E,o)=>{o.d(E,{s:()=>y});var n=o(40520),a=o(98545),v=o(5e3),d=o(33344);let y=(()=>{class f{constructor(r,p){this.http=r,this.tokenStorage=p}getHeaders(){var r=new n.WM,p=this.tokenStorage.getToken();return r.set("token",p||"{}")}getAll(r){var p=this.getHeaders();if(null!=r){const m=(new n.LE).appendAll(r);var s=this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.PRODUCTS,{params:m,headers:p})}else s=this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.PRODUCTS,{headers:p});return s}getProduct(r){var p=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.PRODUCTS+"/"+r,{headers:p})}createProduct(r){var p=this.getHeaders();return this.http.post(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.PRODUCTS,r,{headers:p})}updateProduct(r){var p=this.getHeaders();return this.http.put(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.PRODUCTS+"/"+r.id,r,{headers:p})}}return f.\u0275fac=function(r){return new(r||f)(v.LFG(n.eN),v.LFG(d.i))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},92824:(Z,E,o)=>{o.d(E,{J:()=>y});var n=o(40520),a=o(98545),v=o(5e3),d=o(33344);let y=(()=>{class f{constructor(r,p){this.http=r,this.tokenStorage=p}getHeaders(){var r=new n.WM,p=this.tokenStorage.getToken();return r.set("token",p||"{}")}getAll(r){var p=this.getHeaders();const s=r?(new n.LE).appendAll(r):null;return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.RECEPTIONS,{params:s,headers:p})}getReception(r){var p=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.RECEPTIONS+"/"+r,{headers:p})}create(r){var p=this.getHeaders();return this.http.post(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.RECEPTIONS,r,{headers:p})}update(r){var p=this.getHeaders();return this.http.put(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.RECEPTIONS+"/"+r.reception_id,r,{headers:p})}getMyInvoices(r){var p=this.getHeaders();return this.http.get(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.MY_INVOICES+"/"+r,{headers:p})}file(r){var p=this.getHeaders();return this.http.patch(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.RECEPTIONS+"/"+r.reception_id,r,{headers:p})}dettach(r){var p=this.getHeaders();const s=(new n.LE).appendAll(r);return this.http.delete(a._.settings.apiServer.API_URL_BASE+a._.settings.apiServer.RECEPTIONS,{params:s,headers:p})}getTinySummary(r){var p=this.getHeaders();const s=(new n.LE).appendAll(r);return this.http.get(a._.settings.apiServer.API_URL_BASE+"/receptions_tiny_summary",{params:s,headers:p})}}return f.\u0275fac=function(r){return new(r||f)(v.LFG(n.eN),v.LFG(d.i))},f.\u0275prov=v.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},52190:(Z,E,o)=>{o.d(E,{w:()=>T});var n=o(40520),a=o(46227),v=o(27221),d=o(98545),y=o(5e3),f=o(33344);let T=(()=>{class r{constructor(s,m){this.http=s,this.tokenStorage=m}getHeaders(){var s=new n.WM,m=this.tokenStorage.getToken();return s.set("token",m||"{}")}getAll(s){var m=this.getHeaders();const M=(new n.LE).appendAll(s?{type:s}:{});return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS,{params:M,headers:m})}create(s){var m=this.getHeaders();return this.http.post(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS,s,{headers:m}).pipe((0,a.V)(1e4),(0,v.K)(M=>{throw"Error de conexi\xf3n. Detalles: "+M}))}update(s){var m=this.getHeaders();return this.http.put(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS+"/"+s.site_code,s,{headers:m}).pipe((0,a.V)(1e4),(0,v.K)(M=>{throw"Error de conexi\xf3n. Detalles: "+M}))}delete(s){var m=this.getHeaders();return this.http.delete(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATIONS+"/"+s.site_code,{headers:m})}getRemoteProducts(s){var m=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.REMOTE_PRODUCTS+"/"+s.site_code,{headers:m}).pipe((0,a.V)(1e4),(0,v.K)(M=>{throw"Error de conexi\xf3n. Detalles: "+M}))}getRemoteTanks(s){var m=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+"/remoteTanks/"+s.site_code,{headers:m}).pipe((0,a.V)(1e4),(0,v.K)(M=>{throw"Error de conexi\xf3n. Detalles: "+M}))}getMapOfProducts(s){var m=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.PRODUCTS_MAPS+"/"+s.site_code,{headers:m})}setMapOfProducts(s,m){var M=this.getHeaders();return this.http.post(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.PRODUCTS_MAPS+"/"+m,s,{headers:M})}setTanksT(s){var m=this.getHeaders();return console.log(typeof s),this.http.post(d._.settings.apiServer.API_URL_BASE+"/remoteTanks",s,{headers:m})}getDevicesStatus(s){var m=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.DEVICES_STATUS+"?site_code="+s,{headers:m})}getAllTanksStatus(){var s=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATUS_TANKS,{headers:s})}getTanksStatus(s){var m=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATUS_TANKS+"/"+s,{headers:m})}getPumpsStatus(s){var m=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.STATUS_PUMPS+"/"+s,{headers:m})}getPumps(s){var m=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.PUMPS+"/"+s,{headers:m})}syncSingle(s,m){var M=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.SYNC+"?site_code="+s+"&stub="+m,{headers:M}).pipe((0,a.V)(1e4),(0,v.K)(R=>{throw"Error de conexi\xf3n. Detalles: "+R}))}getMarimbas(){var s=this.getHeaders();return this.http.get(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.MARIMBAS,{headers:s})}updateIndexes(s){var m=this.getHeaders();return console.log(m),this.http.put(d._.settings.apiServer.API_URL_BASE+d._.settings.apiServer.INDEXES,s,{headers:m})}}return r.\u0275fac=function(s){return new(s||r)(y.LFG(n.eN),y.LFG(f.i))},r.\u0275prov=y.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},79207:(Z,E,o)=>{o.d(E,{bl:()=>e,rU:()=>F});var n=o(5e3),a=o(28258),v=o(93075),d=o(90149),y=o(21086),f=o(67322),T=o(74107),r=o(90508),p=o(47423),s=o(25245),m=o(69808),M=o(77531);function R(u,C){if(1&u&&(n.TgZ(0,"mat-tree-node",5),n.TgZ(1,"mat-option",6),n.TgZ(2,"p",7),n._uU(3),n.qZA(),n.qZA(),n.qZA()),2&u){const c=C.$implicit;n.xp6(1),n.Q6J("title",c.name)("value",c),n.xp6(2),n.hij(" ",c.name," ")}}function O(u,C){if(1&u&&(n.TgZ(0,"p",14),n._uU(1),n.qZA()),2&u){const c=n.oxw().$implicit,h=n.oxw();n.xp6(1),n.hij(" ",h.heading+" "+c.name,"")}}function b(u,C){if(1&u&&(n.TgZ(0,"mat-nested-tree-node"),n.TgZ(1,"div",8),n.TgZ(2,"button",9),n.TgZ(3,"mat-icon",10),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"mat-option",11),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"ul"),n.YNc(8,O,2,1,"p",12),n.GkF(9,13),n.qZA(),n.qZA()),2&u){const c=C.$implicit,h=n.oxw();n.xp6(2),n.uIk("aria-label","toggle "+c.name),n.xp6(2),n.hij(" ",h.nestedTreeControl.isExpanded(c)?"expand_more":"chevron_right"," "),n.xp6(1),n.Q6J("title",c.name)("disabled",!h.canSelectParentNode)("value",c),n.xp6(1),n.hij(" ",c.name," "),n.xp6(1),n.ekj("example-tree-invisible",!h.nestedTreeControl.isExpanded(c)),n.xp6(1),n.Q6J("ngIf",""!==h.heading)}}const N=["*"];let e=(()=>{class u{constructor(){this.controlName={},this.options=[],this.placeholder="",this.multiple=!1,this.heading="",this.canSelectParentNode=!0,this._getChildren=c=>(0,y.of)(c.children),this.hasNestedChild=(c,h)=>{var P;return(null===(P=h.children)||void 0===P?void 0:P.length)>0},this.nestedTreeControl=new a.VY(this._getChildren),this.nestedDataSource=new d.WX}ngOnInit(){this.nestedDataSource.data=this.options}ngOnChanges(c){var h,P;(null===(h=c.options)||void 0===h?void 0:h.currentValue)!==(null===(P=c.options)||void 0===P?void 0:P.previousValue)&&(this.nestedDataSource.data=this.options)}}return u.\u0275fac=function(c){return new(c||u)},u.\u0275cmp=n.Xpm({type:u,selectors:[["ngx-mat-tree-select-input"]],inputs:{controlName:"controlName",options:"options",placeholder:"placeholder",multiple:"multiple",heading:"heading",canSelectParentNode:"canSelectParentNode"},features:[n._Bn([],[{provide:v.gN,useExisting:v.sg}]),n.TTD],ngContentSelectors:N,decls:6,vars:7,consts:[["appearance","outline"],[3,"id","placeholder","multiple","formControlName"],[1,"example-tree","mat-tree-position",3,"dataSource","treeControl"],["class","mat-tree-node",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"mat-tree-node"],[3,"title","value"],[1,"tree_text",2,"margin-left","35px"],[2,"display","flex"],["mat-icon-button","","matTreeNodeToggle","",1,"tree-toggle"],[1,"mat-icon-rtl-mirror"],[1,"mat-tree-node",2,"display","flex",3,"title","disabled","value"],["class","title",4,"ngIf"],["matTreeNodeOutlet",""],[1,"title"]],template:function(c,h){1&c&&(n.F$t(),n.TgZ(0,"mat-form-field",0),n.TgZ(1,"mat-select",1),n.Hsn(2),n.TgZ(3,"mat-tree",2),n.YNc(4,R,4,3,"mat-tree-node",3),n.YNc(5,b,10,9,"mat-nested-tree-node",4),n.qZA(),n.qZA(),n.qZA()),2&c&&(n.xp6(1),n.Q6J("id",h.controlName)("placeholder",h.placeholder)("multiple",h.multiple)("formControlName",h.controlName),n.xp6(2),n.Q6J("dataSource",h.nestedDataSource)("treeControl",h.nestedTreeControl),n.xp6(2),n.Q6J("matTreeNodeDefWhen",h.hasNestedChild))},directives:[f.KE,T.gD,v.JJ,v.u,d.gi,d.fQ,d.uo,r.ey,d.GZ,p.lW,d.eu,s.Hw,m.O5,d.Ar],styles:[".example-tree-invisible[_ngcontent-%COMP%] {\n    display: none;\n}\n.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\n    margin-top: 0;\n    margin-bottom: 0;\n    list-style-type: none;\n}\n.mat-tree[_ngcontent-%COMP%] {\n    width: 100%;\n    margin-top: 15px;\n    box-sizing: border-box;\n}\n.mat-tree[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n    height: 33px;\n    width: 33px;\n    line-height: 33px;\n    color: #777;\n    margin-left: 0px;\n    margin-right: 0px;\n}\n.mattreenodetoggle[_ngcontent-%COMP%] {\n    color: #777;\n}\n.mat-tree-node[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    min-height: 0;\n    position: relative;\n}\n[_nghost-%COMP%]     .mat-option-text {\n    display: flex !important;\n    align-items: center;\n    font-size: 12px;\n    min-height: 0;\n    position: relative;\n}\n.actions[_ngcontent-%COMP%] {\n    display: flex;\n    align-items: center;\n    margin-left: 30px;\n}\n.tree-toggle[_ngcontent-%COMP%] {\n    position: relative;\n}\n.title[_ngcontent-%COMP%] {\n    margin-right: auto;\n    margin-bottom: 0;\n    font-weight: 500;\n    color: #777;\n    align-self: flex-end;\n    font-size: 12px;\n    margin-left: 20px;\n    padding-top: 10px;\n}\n.tree_text[_ngcontent-%COMP%] {\n    margin-bottom: 0;\n    width: 100px;\n    line-height: normal;\n}\nul[_ngcontent-%COMP%] {\n    padding: 0px;\n    margin-bottom: 10px !important;\n    margin-left: 51px;\n}\nmat-tree-node[_ngcontent-%COMP%] {\n    position: relative;\n}\nmat-tree-node[_ngcontent-%COMP%]::after {\n    content: '';\n    position: absolute;\n    left: 0;\n    height: 1px;\n    width: 40px;\n}"]}),u})(),F=(()=>{class u{}return u.\u0275fac=function(c){return new(c||u)},u.\u0275mod=n.oAB({type:u}),u.\u0275inj=n.cJS({imports:[[M.c,f.lN,T.LD,d.dp,s.Ps,m.ez,v.UX,v.u5,p.ot]]}),u})()}}]);